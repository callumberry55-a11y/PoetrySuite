import{c as v,u as j,r as n,s as d,j as e,L as x}from"./index-DSaTw0cA.js";import{P as N}from"./plus-DSQlmcyZ.js";import{C as f}from"./calendar-BRIXopbd.js";const _=v("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),C=[{title:"Morning Ritual",content:"Write about the first hour of your day. Focus on sensory details and small moments of awareness.",prompt_type:"daily",difficulty:"beginner"},{title:"Transformation",content:"Explore a moment of personal change. What was the catalyst? How did you emerge different?",prompt_type:"weekly",difficulty:"intermediate"},{title:"In the Voice of Water",content:"Personify an element of nature. Write from its perspective about witnessing human life.",prompt_type:"challenge",difficulty:"advanced"},{title:"Memory Fragment",content:"Capture a childhood memory using only sensory details. No explanations, just images and feelings.",prompt_type:"daily",difficulty:"beginner"},{title:"Conversations Unspoken",content:"Write the dialogue you wish you could have with someone. What would you say if fear didn't hold you back?",prompt_type:"weekly",difficulty:"intermediate"},{title:"Ekphrastic Challenge",content:"Find a painting or photograph that moves you. Write a poem responding to or entering the image.",prompt_type:"challenge",difficulty:"advanced"},{title:"Weather Within",content:"Describe your current emotional state using only weather metaphors and imagery.",prompt_type:"daily",difficulty:"beginner"},{title:"The Abandoned",content:"Write about an abandoned place you know or imagine. What stories do the empty spaces hold?",prompt_type:"weekly",difficulty:"intermediate"},{title:"Constraint: Lipogram",content:'Write a poem without using the letter "e". Embrace the challenge and find creative solutions.',prompt_type:"challenge",difficulty:"advanced"},{title:"Sound Poem",content:"Write a poem focused entirely on sounds. Use onomatopoeia, rhythm, and auditory imagery.",prompt_type:"daily",difficulty:"intermediate"}];function S({onUsePrompt:g}){const{user:c}=j(),[m,o]=n.useState([]),[y,p]=n.useState(!0),[a,l]=n.useState("all");n.useEffect(()=>{u()},[]);const u=async()=>{p(!0);try{const{data:t,error:r}=await d.from("writing_prompts").select("*").order("active_date",{ascending:!1}).limit(50);if(r)throw r;!t||t.length===0?await b():o(t||[])}catch(t){console.error("Error loading prompts:",t),o([])}finally{p(!1)}},b=async()=>{if(c)try{const t=C.map((s,k)=>({...s,active_date:new Date(Date.now()-k*24*60*60*1e3).toISOString().split("T")[0]})),{data:r,error:i}=await d.from("writing_prompts").insert(t).select();if(i)throw i;o(r||[])}catch(t){console.error("Error initializing prompts:",t)}},w=async()=>{if(!c)return;const t=prompt("Enter prompt title:");if(!t)return;const r=prompt("Enter prompt content:");if(!r)return;const i=prompt("Enter difficulty (beginner/intermediate/advanced):","intermediate");if(i)try{const{error:s}=await d.from("writing_prompts").insert({title:t,content:r,prompt_type:"daily",difficulty:i,active_date:new Date().toISOString().split("T")[0]});if(s)throw s;await u()}catch(s){console.error("Error adding custom prompt:",s)}},h=a==="all"?m:m.filter(t=>t.prompt_type===a);return e.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-900 dark:to-slate-800",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Writing Prompts"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Get inspired and overcome writer's block"})]}),e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(N,{size:18}),"Add Custom"]})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="all"?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:"All"}),e.jsxs("button",{onClick:()=>l("daily"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${a==="daily"?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[e.jsx(f,{size:16}),"Daily"]}),e.jsx("button",{onClick:()=>l("weekly"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="weekly"?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:"Weekly"}),e.jsxs("button",{onClick:()=>l("challenge"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${a==="challenge"?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[e.jsx(_,{size:16}),"Challenges"]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:y?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[h.map(t=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx(x,{className:"text-amber-500 flex-shrink-0",size:20}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:t.title})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ml-2 ${t.difficulty==="beginner"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":t.difficulty==="intermediate"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"}`,children:t.difficulty})]}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-4",children:t.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400",children:[e.jsx(f,{size:14}),new Date(t.active_date).toLocaleDateString()]}),e.jsx("button",{onClick:()=>g(t),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors",children:"Use This Prompt"})]})]})},t.id)),h.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(x,{className:"mx-auto mb-4 text-slate-400",size:48}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"No prompts available"})]})]})})]})}export{S as default};
