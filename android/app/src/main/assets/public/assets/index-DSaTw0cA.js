const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PoemEditor-B0uvt4RP.js","assets/star-DNR7Arxs.js","assets/Library-Dkq0PjAF.js","assets/plus-DSQlmcyZ.js","assets/sparkles-BSW2FsuD.js","assets/search-j1OQYiiI.js","assets/trash-2-DSuqYn0V.js","assets/Analytics-BHO_kimZ.js","assets/trending-up-BaJojG_O.js","assets/calendar-BRIXopbd.js","assets/Settings-oqfgpFzH.js","assets/clock-DTUxbmlB.js","assets/Discover-DdYF_rfw.js","assets/Prompts-7ht-2dsE.js","assets/Forms-YRc0Y6oZ.js","assets/Submissions-BtsmWVmh.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function dv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function hv(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){var o=!1;try{o=this instanceof i}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var Mu={exports:{}},as={},Lu={exports:{}},ge={};var Vf;function fv(){if(Vf)return ge;Vf=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,k={};function x(M,F,ae){this.props=M,this.context=F,this.refs=k,this.updater=ae||w}x.prototype.isReactComponent={},x.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},x.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function P(){}P.prototype=x.prototype;function C(M,F,ae){this.props=M,this.context=F,this.refs=k,this.updater=ae||w}var R=C.prototype=new P;R.constructor=C,b(R,x.prototype),R.isPureReactComponent=!0;var D=Array.isArray,N=Object.prototype.hasOwnProperty,z={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function q(M,F,ae){var le,pe={},de=null,Ee=null;if(F!=null)for(le in F.ref!==void 0&&(Ee=F.ref),F.key!==void 0&&(de=""+F.key),F)N.call(F,le)&&!U.hasOwnProperty(le)&&(pe[le]=F[le]);var be=arguments.length-2;if(be===1)pe.children=ae;else if(1<be){for(var je=Array(be),bt=0;bt<be;bt++)je[bt]=arguments[bt+2];pe.children=je}if(M&&M.defaultProps)for(le in be=M.defaultProps,be)pe[le]===void 0&&(pe[le]=be[le]);return{$$typeof:n,type:M,key:de,ref:Ee,props:pe,_owner:z.current}}function Z(M,F){return{$$typeof:n,type:M.type,key:F,ref:M.ref,props:M.props,_owner:M._owner}}function te(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function ie(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return F[ae]})}var se=/\/+/g;function we(M,F){return typeof M=="object"&&M!==null&&M.key!=null?ie(""+M.key):F.toString(36)}function Te(M,F,ae,le,pe){var de=typeof M;(de==="undefined"||de==="boolean")&&(M=null);var Ee=!1;if(M===null)Ee=!0;else switch(de){case"string":case"number":Ee=!0;break;case"object":switch(M.$$typeof){case n:case e:Ee=!0}}if(Ee)return Ee=M,pe=pe(Ee),M=le===""?"."+we(Ee,0):le,D(pe)?(ae="",M!=null&&(ae=M.replace(se,"$&/")+"/"),Te(pe,F,ae,"",function(bt){return bt})):pe!=null&&(te(pe)&&(pe=Z(pe,ae+(!pe.key||Ee&&Ee.key===pe.key?"":(""+pe.key).replace(se,"$&/")+"/")+M)),F.push(pe)),1;if(Ee=0,le=le===""?".":le+":",D(M))for(var be=0;be<M.length;be++){de=M[be];var je=le+we(de,be);Ee+=Te(de,F,ae,je,pe)}else if(je=v(M),typeof je=="function")for(M=je.call(M),be=0;!(de=M.next()).done;)de=de.value,je=le+we(de,be++),Ee+=Te(de,F,ae,je,pe);else if(de==="object")throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Ee}function he(M,F,ae){if(M==null)return M;var le=[],pe=0;return Te(M,le,"","",function(de){return F.call(ae,de,pe++)}),le}function fe(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var ue={current:null},V={transition:null},G={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:V,ReactCurrentOwner:z};function K(){throw Error("act(...) is not supported in production builds of React.")}return ge.Children={map:he,forEach:function(M,F,ae){he(M,function(){F.apply(this,arguments)},ae)},count:function(M){var F=0;return he(M,function(){F++}),F},toArray:function(M){return he(M,function(F){return F})||[]},only:function(M){if(!te(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ge.Component=x,ge.Fragment=t,ge.Profiler=o,ge.PureComponent=C,ge.StrictMode=i,ge.Suspense=h,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,ge.act=K,ge.cloneElement=function(M,F,ae){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var le=b({},M.props),pe=M.key,de=M.ref,Ee=M._owner;if(F!=null){if(F.ref!==void 0&&(de=F.ref,Ee=z.current),F.key!==void 0&&(pe=""+F.key),M.type&&M.type.defaultProps)var be=M.type.defaultProps;for(je in F)N.call(F,je)&&!U.hasOwnProperty(je)&&(le[je]=F[je]===void 0&&be!==void 0?be[je]:F[je])}var je=arguments.length-2;if(je===1)le.children=ae;else if(1<je){be=Array(je);for(var bt=0;bt<je;bt++)be[bt]=arguments[bt+2];le.children=be}return{$$typeof:n,type:M.type,key:pe,ref:de,props:le,_owner:Ee}},ge.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},ge.createElement=q,ge.createFactory=function(M){var F=q.bind(null,M);return F.type=M,F},ge.createRef=function(){return{current:null}},ge.forwardRef=function(M){return{$$typeof:c,render:M}},ge.isValidElement=te,ge.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:fe}},ge.memo=function(M,F){return{$$typeof:f,type:M,compare:F===void 0?null:F}},ge.startTransition=function(M){var F=V.transition;V.transition={};try{M()}finally{V.transition=F}},ge.unstable_act=K,ge.useCallback=function(M,F){return ue.current.useCallback(M,F)},ge.useContext=function(M){return ue.current.useContext(M)},ge.useDebugValue=function(){},ge.useDeferredValue=function(M){return ue.current.useDeferredValue(M)},ge.useEffect=function(M,F){return ue.current.useEffect(M,F)},ge.useId=function(){return ue.current.useId()},ge.useImperativeHandle=function(M,F,ae){return ue.current.useImperativeHandle(M,F,ae)},ge.useInsertionEffect=function(M,F){return ue.current.useInsertionEffect(M,F)},ge.useLayoutEffect=function(M,F){return ue.current.useLayoutEffect(M,F)},ge.useMemo=function(M,F){return ue.current.useMemo(M,F)},ge.useReducer=function(M,F,ae){return ue.current.useReducer(M,F,ae)},ge.useRef=function(M){return ue.current.useRef(M)},ge.useState=function(M){return ue.current.useState(M)},ge.useSyncExternalStore=function(M,F,ae){return ue.current.useSyncExternalStore(M,F,ae)},ge.useTransition=function(){return ue.current.useTransition()},ge.version="18.3.1",ge}var qf;function bc(){return qf||(qf=1,Lu.exports=fv()),Lu.exports}var Kf;function pv(){if(Kf)return as;Kf=1;var n=bc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,f){var g,y={},v=null,w=null;f!==void 0&&(v=""+f),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(w=h.ref);for(g in h)i.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:c,key:v,ref:w,props:y,_owner:o.current}}return as.Fragment=t,as.jsx=l,as.jsxs=l,as}var Yf;function gv(){return Yf||(Yf=1,Mu.exports=pv()),Mu.exports}var j=gv(),O=bc(),Vo={},ju={exports:{}},yt={},Au={exports:{}},Du={};var Gf;function mv(){return Gf||(Gf=1,(function(n){function e(V,G){var K=V.length;V.push(G);e:for(;0<K;){var M=K-1>>>1,F=V[M];if(0<o(F,G))V[M]=G,V[K]=F,K=M;else break e}}function t(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var G=V[0],K=V.pop();if(K!==G){V[0]=K;e:for(var M=0,F=V.length,ae=F>>>1;M<ae;){var le=2*(M+1)-1,pe=V[le],de=le+1,Ee=V[de];if(0>o(pe,K))de<F&&0>o(Ee,pe)?(V[M]=Ee,V[de]=K,M=de):(V[M]=pe,V[le]=K,M=le);else if(de<F&&0>o(Ee,K))V[M]=Ee,V[de]=K,M=de;else break e}}return G}function o(V,G){var K=V.sortIndex-G.sortIndex;return K!==0?K:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],f=[],g=1,y=null,v=3,w=!1,b=!1,k=!1,x=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(V){for(var G=t(f);G!==null;){if(G.callback===null)i(f);else if(G.startTime<=V)i(f),G.sortIndex=G.expirationTime,e(h,G);else break;G=t(f)}}function D(V){if(k=!1,R(V),!b)if(t(h)!==null)b=!0,fe(N);else{var G=t(f);G!==null&&ue(D,G.startTime-V)}}function N(V,G){b=!1,k&&(k=!1,P(q),q=-1),w=!0;var K=v;try{for(R(G),y=t(h);y!==null&&(!(y.expirationTime>G)||V&&!ie());){var M=y.callback;if(typeof M=="function"){y.callback=null,v=y.priorityLevel;var F=M(y.expirationTime<=G);G=n.unstable_now(),typeof F=="function"?y.callback=F:y===t(h)&&i(h),R(G)}else i(h);y=t(h)}if(y!==null)var ae=!0;else{var le=t(f);le!==null&&ue(D,le.startTime-G),ae=!1}return ae}finally{y=null,v=K,w=!1}}var z=!1,U=null,q=-1,Z=5,te=-1;function ie(){return!(n.unstable_now()-te<Z)}function se(){if(U!==null){var V=n.unstable_now();te=V;var G=!0;try{G=U(!0,V)}finally{G?we():(z=!1,U=null)}}else z=!1}var we;if(typeof C=="function")we=function(){C(se)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,he=Te.port2;Te.port1.onmessage=se,we=function(){he.postMessage(null)}}else we=function(){x(se,0)};function fe(V){U=V,z||(z=!0,we())}function ue(V,G){q=x(function(){V(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){b||w||(b=!0,fe(N))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(V){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var K=v;v=G;try{return V()}finally{v=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=v;v=V;try{return G()}finally{v=K}},n.unstable_scheduleCallback=function(V,G,K){var M=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?M+K:M):K=M,V){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=K+F,V={id:g++,callback:G,priorityLevel:V,startTime:K,expirationTime:F,sortIndex:-1},K>M?(V.sortIndex=K,e(f,V),t(h)===null&&V===t(f)&&(k?(P(q),q=-1):k=!0,ue(D,K-M))):(V.sortIndex=F,e(h,V),b||w||(b=!0,fe(N))),V},n.unstable_shouldYield=ie,n.unstable_wrapCallback=function(V){var G=v;return function(){var K=v;v=G;try{return V.apply(this,arguments)}finally{v=K}}}})(Du)),Du}var Xf;function yv(){return Xf||(Xf=1,Au.exports=mv()),Au.exports}var Qf;function vv(){if(Qf)return yt;Qf=1;var n=bc(),e=yv();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){l(r,s),l(r+"Capture",s)}function l(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(r){return h.call(y,r)?!0:h.call(g,r)?!1:f.test(r)?y[r]=!0:(g[r]=!0,!1)}function w(r,s,u,d){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,s,u,d){if(s===null||typeof s>"u"||w(r,s,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(r,s,u,d,p,m,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=r,this.type=s,this.sanitizeURL=m,this.removeEmptyString=_}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){x[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];x[s]=new k(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){x[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){x[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){x[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){x[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){x[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){x[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){x[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(P,C);x[s]=new k(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(P,C);x[s]=new k(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(P,C);x[s]=new k(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){x[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),x.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){x[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function R(r,s,u,d){var p=x.hasOwnProperty(s)?x[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,u,p,d)&&(u=null),d||p===null?v(s)&&(u===null?r.removeAttribute(s):r.setAttribute(s,""+u)):p.mustUseProperty?r[p.propertyName]=u===null?p.type===3?!1:"":u:(s=p.attributeName,d=p.attributeNamespace,u===null?r.removeAttribute(s):(p=p.type,u=p===3||p===4&&u===!0?"":""+u,d?r.setAttributeNS(d,s,u):r.setAttribute(s,u))))}var D=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),z=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),ie=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),V=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var K=Object.assign,M;function F(r){if(M===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+r}var ae=!1;function le(r,s){if(!r||ae)return"";ae=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(I){var d=I}Reflect.construct(r,[],s)}else{try{s.call()}catch(I){d=I}r.call(s.prototype)}else{try{throw Error()}catch(I){d=I}r()}}catch(I){if(I&&d&&typeof I.stack=="string"){for(var p=I.stack.split(`
`),m=d.stack.split(`
`),_=p.length-1,S=m.length-1;1<=_&&0<=S&&p[_]!==m[S];)S--;for(;1<=_&&0<=S;_--,S--)if(p[_]!==m[S]){if(_!==1||S!==1)do if(_--,S--,0>S||p[_]!==m[S]){var E=`
`+p[_].replace(" at new "," at ");return r.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",r.displayName)),E}while(1<=_&&0<=S);break}}}finally{ae=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?F(r):""}function pe(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=le(r.type,!1),r;case 11:return r=le(r.type.render,!1),r;case 1:return r=le(r.type,!0),r;default:return""}}function de(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case z:return"Portal";case Z:return"Profiler";case q:return"StrictMode";case we:return"Suspense";case Te:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ie:return(r.displayName||"Context")+".Consumer";case te:return(r._context.displayName||"Context")+".Provider";case se:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case he:return s=r.displayName||null,s!==null?s:de(r.type)||"Memo";case fe:s=r._payload,r=r._init;try{return de(r(s))}catch{}}return null}function Ee(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(s);case 8:return s===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function be(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function je(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bt(r){var s=je(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,m=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(_){d=""+_,m.call(this,_)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function As(r){r._valueTracker||(r._valueTracker=bt(r))}function Xc(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var u=s.getValue(),d="";return r&&(d=je(r)?r.checked?"true":"false":r.value),r=d,r!==u?(s.setValue(r),!0):!1}function Ds(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function za(r,s){var u=s.checked;return K({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function Qc(r,s){var u=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;u=be(s.value!=null?s.value:u),r._wrapperState={initialChecked:d,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Jc(r,s){s=s.checked,s!=null&&R(r,"checked",s,!1)}function Fa(r,s){Jc(r,s);var u=be(s.value),d=s.type;if(u!=null)d==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?$a(r,s.type,u):s.hasOwnProperty("defaultValue")&&$a(r,s.type,be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Zc(r,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,u||s===r.value||(r.value=s),r.defaultValue=s}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function $a(r,s,u){(s!=="number"||Ds(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var bi=Array.isArray;function Er(r,s,u,d){if(r=r.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<r.length;u++)p=s.hasOwnProperty("$"+r[u].value),r[u].selected!==p&&(r[u].selected=p),p&&d&&(r[u].defaultSelected=!0)}else{for(u=""+be(u),s=null,p=0;p<r.length;p++){if(r[p].value===u){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Ba(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return K({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ed(r,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(t(92));if(bi(u)){if(1<u.length)throw Error(t(93));u=u[0]}s=u}s==null&&(s=""),u=s}r._wrapperState={initialValue:be(u)}}function td(r,s){var u=be(s.value),d=be(s.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),s.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),d!=null&&(r.defaultValue=""+d)}function nd(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function rd(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ua(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?rd(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Is,id=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,u,d,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Is=Is||document.createElement("div"),Is.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Is.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ki(r,s){if(s){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=s;return}}r.textContent=s}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gy=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(r){gy.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Si[s]=Si[r]})});function sd(r,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||Si.hasOwnProperty(r)&&Si[r]?(""+s).trim():s+"px"}function od(r,s){r=r.style;for(var u in s)if(s.hasOwnProperty(u)){var d=u.indexOf("--")===0,p=sd(u,s[u],d);u==="float"&&(u="cssFloat"),d?r.setProperty(u,p):r[u]=p}}var my=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wa(r,s){if(s){if(my[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ha(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Va=null;function qa(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ka=null,Cr=null,Pr=null;function ad(r){if(r=qi(r)){if(typeof Ka!="function")throw Error(t(280));var s=r.stateNode;s&&(s=so(s),Ka(r.stateNode,r.type,s))}}function ld(r){Cr?Pr?Pr.push(r):Pr=[r]:Cr=r}function ud(){if(Cr){var r=Cr,s=Pr;if(Pr=Cr=null,ad(r),s)for(r=0;r<s.length;r++)ad(s[r])}}function cd(r,s){return r(s)}function dd(){}var Ya=!1;function hd(r,s,u){if(Ya)return r(s,u);Ya=!0;try{return cd(r,s,u)}finally{Ya=!1,(Cr!==null||Pr!==null)&&(dd(),ud())}}function Ei(r,s){var u=r.stateNode;if(u===null)return null;var d=so(u);if(d===null)return null;u=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(t(231,s,typeof u));return u}var Ga=!1;if(c)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){Ga=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{Ga=!1}function yy(r,s,u,d,p,m,_,S,E){var I=Array.prototype.slice.call(arguments,3);try{s.apply(u,I)}catch(B){this.onError(B)}}var Pi=!1,Ns=null,zs=!1,Xa=null,vy={onError:function(r){Pi=!0,Ns=r}};function _y(r,s,u,d,p,m,_,S,E){Pi=!1,Ns=null,yy.apply(vy,arguments)}function wy(r,s,u,d,p,m,_,S,E){if(_y.apply(this,arguments),Pi){if(Pi){var I=Ns;Pi=!1,Ns=null}else throw Error(t(198));zs||(zs=!0,Xa=I)}}function er(r){var s=r,u=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(u=s.return),r=s.return;while(r)}return s.tag===3?u:null}function fd(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function pd(r){if(er(r)!==r)throw Error(t(188))}function xy(r){var s=r.alternate;if(!s){if(s=er(r),s===null)throw Error(t(188));return s!==r?null:r}for(var u=r,d=s;;){var p=u.return;if(p===null)break;var m=p.alternate;if(m===null){if(d=p.return,d!==null){u=d;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===u)return pd(p),r;if(m===d)return pd(p),s;m=m.sibling}throw Error(t(188))}if(u.return!==d.return)u=p,d=m;else{for(var _=!1,S=p.child;S;){if(S===u){_=!0,u=p,d=m;break}if(S===d){_=!0,d=p,u=m;break}S=S.sibling}if(!_){for(S=m.child;S;){if(S===u){_=!0,u=m,d=p;break}if(S===d){_=!0,d=m,u=p;break}S=S.sibling}if(!_)throw Error(t(189))}}if(u.alternate!==d)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?r:s}function gd(r){return r=xy(r),r!==null?md(r):null}function md(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=md(r);if(s!==null)return s;r=r.sibling}return null}var yd=e.unstable_scheduleCallback,vd=e.unstable_cancelCallback,by=e.unstable_shouldYield,ky=e.unstable_requestPaint,$e=e.unstable_now,Sy=e.unstable_getCurrentPriorityLevel,Qa=e.unstable_ImmediatePriority,_d=e.unstable_UserBlockingPriority,Fs=e.unstable_NormalPriority,Ey=e.unstable_LowPriority,wd=e.unstable_IdlePriority,$s=null,Gt=null;function Cy(r){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot($s,r,void 0,(r.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Ry,Py=Math.log,Ty=Math.LN2;function Ry(r){return r>>>=0,r===0?32:31-(Py(r)/Ty|0)|0}var Bs=64,Us=4194304;function Ti(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ws(r,s){var u=r.pendingLanes;if(u===0)return 0;var d=0,p=r.suspendedLanes,m=r.pingedLanes,_=u&268435455;if(_!==0){var S=_&~p;S!==0?d=Ti(S):(m&=_,m!==0&&(d=Ti(m)))}else _=u&~p,_!==0?d=Ti(_):m!==0&&(d=Ti(m));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,m=s&-s,p>=m||p===16&&(m&4194240)!==0))return s;if((d&4)!==0&&(d|=u&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)u=31-Ft(s),p=1<<u,d|=r[u],s&=~p;return d}function Oy(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function My(r,s){for(var u=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,m=r.pendingLanes;0<m;){var _=31-Ft(m),S=1<<_,E=p[_];E===-1?((S&u)===0||(S&d)!==0)&&(p[_]=Oy(S,s)):E<=s&&(r.expiredLanes|=S),m&=~S}}function Ja(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function xd(){var r=Bs;return Bs<<=1,(Bs&4194240)===0&&(Bs=64),r}function Za(r){for(var s=[],u=0;31>u;u++)s.push(r);return s}function Ri(r,s,u){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Ft(s),r[s]=u}function Ly(r,s){var u=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<u;){var p=31-Ft(u),m=1<<p;s[p]=0,d[p]=-1,r[p]=-1,u&=~m}}function el(r,s){var u=r.entangledLanes|=s;for(r=r.entanglements;u;){var d=31-Ft(u),p=1<<d;p&s|r[d]&s&&(r[d]|=s),u&=~p}}var ke=0;function bd(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var kd,tl,Sd,Ed,Cd,nl=!1,Hs=[],Sn=null,En=null,Cn=null,Oi=new Map,Mi=new Map,Pn=[],jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pd(r,s){switch(r){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Oi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(s.pointerId)}}function Li(r,s,u,d,p,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:u,eventSystemFlags:d,nativeEvent:m,targetContainers:[p]},s!==null&&(s=qi(s),s!==null&&tl(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Ay(r,s,u,d,p){switch(s){case"focusin":return Sn=Li(Sn,r,s,u,d,p),!0;case"dragenter":return En=Li(En,r,s,u,d,p),!0;case"mouseover":return Cn=Li(Cn,r,s,u,d,p),!0;case"pointerover":var m=p.pointerId;return Oi.set(m,Li(Oi.get(m)||null,r,s,u,d,p)),!0;case"gotpointercapture":return m=p.pointerId,Mi.set(m,Li(Mi.get(m)||null,r,s,u,d,p)),!0}return!1}function Td(r){var s=tr(r.target);if(s!==null){var u=er(s);if(u!==null){if(s=u.tag,s===13){if(s=fd(u),s!==null){r.blockedOn=s,Cd(r.priority,function(){Sd(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Vs(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var u=il(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);Va=d,u.target.dispatchEvent(d),Va=null}else return s=qi(u),s!==null&&tl(s),r.blockedOn=u,!1;s.shift()}return!0}function Rd(r,s,u){Vs(r)&&u.delete(s)}function Dy(){nl=!1,Sn!==null&&Vs(Sn)&&(Sn=null),En!==null&&Vs(En)&&(En=null),Cn!==null&&Vs(Cn)&&(Cn=null),Oi.forEach(Rd),Mi.forEach(Rd)}function ji(r,s){r.blockedOn===s&&(r.blockedOn=null,nl||(nl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Dy)))}function Ai(r){function s(p){return ji(p,r)}if(0<Hs.length){ji(Hs[0],r);for(var u=1;u<Hs.length;u++){var d=Hs[u];d.blockedOn===r&&(d.blockedOn=null)}}for(Sn!==null&&ji(Sn,r),En!==null&&ji(En,r),Cn!==null&&ji(Cn,r),Oi.forEach(s),Mi.forEach(s),u=0;u<Pn.length;u++)d=Pn[u],d.blockedOn===r&&(d.blockedOn=null);for(;0<Pn.length&&(u=Pn[0],u.blockedOn===null);)Td(u),u.blockedOn===null&&Pn.shift()}var Tr=D.ReactCurrentBatchConfig,qs=!0;function Iy(r,s,u,d){var p=ke,m=Tr.transition;Tr.transition=null;try{ke=1,rl(r,s,u,d)}finally{ke=p,Tr.transition=m}}function Ny(r,s,u,d){var p=ke,m=Tr.transition;Tr.transition=null;try{ke=4,rl(r,s,u,d)}finally{ke=p,Tr.transition=m}}function rl(r,s,u,d){if(qs){var p=il(r,s,u,d);if(p===null)xl(r,s,d,Ks,u),Pd(r,d);else if(Ay(p,r,s,u,d))d.stopPropagation();else if(Pd(r,d),s&4&&-1<jy.indexOf(r)){for(;p!==null;){var m=qi(p);if(m!==null&&kd(m),m=il(r,s,u,d),m===null&&xl(r,s,d,Ks,u),m===p)break;p=m}p!==null&&d.stopPropagation()}else xl(r,s,d,null,u)}}var Ks=null;function il(r,s,u,d){if(Ks=null,r=qa(d),r=tr(r),r!==null)if(s=er(r),s===null)r=null;else if(u=s.tag,u===13){if(r=fd(s),r!==null)return r;r=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ks=r,null}function Od(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sy()){case Qa:return 1;case _d:return 4;case Fs:case Ey:return 16;case wd:return 536870912;default:return 16}default:return 16}}var Tn=null,sl=null,Ys=null;function Md(){if(Ys)return Ys;var r,s=sl,u=s.length,d,p="value"in Tn?Tn.value:Tn.textContent,m=p.length;for(r=0;r<u&&s[r]===p[r];r++);var _=u-r;for(d=1;d<=_&&s[u-d]===p[m-d];d++);return Ys=p.slice(r,1<d?1-d:void 0)}function Gs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Xs(){return!0}function Ld(){return!1}function kt(r){function s(u,d,p,m,_){this._reactName=u,this._targetInst=p,this.type=d,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(u=r[S],this[S]=u?u(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Xs:Ld,this.isPropagationStopped=Ld,this}return K(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),s}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=kt(Rr),Di=K({},Rr,{view:0,detail:0}),zy=kt(Di),al,ll,Ii,Qs=K({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ii&&(Ii&&r.type==="mousemove"?(al=r.screenX-Ii.screenX,ll=r.screenY-Ii.screenY):ll=al=0,Ii=r),al)},movementY:function(r){return"movementY"in r?r.movementY:ll}}),jd=kt(Qs),Fy=K({},Qs,{dataTransfer:0}),$y=kt(Fy),By=K({},Di,{relatedTarget:0}),ul=kt(By),Uy=K({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wy=kt(Uy),Hy=K({},Rr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Vy=kt(Hy),qy=K({},Rr,{data:0}),Ad=kt(qy),Ky={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xy(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Gy[r])?!!s[r]:!1}function cl(){return Xy}var Qy=K({},Di,{key:function(r){if(r.key){var s=Ky[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Gs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Yy[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(r){return r.type==="keypress"?Gs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Jy=kt(Qy),Zy=K({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dd=kt(Zy),e0=K({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),t0=kt(e0),n0=K({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),r0=kt(n0),i0=K({},Qs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),s0=kt(i0),o0=[9,13,27,32],dl=c&&"CompositionEvent"in window,Ni=null;c&&"documentMode"in document&&(Ni=document.documentMode);var a0=c&&"TextEvent"in window&&!Ni,Id=c&&(!dl||Ni&&8<Ni&&11>=Ni),Nd=" ",zd=!1;function Fd(r,s){switch(r){case"keyup":return o0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $d(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Or=!1;function l0(r,s){switch(r){case"compositionend":return $d(s);case"keypress":return s.which!==32?null:(zd=!0,Nd);case"textInput":return r=s.data,r===Nd&&zd?null:r;default:return null}}function u0(r,s){if(Or)return r==="compositionend"||!dl&&Fd(r,s)?(r=Md(),Ys=sl=Tn=null,Or=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Id&&s.locale!=="ko"?null:s.data;default:return null}}var c0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!c0[r.type]:s==="textarea"}function Ud(r,s,u,d){ld(d),s=no(s,"onChange"),0<s.length&&(u=new ol("onChange","change",null,u,d),r.push({event:u,listeners:s}))}var zi=null,Fi=null;function d0(r){oh(r,0)}function Js(r){var s=Dr(r);if(Xc(s))return r}function h0(r,s){if(r==="change")return s}var Wd=!1;if(c){var hl;if(c){var fl="oninput"in document;if(!fl){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),fl=typeof Hd.oninput=="function"}hl=fl}else hl=!1;Wd=hl&&(!document.documentMode||9<document.documentMode)}function Vd(){zi&&(zi.detachEvent("onpropertychange",qd),Fi=zi=null)}function qd(r){if(r.propertyName==="value"&&Js(Fi)){var s=[];Ud(s,Fi,r,qa(r)),hd(d0,s)}}function f0(r,s,u){r==="focusin"?(Vd(),zi=s,Fi=u,zi.attachEvent("onpropertychange",qd)):r==="focusout"&&Vd()}function p0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Js(Fi)}function g0(r,s){if(r==="click")return Js(s)}function m0(r,s){if(r==="input"||r==="change")return Js(s)}function y0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var $t=typeof Object.is=="function"?Object.is:y0;function $i(r,s){if($t(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var u=Object.keys(r),d=Object.keys(s);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var p=u[d];if(!h.call(s,p)||!$t(r[p],s[p]))return!1}return!0}function Kd(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Yd(r,s){var u=Kd(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=s&&d>=s)return{node:u,offset:s-r};r=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Kd(u)}}function Gd(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Gd(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Xd(){for(var r=window,s=Ds();s instanceof r.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)r=s.contentWindow;else break;s=Ds(r.document)}return s}function pl(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function v0(r){var s=Xd(),u=r.focusedElem,d=r.selectionRange;if(s!==u&&u&&u.ownerDocument&&Gd(u.ownerDocument.documentElement,u)){if(d!==null&&pl(u)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(r,u.value.length);else if(r=(s=u.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=u.textContent.length,m=Math.min(d.start,p);d=d.end===void 0?m:Math.min(d.end,p),!r.extend&&m>d&&(p=d,d=m,m=p),p=Yd(u,m);var _=Yd(u,d);p&&_&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),m>d?(r.addRange(s),r.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),r.addRange(s)))}}for(s=[],r=u;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)r=s[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var _0=c&&"documentMode"in document&&11>=document.documentMode,Mr=null,gl=null,Bi=null,ml=!1;function Qd(r,s,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ml||Mr==null||Mr!==Ds(d)||(d=Mr,"selectionStart"in d&&pl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Bi&&$i(Bi,d)||(Bi=d,d=no(gl,"onSelect"),0<d.length&&(s=new ol("onSelect","select",null,s,u),r.push({event:s,listeners:d}),s.target=Mr)))}function Zs(r,s){var u={};return u[r.toLowerCase()]=s.toLowerCase(),u["Webkit"+r]="webkit"+s,u["Moz"+r]="moz"+s,u}var Lr={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionend:Zs("Transition","TransitionEnd")},yl={},Jd={};c&&(Jd=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function eo(r){if(yl[r])return yl[r];if(!Lr[r])return r;var s=Lr[r],u;for(u in s)if(s.hasOwnProperty(u)&&u in Jd)return yl[r]=s[u];return r}var Zd=eo("animationend"),eh=eo("animationiteration"),th=eo("animationstart"),nh=eo("transitionend"),rh=new Map,ih="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(r,s){rh.set(r,s),a(s,[r])}for(var vl=0;vl<ih.length;vl++){var _l=ih[vl],w0=_l.toLowerCase(),x0=_l[0].toUpperCase()+_l.slice(1);Rn(w0,"on"+x0)}Rn(Zd,"onAnimationEnd"),Rn(eh,"onAnimationIteration"),Rn(th,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(nh,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ui));function sh(r,s,u){var d=r.type||"unknown-event";r.currentTarget=u,wy(d,s,void 0,r),r.currentTarget=null}function oh(r,s){s=(s&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],p=d.event;d=d.listeners;e:{var m=void 0;if(s)for(var _=d.length-1;0<=_;_--){var S=d[_],E=S.instance,I=S.currentTarget;if(S=S.listener,E!==m&&p.isPropagationStopped())break e;sh(p,S,I),m=E}else for(_=0;_<d.length;_++){if(S=d[_],E=S.instance,I=S.currentTarget,S=S.listener,E!==m&&p.isPropagationStopped())break e;sh(p,S,I),m=E}}}if(zs)throw r=Xa,zs=!1,Xa=null,r}function Re(r,s){var u=s[Pl];u===void 0&&(u=s[Pl]=new Set);var d=r+"__bubble";u.has(d)||(ah(s,r,2,!1),u.add(d))}function wl(r,s,u){var d=0;s&&(d|=4),ah(u,r,d,s)}var to="_reactListening"+Math.random().toString(36).slice(2);function Wi(r){if(!r[to]){r[to]=!0,i.forEach(function(u){u!=="selectionchange"&&(b0.has(u)||wl(u,!1,r),wl(u,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[to]||(s[to]=!0,wl("selectionchange",!1,s))}}function ah(r,s,u,d){switch(Od(s)){case 1:var p=Iy;break;case 4:p=Ny;break;default:p=rl}u=p.bind(null,s,u,r),p=void 0,!Ga||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,u,{capture:!0,passive:p}):r.addEventListener(s,u,!0):p!==void 0?r.addEventListener(s,u,{passive:p}):r.addEventListener(s,u,!1)}function xl(r,s,u,d,p){var m=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var S=d.stateNode.containerInfo;if(S===p||S.nodeType===8&&S.parentNode===p)break;if(_===4)for(_=d.return;_!==null;){var E=_.tag;if((E===3||E===4)&&(E=_.stateNode.containerInfo,E===p||E.nodeType===8&&E.parentNode===p))return;_=_.return}for(;S!==null;){if(_=tr(S),_===null)return;if(E=_.tag,E===5||E===6){d=m=_;continue e}S=S.parentNode}}d=d.return}hd(function(){var I=m,B=qa(u),W=[];e:{var $=rh.get(r);if($!==void 0){var Y=ol,Q=r;switch(r){case"keypress":if(Gs(u)===0)break e;case"keydown":case"keyup":Y=Jy;break;case"focusin":Q="focus",Y=ul;break;case"focusout":Q="blur",Y=ul;break;case"beforeblur":case"afterblur":Y=ul;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=$y;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=t0;break;case Zd:case eh:case th:Y=Wy;break;case nh:Y=r0;break;case"scroll":Y=zy;break;case"wheel":Y=s0;break;case"copy":case"cut":case"paste":Y=Vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Dd}var J=(s&4)!==0,Be=!J&&r==="scroll",L=J?$!==null?$+"Capture":null:$;J=[];for(var T=I,A;T!==null;){A=T;var H=A.stateNode;if(A.tag===5&&H!==null&&(A=H,L!==null&&(H=Ei(T,L),H!=null&&J.push(Hi(T,H,A)))),Be)break;T=T.return}0<J.length&&($=new Y($,Q,null,u,B),W.push({event:$,listeners:J}))}}if((s&7)===0){e:{if($=r==="mouseover"||r==="pointerover",Y=r==="mouseout"||r==="pointerout",$&&u!==Va&&(Q=u.relatedTarget||u.fromElement)&&(tr(Q)||Q[an]))break e;if((Y||$)&&($=B.window===B?B:($=B.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(Q=u.relatedTarget||u.toElement,Y=I,Q=Q?tr(Q):null,Q!==null&&(Be=er(Q),Q!==Be||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(Y=null,Q=I),Y!==Q)){if(J=jd,H="onMouseLeave",L="onMouseEnter",T="mouse",(r==="pointerout"||r==="pointerover")&&(J=Dd,H="onPointerLeave",L="onPointerEnter",T="pointer"),Be=Y==null?$:Dr(Y),A=Q==null?$:Dr(Q),$=new J(H,T+"leave",Y,u,B),$.target=Be,$.relatedTarget=A,H=null,tr(B)===I&&(J=new J(L,T+"enter",Q,u,B),J.target=A,J.relatedTarget=Be,H=J),Be=H,Y&&Q)t:{for(J=Y,L=Q,T=0,A=J;A;A=jr(A))T++;for(A=0,H=L;H;H=jr(H))A++;for(;0<T-A;)J=jr(J),T--;for(;0<A-T;)L=jr(L),A--;for(;T--;){if(J===L||L!==null&&J===L.alternate)break t;J=jr(J),L=jr(L)}J=null}else J=null;Y!==null&&lh(W,$,Y,J,!1),Q!==null&&Be!==null&&lh(W,Be,Q,J,!0)}}e:{if($=I?Dr(I):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var ee=h0;else if(Bd($))if(Wd)ee=m0;else{ee=p0;var ne=f0}else(Y=$.nodeName)&&Y.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ee=g0);if(ee&&(ee=ee(r,I))){Ud(W,ee,u,B);break e}ne&&ne(r,$,I),r==="focusout"&&(ne=$._wrapperState)&&ne.controlled&&$.type==="number"&&$a($,"number",$.value)}switch(ne=I?Dr(I):window,r){case"focusin":(Bd(ne)||ne.contentEditable==="true")&&(Mr=ne,gl=I,Bi=null);break;case"focusout":Bi=gl=Mr=null;break;case"mousedown":ml=!0;break;case"contextmenu":case"mouseup":case"dragend":ml=!1,Qd(W,u,B);break;case"selectionchange":if(_0)break;case"keydown":case"keyup":Qd(W,u,B)}var re;if(dl)e:{switch(r){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else Or?Fd(r,u)&&(oe="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(oe="onCompositionStart");oe&&(Id&&u.locale!=="ko"&&(Or||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&Or&&(re=Md()):(Tn=B,sl="value"in Tn?Tn.value:Tn.textContent,Or=!0)),ne=no(I,oe),0<ne.length&&(oe=new Ad(oe,r,null,u,B),W.push({event:oe,listeners:ne}),re?oe.data=re:(re=$d(u),re!==null&&(oe.data=re)))),(re=a0?l0(r,u):u0(r,u))&&(I=no(I,"onBeforeInput"),0<I.length&&(B=new Ad("onBeforeInput","beforeinput",null,u,B),W.push({event:B,listeners:I}),B.data=re))}oh(W,s)})}function Hi(r,s,u){return{instance:r,listener:s,currentTarget:u}}function no(r,s){for(var u=s+"Capture",d=[];r!==null;){var p=r,m=p.stateNode;p.tag===5&&m!==null&&(p=m,m=Ei(r,u),m!=null&&d.unshift(Hi(r,m,p)),m=Ei(r,s),m!=null&&d.push(Hi(r,m,p))),r=r.return}return d}function jr(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function lh(r,s,u,d,p){for(var m=s._reactName,_=[];u!==null&&u!==d;){var S=u,E=S.alternate,I=S.stateNode;if(E!==null&&E===d)break;S.tag===5&&I!==null&&(S=I,p?(E=Ei(u,m),E!=null&&_.unshift(Hi(u,E,S))):p||(E=Ei(u,m),E!=null&&_.push(Hi(u,E,S)))),u=u.return}_.length!==0&&r.push({event:s,listeners:_})}var k0=/\r\n?/g,S0=/\u0000|\uFFFD/g;function uh(r){return(typeof r=="string"?r:""+r).replace(k0,`
`).replace(S0,"")}function ro(r,s,u){if(s=uh(s),uh(r)!==s&&u)throw Error(t(425))}function io(){}var bl=null,kl=null;function Sl(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var El=typeof setTimeout=="function"?setTimeout:void 0,E0=typeof clearTimeout=="function"?clearTimeout:void 0,ch=typeof Promise=="function"?Promise:void 0,C0=typeof queueMicrotask=="function"?queueMicrotask:typeof ch<"u"?function(r){return ch.resolve(null).then(r).catch(P0)}:El;function P0(r){setTimeout(function(){throw r})}function Cl(r,s){var u=s,d=0;do{var p=u.nextSibling;if(r.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(d===0){r.removeChild(p),Ai(s);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=p}while(u);Ai(s)}function On(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function dh(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return r;s--}else u==="/$"&&s++}r=r.previousSibling}return null}var Ar=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Ar,Vi="__reactProps$"+Ar,an="__reactContainer$"+Ar,Pl="__reactEvents$"+Ar,T0="__reactListeners$"+Ar,R0="__reactHandles$"+Ar;function tr(r){var s=r[Xt];if(s)return s;for(var u=r.parentNode;u;){if(s=u[an]||u[Xt]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(r=dh(r);r!==null;){if(u=r[Xt])return u;r=dh(r)}return s}r=u,u=r.parentNode}return null}function qi(r){return r=r[Xt]||r[an],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Dr(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function so(r){return r[Vi]||null}var Tl=[],Ir=-1;function Mn(r){return{current:r}}function Oe(r){0>Ir||(r.current=Tl[Ir],Tl[Ir]=null,Ir--)}function Ce(r,s){Ir++,Tl[Ir]=r.current,r.current=s}var Ln={},it=Mn(Ln),ht=Mn(!1),nr=Ln;function Nr(r,s){var u=r.type.contextTypes;if(!u)return Ln;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},m;for(m in u)p[m]=s[m];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function ft(r){return r=r.childContextTypes,r!=null}function oo(){Oe(ht),Oe(it)}function hh(r,s,u){if(it.current!==Ln)throw Error(t(168));Ce(it,s),Ce(ht,u)}function fh(r,s,u){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,Ee(r)||"Unknown",p));return K({},u,d)}function ao(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ln,nr=it.current,Ce(it,r),Ce(ht,ht.current),!0}function ph(r,s,u){var d=r.stateNode;if(!d)throw Error(t(169));u?(r=fh(r,s,nr),d.__reactInternalMemoizedMergedChildContext=r,Oe(ht),Oe(it),Ce(it,r)):Oe(ht),Ce(ht,u)}var ln=null,lo=!1,Rl=!1;function gh(r){ln===null?ln=[r]:ln.push(r)}function O0(r){lo=!0,gh(r)}function jn(){if(!Rl&&ln!==null){Rl=!0;var r=0,s=ke;try{var u=ln;for(ke=1;r<u.length;r++){var d=u[r];do d=d(!0);while(d!==null)}ln=null,lo=!1}catch(p){throw ln!==null&&(ln=ln.slice(r+1)),yd(Qa,jn),p}finally{ke=s,Rl=!1}}return null}var zr=[],Fr=0,uo=null,co=0,Ot=[],Mt=0,rr=null,un=1,cn="";function ir(r,s){zr[Fr++]=co,zr[Fr++]=uo,uo=r,co=s}function mh(r,s,u){Ot[Mt++]=un,Ot[Mt++]=cn,Ot[Mt++]=rr,rr=r;var d=un;r=cn;var p=32-Ft(d)-1;d&=~(1<<p),u+=1;var m=32-Ft(s)+p;if(30<m){var _=p-p%5;m=(d&(1<<_)-1).toString(32),d>>=_,p-=_,un=1<<32-Ft(s)+p|u<<p|d,cn=m+r}else un=1<<m|u<<p|d,cn=r}function Ol(r){r.return!==null&&(ir(r,1),mh(r,1,0))}function Ml(r){for(;r===uo;)uo=zr[--Fr],zr[Fr]=null,co=zr[--Fr],zr[Fr]=null;for(;r===rr;)rr=Ot[--Mt],Ot[Mt]=null,cn=Ot[--Mt],Ot[Mt]=null,un=Ot[--Mt],Ot[Mt]=null}var St=null,Et=null,Ae=!1,Bt=null;function yh(r,s){var u=Dt(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=r,s=r.deletions,s===null?(r.deletions=[u],r.flags|=16):s.push(u)}function vh(r,s){switch(r.tag){case 5:var u=r.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,St=r,Et=On(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,St=r,Et=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=rr!==null?{id:un,overflow:cn}:null,r.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=Dt(18,null,null,0),u.stateNode=s,u.return=r,r.child=u,St=r,Et=null,!0):!1;default:return!1}}function Ll(r){return(r.mode&1)!==0&&(r.flags&128)===0}function jl(r){if(Ae){var s=Et;if(s){var u=s;if(!vh(r,s)){if(Ll(r))throw Error(t(418));s=On(u.nextSibling);var d=St;s&&vh(r,s)?yh(d,u):(r.flags=r.flags&-4097|2,Ae=!1,St=r)}}else{if(Ll(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ae=!1,St=r}}}function _h(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;St=r}function ho(r){if(r!==St)return!1;if(!Ae)return _h(r),Ae=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Sl(r.type,r.memoizedProps)),s&&(s=Et)){if(Ll(r))throw wh(),Error(t(418));for(;s;)yh(r,s),s=On(s.nextSibling)}if(_h(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(s===0){Et=On(r.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}r=r.nextSibling}Et=null}}else Et=St?On(r.stateNode.nextSibling):null;return!0}function wh(){for(var r=Et;r;)r=On(r.nextSibling)}function $r(){Et=St=null,Ae=!1}function Al(r){Bt===null?Bt=[r]:Bt.push(r)}var M0=D.ReactCurrentBatchConfig;function Ki(r,s,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var d=u.stateNode}if(!d)throw Error(t(147,r));var p=d,m=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(_){var S=p.refs;_===null?delete S[m]:S[m]=_},s._stringRef=m,s)}if(typeof r!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,r))}return r}function fo(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function xh(r){var s=r._init;return s(r._payload)}function bh(r){function s(L,T){if(r){var A=L.deletions;A===null?(L.deletions=[T],L.flags|=16):A.push(T)}}function u(L,T){if(!r)return null;for(;T!==null;)s(L,T),T=T.sibling;return null}function d(L,T){for(L=new Map;T!==null;)T.key!==null?L.set(T.key,T):L.set(T.index,T),T=T.sibling;return L}function p(L,T){return L=Bn(L,T),L.index=0,L.sibling=null,L}function m(L,T,A){return L.index=A,r?(A=L.alternate,A!==null?(A=A.index,A<T?(L.flags|=2,T):A):(L.flags|=2,T)):(L.flags|=1048576,T)}function _(L){return r&&L.alternate===null&&(L.flags|=2),L}function S(L,T,A,H){return T===null||T.tag!==6?(T=Eu(A,L.mode,H),T.return=L,T):(T=p(T,A),T.return=L,T)}function E(L,T,A,H){var ee=A.type;return ee===U?B(L,T,A.props.children,H,A.key):T!==null&&(T.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===fe&&xh(ee)===T.type)?(H=p(T,A.props),H.ref=Ki(L,T,A),H.return=L,H):(H=No(A.type,A.key,A.props,null,L.mode,H),H.ref=Ki(L,T,A),H.return=L,H)}function I(L,T,A,H){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=Cu(A,L.mode,H),T.return=L,T):(T=p(T,A.children||[]),T.return=L,T)}function B(L,T,A,H,ee){return T===null||T.tag!==7?(T=hr(A,L.mode,H,ee),T.return=L,T):(T=p(T,A),T.return=L,T)}function W(L,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Eu(""+T,L.mode,A),T.return=L,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case N:return A=No(T.type,T.key,T.props,null,L.mode,A),A.ref=Ki(L,null,T),A.return=L,A;case z:return T=Cu(T,L.mode,A),T.return=L,T;case fe:var H=T._init;return W(L,H(T._payload),A)}if(bi(T)||G(T))return T=hr(T,L.mode,A,null),T.return=L,T;fo(L,T)}return null}function $(L,T,A,H){var ee=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return ee!==null?null:S(L,T,""+A,H);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case N:return A.key===ee?E(L,T,A,H):null;case z:return A.key===ee?I(L,T,A,H):null;case fe:return ee=A._init,$(L,T,ee(A._payload),H)}if(bi(A)||G(A))return ee!==null?null:B(L,T,A,H,null);fo(L,A)}return null}function Y(L,T,A,H,ee){if(typeof H=="string"&&H!==""||typeof H=="number")return L=L.get(A)||null,S(T,L,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case N:return L=L.get(H.key===null?A:H.key)||null,E(T,L,H,ee);case z:return L=L.get(H.key===null?A:H.key)||null,I(T,L,H,ee);case fe:var ne=H._init;return Y(L,T,A,ne(H._payload),ee)}if(bi(H)||G(H))return L=L.get(A)||null,B(T,L,H,ee,null);fo(T,H)}return null}function Q(L,T,A,H){for(var ee=null,ne=null,re=T,oe=T=0,Je=null;re!==null&&oe<A.length;oe++){re.index>oe?(Je=re,re=null):Je=re.sibling;var _e=$(L,re,A[oe],H);if(_e===null){re===null&&(re=Je);break}r&&re&&_e.alternate===null&&s(L,re),T=m(_e,T,oe),ne===null?ee=_e:ne.sibling=_e,ne=_e,re=Je}if(oe===A.length)return u(L,re),Ae&&ir(L,oe),ee;if(re===null){for(;oe<A.length;oe++)re=W(L,A[oe],H),re!==null&&(T=m(re,T,oe),ne===null?ee=re:ne.sibling=re,ne=re);return Ae&&ir(L,oe),ee}for(re=d(L,re);oe<A.length;oe++)Je=Y(re,L,oe,A[oe],H),Je!==null&&(r&&Je.alternate!==null&&re.delete(Je.key===null?oe:Je.key),T=m(Je,T,oe),ne===null?ee=Je:ne.sibling=Je,ne=Je);return r&&re.forEach(function(Un){return s(L,Un)}),Ae&&ir(L,oe),ee}function J(L,T,A,H){var ee=G(A);if(typeof ee!="function")throw Error(t(150));if(A=ee.call(A),A==null)throw Error(t(151));for(var ne=ee=null,re=T,oe=T=0,Je=null,_e=A.next();re!==null&&!_e.done;oe++,_e=A.next()){re.index>oe?(Je=re,re=null):Je=re.sibling;var Un=$(L,re,_e.value,H);if(Un===null){re===null&&(re=Je);break}r&&re&&Un.alternate===null&&s(L,re),T=m(Un,T,oe),ne===null?ee=Un:ne.sibling=Un,ne=Un,re=Je}if(_e.done)return u(L,re),Ae&&ir(L,oe),ee;if(re===null){for(;!_e.done;oe++,_e=A.next())_e=W(L,_e.value,H),_e!==null&&(T=m(_e,T,oe),ne===null?ee=_e:ne.sibling=_e,ne=_e);return Ae&&ir(L,oe),ee}for(re=d(L,re);!_e.done;oe++,_e=A.next())_e=Y(re,L,oe,_e.value,H),_e!==null&&(r&&_e.alternate!==null&&re.delete(_e.key===null?oe:_e.key),T=m(_e,T,oe),ne===null?ee=_e:ne.sibling=_e,ne=_e);return r&&re.forEach(function(cv){return s(L,cv)}),Ae&&ir(L,oe),ee}function Be(L,T,A,H){if(typeof A=="object"&&A!==null&&A.type===U&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case N:e:{for(var ee=A.key,ne=T;ne!==null;){if(ne.key===ee){if(ee=A.type,ee===U){if(ne.tag===7){u(L,ne.sibling),T=p(ne,A.props.children),T.return=L,L=T;break e}}else if(ne.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===fe&&xh(ee)===ne.type){u(L,ne.sibling),T=p(ne,A.props),T.ref=Ki(L,ne,A),T.return=L,L=T;break e}u(L,ne);break}else s(L,ne);ne=ne.sibling}A.type===U?(T=hr(A.props.children,L.mode,H,A.key),T.return=L,L=T):(H=No(A.type,A.key,A.props,null,L.mode,H),H.ref=Ki(L,T,A),H.return=L,L=H)}return _(L);case z:e:{for(ne=A.key;T!==null;){if(T.key===ne)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){u(L,T.sibling),T=p(T,A.children||[]),T.return=L,L=T;break e}else{u(L,T);break}else s(L,T);T=T.sibling}T=Cu(A,L.mode,H),T.return=L,L=T}return _(L);case fe:return ne=A._init,Be(L,T,ne(A._payload),H)}if(bi(A))return Q(L,T,A,H);if(G(A))return J(L,T,A,H);fo(L,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,T!==null&&T.tag===6?(u(L,T.sibling),T=p(T,A),T.return=L,L=T):(u(L,T),T=Eu(A,L.mode,H),T.return=L,L=T),_(L)):u(L,T)}return Be}var Br=bh(!0),kh=bh(!1),po=Mn(null),go=null,Ur=null,Dl=null;function Il(){Dl=Ur=go=null}function Nl(r){var s=po.current;Oe(po),r._currentValue=s}function zl(r,s,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===u)break;r=r.return}}function Wr(r,s){go=r,Dl=Ur=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(pt=!0),r.firstContext=null)}function Lt(r){var s=r._currentValue;if(Dl!==r)if(r={context:r,memoizedValue:s,next:null},Ur===null){if(go===null)throw Error(t(308));Ur=r,go.dependencies={lanes:0,firstContext:r}}else Ur=Ur.next=r;return s}var sr=null;function Fl(r){sr===null?sr=[r]:sr.push(r)}function Sh(r,s,u,d){var p=s.interleaved;return p===null?(u.next=u,Fl(s)):(u.next=p.next,p.next=u),s.interleaved=u,dn(r,d)}function dn(r,s){r.lanes|=s;var u=r.alternate;for(u!==null&&(u.lanes|=s),u=r,r=r.return;r!==null;)r.childLanes|=s,u=r.alternate,u!==null&&(u.childLanes|=s),u=r,r=r.return;return u.tag===3?u.stateNode:null}var An=!1;function $l(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function hn(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Dn(r,s,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(ye&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,dn(r,u)}return p=d.interleaved,p===null?(s.next=s,Fl(d)):(s.next=p.next,p.next=s),d.interleaved=s,dn(r,u)}function mo(r,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,u|=d,s.lanes=u,el(r,u)}}function Ch(r,s){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var p=null,m=null;if(u=u.firstBaseUpdate,u!==null){do{var _={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};m===null?p=m=_:m=m.next=_,u=u.next}while(u!==null);m===null?p=m=s:m=m.next=s}else p=m=s;u={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:d.shared,effects:d.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=s:r.next=s,u.lastBaseUpdate=s}function yo(r,s,u,d){var p=r.updateQueue;An=!1;var m=p.firstBaseUpdate,_=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var E=S,I=E.next;E.next=null,_===null?m=I:_.next=I,_=E;var B=r.alternate;B!==null&&(B=B.updateQueue,S=B.lastBaseUpdate,S!==_&&(S===null?B.firstBaseUpdate=I:S.next=I,B.lastBaseUpdate=E))}if(m!==null){var W=p.baseState;_=0,B=I=E=null,S=m;do{var $=S.lane,Y=S.eventTime;if((d&$)===$){B!==null&&(B=B.next={eventTime:Y,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var Q=r,J=S;switch($=s,Y=u,J.tag){case 1:if(Q=J.payload,typeof Q=="function"){W=Q.call(Y,W,$);break e}W=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=J.payload,$=typeof Q=="function"?Q.call(Y,W,$):Q,$==null)break e;W=K({},W,$);break e;case 2:An=!0}}S.callback!==null&&S.lane!==0&&(r.flags|=64,$=p.effects,$===null?p.effects=[S]:$.push(S))}else Y={eventTime:Y,lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},B===null?(I=B=Y,E=W):B=B.next=Y,_|=$;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;$=S,S=$.next,$.next=null,p.lastBaseUpdate=$,p.shared.pending=null}}while(!0);if(B===null&&(E=W),p.baseState=E,p.firstBaseUpdate=I,p.lastBaseUpdate=B,s=p.shared.interleaved,s!==null){p=s;do _|=p.lane,p=p.next;while(p!==s)}else m===null&&(p.shared.lanes=0);lr|=_,r.lanes=_,r.memoizedState=W}}function Ph(r,s,u){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=u,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Yi={},Qt=Mn(Yi),Gi=Mn(Yi),Xi=Mn(Yi);function or(r){if(r===Yi)throw Error(t(174));return r}function Bl(r,s){switch(Ce(Xi,s),Ce(Gi,r),Ce(Qt,Yi),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ua(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Ua(s,r)}Oe(Qt),Ce(Qt,s)}function Hr(){Oe(Qt),Oe(Gi),Oe(Xi)}function Th(r){or(Xi.current);var s=or(Qt.current),u=Ua(s,r.type);s!==u&&(Ce(Gi,r),Ce(Qt,u))}function Ul(r){Gi.current===r&&(Oe(Qt),Oe(Gi))}var Ie=Mn(0);function vo(r){for(var s=r;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Wl=[];function Hl(){for(var r=0;r<Wl.length;r++)Wl[r]._workInProgressVersionPrimary=null;Wl.length=0}var _o=D.ReactCurrentDispatcher,Vl=D.ReactCurrentBatchConfig,ar=0,Ne=null,Ve=null,Xe=null,wo=!1,Qi=!1,Ji=0,L0=0;function st(){throw Error(t(321))}function ql(r,s){if(s===null)return!1;for(var u=0;u<s.length&&u<r.length;u++)if(!$t(r[u],s[u]))return!1;return!0}function Kl(r,s,u,d,p,m){if(ar=m,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,_o.current=r===null||r.memoizedState===null?I0:N0,r=u(d,p),Qi){m=0;do{if(Qi=!1,Ji=0,25<=m)throw Error(t(301));m+=1,Xe=Ve=null,s.updateQueue=null,_o.current=z0,r=u(d,p)}while(Qi)}if(_o.current=ko,s=Ve!==null&&Ve.next!==null,ar=0,Xe=Ve=Ne=null,wo=!1,s)throw Error(t(300));return r}function Yl(){var r=Ji!==0;return Ji=0,r}function Jt(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ne.memoizedState=Xe=r:Xe=Xe.next=r,Xe}function jt(){if(Ve===null){var r=Ne.alternate;r=r!==null?r.memoizedState:null}else r=Ve.next;var s=Xe===null?Ne.memoizedState:Xe.next;if(s!==null)Xe=s,Ve=r;else{if(r===null)throw Error(t(310));Ve=r,r={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Xe===null?Ne.memoizedState=Xe=r:Xe=Xe.next=r}return Xe}function Zi(r,s){return typeof s=="function"?s(r):s}function Gl(r){var s=jt(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=r;var d=Ve,p=d.baseQueue,m=u.pending;if(m!==null){if(p!==null){var _=p.next;p.next=m.next,m.next=_}d.baseQueue=p=m,u.pending=null}if(p!==null){m=p.next,d=d.baseState;var S=_=null,E=null,I=m;do{var B=I.lane;if((ar&B)===B)E!==null&&(E=E.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),d=I.hasEagerState?I.eagerState:r(d,I.action);else{var W={lane:B,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};E===null?(S=E=W,_=d):E=E.next=W,Ne.lanes|=B,lr|=B}I=I.next}while(I!==null&&I!==m);E===null?_=d:E.next=S,$t(d,s.memoizedState)||(pt=!0),s.memoizedState=d,s.baseState=_,s.baseQueue=E,u.lastRenderedState=d}if(r=u.interleaved,r!==null){p=r;do m=p.lane,Ne.lanes|=m,lr|=m,p=p.next;while(p!==r)}else p===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Xl(r){var s=jt(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=r;var d=u.dispatch,p=u.pending,m=s.memoizedState;if(p!==null){u.pending=null;var _=p=p.next;do m=r(m,_.action),_=_.next;while(_!==p);$t(m,s.memoizedState)||(pt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),u.lastRenderedState=m}return[m,d]}function Rh(){}function Oh(r,s){var u=Ne,d=jt(),p=s(),m=!$t(d.memoizedState,p);if(m&&(d.memoizedState=p,pt=!0),d=d.queue,Ql(jh.bind(null,u,d,r),[r]),d.getSnapshot!==s||m||Xe!==null&&Xe.memoizedState.tag&1){if(u.flags|=2048,es(9,Lh.bind(null,u,d,p,s),void 0,null),Qe===null)throw Error(t(349));(ar&30)!==0||Mh(u,s,p)}return p}function Mh(r,s,u){r.flags|=16384,r={getSnapshot:s,value:u},s=Ne.updateQueue,s===null?(s={lastEffect:null,stores:null},Ne.updateQueue=s,s.stores=[r]):(u=s.stores,u===null?s.stores=[r]:u.push(r))}function Lh(r,s,u,d){s.value=u,s.getSnapshot=d,Ah(s)&&Dh(r)}function jh(r,s,u){return u(function(){Ah(s)&&Dh(r)})}function Ah(r){var s=r.getSnapshot;r=r.value;try{var u=s();return!$t(r,u)}catch{return!0}}function Dh(r){var s=dn(r,1);s!==null&&Vt(s,r,1,-1)}function Ih(r){var s=Jt();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:r},s.queue=r,r=r.dispatch=D0.bind(null,Ne,r),[s.memoizedState,r]}function es(r,s,u,d){return r={tag:r,create:s,destroy:u,deps:d,next:null},s=Ne.updateQueue,s===null?(s={lastEffect:null,stores:null},Ne.updateQueue=s,s.lastEffect=r.next=r):(u=s.lastEffect,u===null?s.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,s.lastEffect=r)),r}function Nh(){return jt().memoizedState}function xo(r,s,u,d){var p=Jt();Ne.flags|=r,p.memoizedState=es(1|s,u,void 0,d===void 0?null:d)}function bo(r,s,u,d){var p=jt();d=d===void 0?null:d;var m=void 0;if(Ve!==null){var _=Ve.memoizedState;if(m=_.destroy,d!==null&&ql(d,_.deps)){p.memoizedState=es(s,u,m,d);return}}Ne.flags|=r,p.memoizedState=es(1|s,u,m,d)}function zh(r,s){return xo(8390656,8,r,s)}function Ql(r,s){return bo(2048,8,r,s)}function Fh(r,s){return bo(4,2,r,s)}function $h(r,s){return bo(4,4,r,s)}function Bh(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Uh(r,s,u){return u=u!=null?u.concat([r]):null,bo(4,4,Bh.bind(null,s,r),u)}function Jl(){}function Wh(r,s){var u=jt();s=s===void 0?null:s;var d=u.memoizedState;return d!==null&&s!==null&&ql(s,d[1])?d[0]:(u.memoizedState=[r,s],r)}function Hh(r,s){var u=jt();s=s===void 0?null:s;var d=u.memoizedState;return d!==null&&s!==null&&ql(s,d[1])?d[0]:(r=r(),u.memoizedState=[r,s],r)}function Vh(r,s,u){return(ar&21)===0?(r.baseState&&(r.baseState=!1,pt=!0),r.memoizedState=u):($t(u,s)||(u=xd(),Ne.lanes|=u,lr|=u,r.baseState=!0),s)}function j0(r,s){var u=ke;ke=u!==0&&4>u?u:4,r(!0);var d=Vl.transition;Vl.transition={};try{r(!1),s()}finally{ke=u,Vl.transition=d}}function qh(){return jt().memoizedState}function A0(r,s,u){var d=Fn(r);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},Kh(r))Yh(s,u);else if(u=Sh(r,s,u,d),u!==null){var p=ut();Vt(u,r,d,p),Gh(u,s,d)}}function D0(r,s,u){var d=Fn(r),p={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(Kh(r))Yh(s,p);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,S=m(_,u);if(p.hasEagerState=!0,p.eagerState=S,$t(S,_)){var E=s.interleaved;E===null?(p.next=p,Fl(s)):(p.next=E.next,E.next=p),s.interleaved=p;return}}catch{}u=Sh(r,s,p,d),u!==null&&(p=ut(),Vt(u,r,d,p),Gh(u,s,d))}}function Kh(r){var s=r.alternate;return r===Ne||s!==null&&s===Ne}function Yh(r,s){Qi=wo=!0;var u=r.pending;u===null?s.next=s:(s.next=u.next,u.next=s),r.pending=s}function Gh(r,s,u){if((u&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,u|=d,s.lanes=u,el(r,u)}}var ko={readContext:Lt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},I0={readContext:Lt,useCallback:function(r,s){return Jt().memoizedState=[r,s===void 0?null:s],r},useContext:Lt,useEffect:zh,useImperativeHandle:function(r,s,u){return u=u!=null?u.concat([r]):null,xo(4194308,4,Bh.bind(null,s,r),u)},useLayoutEffect:function(r,s){return xo(4194308,4,r,s)},useInsertionEffect:function(r,s){return xo(4,2,r,s)},useMemo:function(r,s){var u=Jt();return s=s===void 0?null:s,r=r(),u.memoizedState=[r,s],r},useReducer:function(r,s,u){var d=Jt();return s=u!==void 0?u(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=A0.bind(null,Ne,r),[d.memoizedState,r]},useRef:function(r){var s=Jt();return r={current:r},s.memoizedState=r},useState:Ih,useDebugValue:Jl,useDeferredValue:function(r){return Jt().memoizedState=r},useTransition:function(){var r=Ih(!1),s=r[0];return r=j0.bind(null,r[1]),Jt().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,u){var d=Ne,p=Jt();if(Ae){if(u===void 0)throw Error(t(407));u=u()}else{if(u=s(),Qe===null)throw Error(t(349));(ar&30)!==0||Mh(d,s,u)}p.memoizedState=u;var m={value:u,getSnapshot:s};return p.queue=m,zh(jh.bind(null,d,m,r),[r]),d.flags|=2048,es(9,Lh.bind(null,d,m,u,s),void 0,null),u},useId:function(){var r=Jt(),s=Qe.identifierPrefix;if(Ae){var u=cn,d=un;u=(d&~(1<<32-Ft(d)-1)).toString(32)+u,s=":"+s+"R"+u,u=Ji++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=L0++,s=":"+s+"r"+u.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},N0={readContext:Lt,useCallback:Wh,useContext:Lt,useEffect:Ql,useImperativeHandle:Uh,useInsertionEffect:Fh,useLayoutEffect:$h,useMemo:Hh,useReducer:Gl,useRef:Nh,useState:function(){return Gl(Zi)},useDebugValue:Jl,useDeferredValue:function(r){var s=jt();return Vh(s,Ve.memoizedState,r)},useTransition:function(){var r=Gl(Zi)[0],s=jt().memoizedState;return[r,s]},useMutableSource:Rh,useSyncExternalStore:Oh,useId:qh,unstable_isNewReconciler:!1},z0={readContext:Lt,useCallback:Wh,useContext:Lt,useEffect:Ql,useImperativeHandle:Uh,useInsertionEffect:Fh,useLayoutEffect:$h,useMemo:Hh,useReducer:Xl,useRef:Nh,useState:function(){return Xl(Zi)},useDebugValue:Jl,useDeferredValue:function(r){var s=jt();return Ve===null?s.memoizedState=r:Vh(s,Ve.memoizedState,r)},useTransition:function(){var r=Xl(Zi)[0],s=jt().memoizedState;return[r,s]},useMutableSource:Rh,useSyncExternalStore:Oh,useId:qh,unstable_isNewReconciler:!1};function Ut(r,s){if(r&&r.defaultProps){s=K({},s),r=r.defaultProps;for(var u in r)s[u]===void 0&&(s[u]=r[u]);return s}return s}function Zl(r,s,u,d){s=r.memoizedState,u=u(d,s),u=u==null?s:K({},s,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var So={isMounted:function(r){return(r=r._reactInternals)?er(r)===r:!1},enqueueSetState:function(r,s,u){r=r._reactInternals;var d=ut(),p=Fn(r),m=hn(d,p);m.payload=s,u!=null&&(m.callback=u),s=Dn(r,m,p),s!==null&&(Vt(s,r,p,d),mo(s,r,p))},enqueueReplaceState:function(r,s,u){r=r._reactInternals;var d=ut(),p=Fn(r),m=hn(d,p);m.tag=1,m.payload=s,u!=null&&(m.callback=u),s=Dn(r,m,p),s!==null&&(Vt(s,r,p,d),mo(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var u=ut(),d=Fn(r),p=hn(u,d);p.tag=2,s!=null&&(p.callback=s),s=Dn(r,p,d),s!==null&&(Vt(s,r,d,u),mo(s,r,d))}};function Xh(r,s,u,d,p,m,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,m,_):s.prototype&&s.prototype.isPureReactComponent?!$i(u,d)||!$i(p,m):!0}function Qh(r,s,u){var d=!1,p=Ln,m=s.contextType;return typeof m=="object"&&m!==null?m=Lt(m):(p=ft(s)?nr:it.current,d=s.contextTypes,m=(d=d!=null)?Nr(r,p):Ln),s=new s(u,m),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=So,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=m),s}function Jh(r,s,u,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,d),s.state!==r&&So.enqueueReplaceState(s,s.state,null)}function eu(r,s,u,d){var p=r.stateNode;p.props=u,p.state=r.memoizedState,p.refs={},$l(r);var m=s.contextType;typeof m=="object"&&m!==null?p.context=Lt(m):(m=ft(s)?nr:it.current,p.context=Nr(r,m)),p.state=r.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Zl(r,s,m,u),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&So.enqueueReplaceState(p,p.state,null),yo(r,u,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Vr(r,s){try{var u="",d=s;do u+=pe(d),d=d.return;while(d);var p=u}catch(m){p=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:s,stack:p,digest:null}}function tu(r,s,u){return{value:r,source:null,stack:u??null,digest:s??null}}function nu(r,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var F0=typeof WeakMap=="function"?WeakMap:Map;function Zh(r,s,u){u=hn(-1,u),u.tag=3,u.payload={element:null};var d=s.value;return u.callback=function(){Mo||(Mo=!0,yu=d),nu(r,s)},u}function ef(r,s,u){u=hn(-1,u),u.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;u.payload=function(){return d(p)},u.callback=function(){nu(r,s)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(u.callback=function(){nu(r,s),typeof d!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),u}function tf(r,s,u){var d=r.pingCache;if(d===null){d=r.pingCache=new F0;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(u)||(p.add(u),r=Z0.bind(null,r,s,u),s.then(r,r))}function nf(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function rf(r,s,u,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=hn(-1,1),s.tag=2,Dn(u,s,1))),u.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var $0=D.ReactCurrentOwner,pt=!1;function lt(r,s,u,d){s.child=r===null?kh(s,null,u,d):Br(s,r.child,u,d)}function sf(r,s,u,d,p){u=u.render;var m=s.ref;return Wr(s,p),d=Kl(r,s,u,d,m,p),u=Yl(),r!==null&&!pt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,fn(r,s,p)):(Ae&&u&&Ol(s),s.flags|=1,lt(r,s,d,p),s.child)}function of(r,s,u,d,p){if(r===null){var m=u.type;return typeof m=="function"&&!Su(m)&&m.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=m,af(r,s,m,d,p)):(r=No(u.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,(r.lanes&p)===0){var _=m.memoizedProps;if(u=u.compare,u=u!==null?u:$i,u(_,d)&&r.ref===s.ref)return fn(r,s,p)}return s.flags|=1,r=Bn(m,d),r.ref=s.ref,r.return=s,s.child=r}function af(r,s,u,d,p){if(r!==null){var m=r.memoizedProps;if($i(m,d)&&r.ref===s.ref)if(pt=!1,s.pendingProps=d=m,(r.lanes&p)!==0)(r.flags&131072)!==0&&(pt=!0);else return s.lanes=r.lanes,fn(r,s,p)}return ru(r,s,u,d,p)}function lf(r,s,u){var d=s.pendingProps,p=d.children,m=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Kr,Ct),Ct|=u;else{if((u&1073741824)===0)return r=m!==null?m.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ce(Kr,Ct),Ct|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=m!==null?m.baseLanes:u,Ce(Kr,Ct),Ct|=d}else m!==null?(d=m.baseLanes|u,s.memoizedState=null):d=u,Ce(Kr,Ct),Ct|=d;return lt(r,s,p,u),s.child}function uf(r,s){var u=s.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function ru(r,s,u,d,p){var m=ft(u)?nr:it.current;return m=Nr(s,m),Wr(s,p),u=Kl(r,s,u,d,m,p),d=Yl(),r!==null&&!pt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,fn(r,s,p)):(Ae&&d&&Ol(s),s.flags|=1,lt(r,s,u,p),s.child)}function cf(r,s,u,d,p){if(ft(u)){var m=!0;ao(s)}else m=!1;if(Wr(s,p),s.stateNode===null)Co(r,s),Qh(s,u,d),eu(s,u,d,p),d=!0;else if(r===null){var _=s.stateNode,S=s.memoizedProps;_.props=S;var E=_.context,I=u.contextType;typeof I=="object"&&I!==null?I=Lt(I):(I=ft(u)?nr:it.current,I=Nr(s,I));var B=u.getDerivedStateFromProps,W=typeof B=="function"||typeof _.getSnapshotBeforeUpdate=="function";W||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==d||E!==I)&&Jh(s,_,d,I),An=!1;var $=s.memoizedState;_.state=$,yo(s,d,_,p),E=s.memoizedState,S!==d||$!==E||ht.current||An?(typeof B=="function"&&(Zl(s,u,B,d),E=s.memoizedState),(S=An||Xh(s,u,S,d,$,E,I))?(W||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=E),_.props=d,_.state=E,_.context=I,d=S):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{_=s.stateNode,Eh(r,s),S=s.memoizedProps,I=s.type===s.elementType?S:Ut(s.type,S),_.props=I,W=s.pendingProps,$=_.context,E=u.contextType,typeof E=="object"&&E!==null?E=Lt(E):(E=ft(u)?nr:it.current,E=Nr(s,E));var Y=u.getDerivedStateFromProps;(B=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==W||$!==E)&&Jh(s,_,d,E),An=!1,$=s.memoizedState,_.state=$,yo(s,d,_,p);var Q=s.memoizedState;S!==W||$!==Q||ht.current||An?(typeof Y=="function"&&(Zl(s,u,Y,d),Q=s.memoizedState),(I=An||Xh(s,u,I,d,$,Q,E)||!1)?(B||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,Q,E),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,Q,E)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===r.memoizedProps&&$===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&$===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Q),_.props=d,_.state=Q,_.context=E,d=I):(typeof _.componentDidUpdate!="function"||S===r.memoizedProps&&$===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&$===r.memoizedState||(s.flags|=1024),d=!1)}return iu(r,s,u,d,m,p)}function iu(r,s,u,d,p,m){uf(r,s);var _=(s.flags&128)!==0;if(!d&&!_)return p&&ph(s,u,!1),fn(r,s,m);d=s.stateNode,$0.current=s;var S=_&&typeof u.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&_?(s.child=Br(s,r.child,null,m),s.child=Br(s,null,S,m)):lt(r,s,S,m),s.memoizedState=d.state,p&&ph(s,u,!0),s.child}function df(r){var s=r.stateNode;s.pendingContext?hh(r,s.pendingContext,s.pendingContext!==s.context):s.context&&hh(r,s.context,!1),Bl(r,s.containerInfo)}function hf(r,s,u,d,p){return $r(),Al(p),s.flags|=256,lt(r,s,u,d),s.child}var su={dehydrated:null,treeContext:null,retryLane:0};function ou(r){return{baseLanes:r,cachePool:null,transitions:null}}function ff(r,s,u){var d=s.pendingProps,p=Ie.current,m=!1,_=(s.flags&128)!==0,S;if((S=_)||(S=r!==null&&r.memoizedState===null?!1:(p&2)!==0),S?(m=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ce(Ie,p&1),r===null)return jl(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=d.children,r=d.fallback,m?(d=s.mode,m=s.child,_={mode:"hidden",children:_},(d&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=zo(_,d,0,null),r=hr(r,d,u,null),m.return=s,r.return=s,m.sibling=r,s.child=m,s.child.memoizedState=ou(u),s.memoizedState=su,r):au(s,_));if(p=r.memoizedState,p!==null&&(S=p.dehydrated,S!==null))return B0(r,s,_,d,S,p,u);if(m){m=d.fallback,_=s.mode,p=r.child,S=p.sibling;var E={mode:"hidden",children:d.children};return(_&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=E,s.deletions=null):(d=Bn(p,E),d.subtreeFlags=p.subtreeFlags&14680064),S!==null?m=Bn(S,m):(m=hr(m,_,u,null),m.flags|=2),m.return=s,d.return=s,d.sibling=m,s.child=d,d=m,m=s.child,_=r.child.memoizedState,_=_===null?ou(u):{baseLanes:_.baseLanes|u,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=r.childLanes&~u,s.memoizedState=su,d}return m=r.child,r=m.sibling,d=Bn(m,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=u),d.return=s,d.sibling=null,r!==null&&(u=s.deletions,u===null?(s.deletions=[r],s.flags|=16):u.push(r)),s.child=d,s.memoizedState=null,d}function au(r,s){return s=zo({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Eo(r,s,u,d){return d!==null&&Al(d),Br(s,r.child,null,u),r=au(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function B0(r,s,u,d,p,m,_){if(u)return s.flags&256?(s.flags&=-257,d=tu(Error(t(422))),Eo(r,s,_,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(m=d.fallback,p=s.mode,d=zo({mode:"visible",children:d.children},p,0,null),m=hr(m,p,_,null),m.flags|=2,d.return=s,m.return=s,d.sibling=m,s.child=d,(s.mode&1)!==0&&Br(s,r.child,null,_),s.child.memoizedState=ou(_),s.memoizedState=su,m);if((s.mode&1)===0)return Eo(r,s,_,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var S=d.dgst;return d=S,m=Error(t(419)),d=tu(m,d,void 0),Eo(r,s,_,d)}if(S=(_&r.childLanes)!==0,pt||S){if(d=Qe,d!==null){switch(_&-_){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|_))!==0?0:p,p!==0&&p!==m.retryLane&&(m.retryLane=p,dn(r,p),Vt(d,r,p,-1))}return ku(),d=tu(Error(t(421))),Eo(r,s,_,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=ev.bind(null,r),p._reactRetry=s,null):(r=m.treeContext,Et=On(p.nextSibling),St=s,Ae=!0,Bt=null,r!==null&&(Ot[Mt++]=un,Ot[Mt++]=cn,Ot[Mt++]=rr,un=r.id,cn=r.overflow,rr=s),s=au(s,d.children),s.flags|=4096,s)}function pf(r,s,u){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),zl(r.return,s,u)}function lu(r,s,u,d,p){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:p}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=d,m.tail=u,m.tailMode=p)}function gf(r,s,u){var d=s.pendingProps,p=d.revealOrder,m=d.tail;if(lt(r,s,d.children,u),d=Ie.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&pf(r,u,s);else if(r.tag===19)pf(r,u,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Ce(Ie,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(u=s.child,p=null;u!==null;)r=u.alternate,r!==null&&vo(r)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),lu(s,!1,p,u,m);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&vo(r)===null){s.child=p;break}r=p.sibling,p.sibling=u,u=p,p=r}lu(s,!0,u,null,m);break;case"together":lu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Co(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function fn(r,s,u){if(r!==null&&(s.dependencies=r.dependencies),lr|=s.lanes,(u&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,u=Bn(r,r.pendingProps),s.child=u,u.return=s;r.sibling!==null;)r=r.sibling,u=u.sibling=Bn(r,r.pendingProps),u.return=s;u.sibling=null}return s.child}function U0(r,s,u){switch(s.tag){case 3:df(s),$r();break;case 5:Th(s);break;case 1:ft(s.type)&&ao(s);break;case 4:Bl(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Ce(po,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Ce(Ie,Ie.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?ff(r,s,u):(Ce(Ie,Ie.current&1),r=fn(r,s,u),r!==null?r.sibling:null);Ce(Ie,Ie.current&1);break;case 19:if(d=(u&s.childLanes)!==0,(r.flags&128)!==0){if(d)return gf(r,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ce(Ie,Ie.current),d)break;return null;case 22:case 23:return s.lanes=0,lf(r,s,u)}return fn(r,s,u)}var mf,uu,yf,vf;mf=function(r,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},uu=function(){},yf=function(r,s,u,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,or(Qt.current);var m=null;switch(u){case"input":p=za(r,p),d=za(r,d),m=[];break;case"select":p=K({},p,{value:void 0}),d=K({},d,{value:void 0}),m=[];break;case"textarea":p=Ba(r,p),d=Ba(r,d),m=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=io)}Wa(u,d);var _;u=null;for(I in p)if(!d.hasOwnProperty(I)&&p.hasOwnProperty(I)&&p[I]!=null)if(I==="style"){var S=p[I];for(_ in S)S.hasOwnProperty(_)&&(u||(u={}),u[_]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(o.hasOwnProperty(I)?m||(m=[]):(m=m||[]).push(I,null));for(I in d){var E=d[I];if(S=p?.[I],d.hasOwnProperty(I)&&E!==S&&(E!=null||S!=null))if(I==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||E&&E.hasOwnProperty(_)||(u||(u={}),u[_]="");for(_ in E)E.hasOwnProperty(_)&&S[_]!==E[_]&&(u||(u={}),u[_]=E[_])}else u||(m||(m=[]),m.push(I,u)),u=E;else I==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,S=S?S.__html:void 0,E!=null&&S!==E&&(m=m||[]).push(I,E)):I==="children"?typeof E!="string"&&typeof E!="number"||(m=m||[]).push(I,""+E):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(o.hasOwnProperty(I)?(E!=null&&I==="onScroll"&&Re("scroll",r),m||S===E||(m=[])):(m=m||[]).push(I,E))}u&&(m=m||[]).push("style",u);var I=m;(s.updateQueue=I)&&(s.flags|=4)}},vf=function(r,s,u,d){u!==d&&(s.flags|=4)};function ts(r,s){if(!Ae)switch(r.tailMode){case"hidden":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function ot(r){var s=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(s)for(var p=r.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=u,s}function W0(r,s,u){var d=s.pendingProps;switch(Ml(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ft(s.type)&&oo(),ot(s),null;case 3:return d=s.stateNode,Hr(),Oe(ht),Oe(it),Hl(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(ho(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bt!==null&&(wu(Bt),Bt=null))),uu(r,s),ot(s),null;case 5:Ul(s);var p=or(Xi.current);if(u=s.type,r!==null&&s.stateNode!=null)yf(r,s,u,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return ot(s),null}if(r=or(Qt.current),ho(s)){d=s.stateNode,u=s.type;var m=s.memoizedProps;switch(d[Xt]=s,d[Vi]=m,r=(s.mode&1)!==0,u){case"dialog":Re("cancel",d),Re("close",d);break;case"iframe":case"object":case"embed":Re("load",d);break;case"video":case"audio":for(p=0;p<Ui.length;p++)Re(Ui[p],d);break;case"source":Re("error",d);break;case"img":case"image":case"link":Re("error",d),Re("load",d);break;case"details":Re("toggle",d);break;case"input":Qc(d,m),Re("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!m.multiple},Re("invalid",d);break;case"textarea":ed(d,m),Re("invalid",d)}Wa(u,m),p=null;for(var _ in m)if(m.hasOwnProperty(_)){var S=m[_];_==="children"?typeof S=="string"?d.textContent!==S&&(m.suppressHydrationWarning!==!0&&ro(d.textContent,S,r),p=["children",S]):typeof S=="number"&&d.textContent!==""+S&&(m.suppressHydrationWarning!==!0&&ro(d.textContent,S,r),p=["children",""+S]):o.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&Re("scroll",d)}switch(u){case"input":As(d),Zc(d,m,!0);break;case"textarea":As(d),nd(d);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(d.onclick=io)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{_=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=rd(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=_.createElement(u,{is:d.is}):(r=_.createElement(u),u==="select"&&(_=r,d.multiple?_.multiple=!0:d.size&&(_.size=d.size))):r=_.createElementNS(r,u),r[Xt]=s,r[Vi]=d,mf(r,s,!1,!1),s.stateNode=r;e:{switch(_=Ha(u,d),u){case"dialog":Re("cancel",r),Re("close",r),p=d;break;case"iframe":case"object":case"embed":Re("load",r),p=d;break;case"video":case"audio":for(p=0;p<Ui.length;p++)Re(Ui[p],r);p=d;break;case"source":Re("error",r),p=d;break;case"img":case"image":case"link":Re("error",r),Re("load",r),p=d;break;case"details":Re("toggle",r),p=d;break;case"input":Qc(r,d),p=za(r,d),Re("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=K({},d,{value:void 0}),Re("invalid",r);break;case"textarea":ed(r,d),p=Ba(r,d),Re("invalid",r);break;default:p=d}Wa(u,p),S=p;for(m in S)if(S.hasOwnProperty(m)){var E=S[m];m==="style"?od(r,E):m==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&id(r,E)):m==="children"?typeof E=="string"?(u!=="textarea"||E!=="")&&ki(r,E):typeof E=="number"&&ki(r,""+E):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?E!=null&&m==="onScroll"&&Re("scroll",r):E!=null&&R(r,m,E,_))}switch(u){case"input":As(r),Zc(r,d,!1);break;case"textarea":As(r),nd(r);break;case"option":d.value!=null&&r.setAttribute("value",""+be(d.value));break;case"select":r.multiple=!!d.multiple,m=d.value,m!=null?Er(r,!!d.multiple,m,!1):d.defaultValue!=null&&Er(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=io)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ot(s),null;case 6:if(r&&s.stateNode!=null)vf(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(u=or(Xi.current),or(Qt.current),ho(s)){if(d=s.stateNode,u=s.memoizedProps,d[Xt]=s,(m=d.nodeValue!==u)&&(r=St,r!==null))switch(r.tag){case 3:ro(d.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ro(d.nodeValue,u,(r.mode&1)!==0)}m&&(s.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[Xt]=s,s.stateNode=d}return ot(s),null;case 13:if(Oe(Ie),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ae&&Et!==null&&(s.mode&1)!==0&&(s.flags&128)===0)wh(),$r(),s.flags|=98560,m=!1;else if(m=ho(s),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(t(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Xt]=s}else $r(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),m=!1}else Bt!==null&&(wu(Bt),Bt=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=u,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Ie.current&1)!==0?qe===0&&(qe=3):ku())),s.updateQueue!==null&&(s.flags|=4),ot(s),null);case 4:return Hr(),uu(r,s),r===null&&Wi(s.stateNode.containerInfo),ot(s),null;case 10:return Nl(s.type._context),ot(s),null;case 17:return ft(s.type)&&oo(),ot(s),null;case 19:if(Oe(Ie),m=s.memoizedState,m===null)return ot(s),null;if(d=(s.flags&128)!==0,_=m.rendering,_===null)if(d)ts(m,!1);else{if(qe!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=vo(r),_!==null){for(s.flags|=128,ts(m,!1),d=_.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=u,u=s.child;u!==null;)m=u,r=d,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,r=_.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return Ce(Ie,Ie.current&1|2),s.child}r=r.sibling}m.tail!==null&&$e()>Yr&&(s.flags|=128,d=!0,ts(m,!1),s.lanes=4194304)}else{if(!d)if(r=vo(_),r!==null){if(s.flags|=128,d=!0,u=r.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),ts(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Ae)return ot(s),null}else 2*$e()-m.renderingStartTime>Yr&&u!==1073741824&&(s.flags|=128,d=!0,ts(m,!1),s.lanes=4194304);m.isBackwards?(_.sibling=s.child,s.child=_):(u=m.last,u!==null?u.sibling=_:s.child=_,m.last=_)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=$e(),s.sibling=null,u=Ie.current,Ce(Ie,d?u&1|2:u&1),s):(ot(s),null);case 22:case 23:return bu(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Ct&1073741824)!==0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function H0(r,s){switch(Ml(s),s.tag){case 1:return ft(s.type)&&oo(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Hr(),Oe(ht),Oe(it),Hl(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Ul(s),null;case 13:if(Oe(Ie),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));$r()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Oe(Ie),null;case 4:return Hr(),null;case 10:return Nl(s.type._context),null;case 22:case 23:return bu(),null;case 24:return null;default:return null}}var Po=!1,at=!1,V0=typeof WeakSet=="function"?WeakSet:Set,X=null;function qr(r,s){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){Fe(r,s,d)}else u.current=null}function cu(r,s,u){try{u()}catch(d){Fe(r,s,d)}}var _f=!1;function q0(r,s){if(bl=qs,r=Xd(),pl(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var p=d.anchorOffset,m=d.focusNode;d=d.focusOffset;try{u.nodeType,m.nodeType}catch{u=null;break e}var _=0,S=-1,E=-1,I=0,B=0,W=r,$=null;t:for(;;){for(var Y;W!==u||p!==0&&W.nodeType!==3||(S=_+p),W!==m||d!==0&&W.nodeType!==3||(E=_+d),W.nodeType===3&&(_+=W.nodeValue.length),(Y=W.firstChild)!==null;)$=W,W=Y;for(;;){if(W===r)break t;if($===u&&++I===p&&(S=_),$===m&&++B===d&&(E=_),(Y=W.nextSibling)!==null)break;W=$,$=W.parentNode}W=Y}u=S===-1||E===-1?null:{start:S,end:E}}else u=null}u=u||{start:0,end:0}}else u=null;for(kl={focusedElem:r,selectionRange:u},qs=!1,X=s;X!==null;)if(s=X,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,X=r;else for(;X!==null;){s=X;try{var Q=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var J=Q.memoizedProps,Be=Q.memoizedState,L=s.stateNode,T=L.getSnapshotBeforeUpdate(s.elementType===s.type?J:Ut(s.type,J),Be);L.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var A=s.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(H){Fe(s,s.return,H)}if(r=s.sibling,r!==null){r.return=s.return,X=r;break}X=s.return}return Q=_f,_f=!1,Q}function ns(r,s,u){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var m=p.destroy;p.destroy=void 0,m!==void 0&&cu(s,u,m)}p=p.next}while(p!==d)}}function To(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&r)===r){var d=u.create;u.destroy=d()}u=u.next}while(u!==s)}}function du(r){var s=r.ref;if(s!==null){var u=r.stateNode;r.tag,r=u,typeof s=="function"?s(r):s.current=r}}function wf(r){var s=r.alternate;s!==null&&(r.alternate=null,wf(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Xt],delete s[Vi],delete s[Pl],delete s[T0],delete s[R0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function xf(r){return r.tag===5||r.tag===3||r.tag===4}function bf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||xf(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function hu(r,s,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(r,s):u.insertBefore(r,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(r,u)):(s=u,s.appendChild(r)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=io));else if(d!==4&&(r=r.child,r!==null))for(hu(r,s,u),r=r.sibling;r!==null;)hu(r,s,u),r=r.sibling}function fu(r,s,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?u.insertBefore(r,s):u.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(fu(r,s,u),r=r.sibling;r!==null;)fu(r,s,u),r=r.sibling}var tt=null,Wt=!1;function In(r,s,u){for(u=u.child;u!==null;)kf(r,s,u),u=u.sibling}function kf(r,s,u){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount($s,u)}catch{}switch(u.tag){case 5:at||qr(u,s);case 6:var d=tt,p=Wt;tt=null,In(r,s,u),tt=d,Wt=p,tt!==null&&(Wt?(r=tt,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):tt.removeChild(u.stateNode));break;case 18:tt!==null&&(Wt?(r=tt,u=u.stateNode,r.nodeType===8?Cl(r.parentNode,u):r.nodeType===1&&Cl(r,u),Ai(r)):Cl(tt,u.stateNode));break;case 4:d=tt,p=Wt,tt=u.stateNode.containerInfo,Wt=!0,In(r,s,u),tt=d,Wt=p;break;case 0:case 11:case 14:case 15:if(!at&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var m=p,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&cu(u,s,_),p=p.next}while(p!==d)}In(r,s,u);break;case 1:if(!at&&(qr(u,s),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(S){Fe(u,s,S)}In(r,s,u);break;case 21:In(r,s,u);break;case 22:u.mode&1?(at=(d=at)||u.memoizedState!==null,In(r,s,u),at=d):In(r,s,u);break;default:In(r,s,u)}}function Sf(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new V0),s.forEach(function(d){var p=tv.bind(null,r,d);u.has(d)||(u.add(d),d.then(p,p))})}}function Ht(r,s){var u=s.deletions;if(u!==null)for(var d=0;d<u.length;d++){var p=u[d];try{var m=r,_=s,S=_;e:for(;S!==null;){switch(S.tag){case 5:tt=S.stateNode,Wt=!1;break e;case 3:tt=S.stateNode.containerInfo,Wt=!0;break e;case 4:tt=S.stateNode.containerInfo,Wt=!0;break e}S=S.return}if(tt===null)throw Error(t(160));kf(m,_,p),tt=null,Wt=!1;var E=p.alternate;E!==null&&(E.return=null),p.return=null}catch(I){Fe(p,s,I)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ef(s,r),s=s.sibling}function Ef(r,s){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Ht(s,r),Zt(r),d&4){try{ns(3,r,r.return),To(3,r)}catch(J){Fe(r,r.return,J)}try{ns(5,r,r.return)}catch(J){Fe(r,r.return,J)}}break;case 1:Ht(s,r),Zt(r),d&512&&u!==null&&qr(u,u.return);break;case 5:if(Ht(s,r),Zt(r),d&512&&u!==null&&qr(u,u.return),r.flags&32){var p=r.stateNode;try{ki(p,"")}catch(J){Fe(r,r.return,J)}}if(d&4&&(p=r.stateNode,p!=null)){var m=r.memoizedProps,_=u!==null?u.memoizedProps:m,S=r.type,E=r.updateQueue;if(r.updateQueue=null,E!==null)try{S==="input"&&m.type==="radio"&&m.name!=null&&Jc(p,m),Ha(S,_);var I=Ha(S,m);for(_=0;_<E.length;_+=2){var B=E[_],W=E[_+1];B==="style"?od(p,W):B==="dangerouslySetInnerHTML"?id(p,W):B==="children"?ki(p,W):R(p,B,W,I)}switch(S){case"input":Fa(p,m);break;case"textarea":td(p,m);break;case"select":var $=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!m.multiple;var Y=m.value;Y!=null?Er(p,!!m.multiple,Y,!1):$!==!!m.multiple&&(m.defaultValue!=null?Er(p,!!m.multiple,m.defaultValue,!0):Er(p,!!m.multiple,m.multiple?[]:"",!1))}p[Vi]=m}catch(J){Fe(r,r.return,J)}}break;case 6:if(Ht(s,r),Zt(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,m=r.memoizedProps;try{p.nodeValue=m}catch(J){Fe(r,r.return,J)}}break;case 3:if(Ht(s,r),Zt(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Ai(s.containerInfo)}catch(J){Fe(r,r.return,J)}break;case 4:Ht(s,r),Zt(r);break;case 13:Ht(s,r),Zt(r),p=r.child,p.flags&8192&&(m=p.memoizedState!==null,p.stateNode.isHidden=m,!m||p.alternate!==null&&p.alternate.memoizedState!==null||(mu=$e())),d&4&&Sf(r);break;case 22:if(B=u!==null&&u.memoizedState!==null,r.mode&1?(at=(I=at)||B,Ht(s,r),at=I):Ht(s,r),Zt(r),d&8192){if(I=r.memoizedState!==null,(r.stateNode.isHidden=I)&&!B&&(r.mode&1)!==0)for(X=r,B=r.child;B!==null;){for(W=X=B;X!==null;){switch($=X,Y=$.child,$.tag){case 0:case 11:case 14:case 15:ns(4,$,$.return);break;case 1:qr($,$.return);var Q=$.stateNode;if(typeof Q.componentWillUnmount=="function"){d=$,u=$.return;try{s=d,Q.props=s.memoizedProps,Q.state=s.memoizedState,Q.componentWillUnmount()}catch(J){Fe(d,u,J)}}break;case 5:qr($,$.return);break;case 22:if($.memoizedState!==null){Tf(W);continue}}Y!==null?(Y.return=$,X=Y):Tf(W)}B=B.sibling}e:for(B=null,W=r;;){if(W.tag===5){if(B===null){B=W;try{p=W.stateNode,I?(m=p.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(S=W.stateNode,E=W.memoizedProps.style,_=E!=null&&E.hasOwnProperty("display")?E.display:null,S.style.display=sd("display",_))}catch(J){Fe(r,r.return,J)}}}else if(W.tag===6){if(B===null)try{W.stateNode.nodeValue=I?"":W.memoizedProps}catch(J){Fe(r,r.return,J)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===r)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===r)break e;for(;W.sibling===null;){if(W.return===null||W.return===r)break e;B===W&&(B=null),W=W.return}B===W&&(B=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:Ht(s,r),Zt(r),d&4&&Sf(r);break;case 21:break;default:Ht(s,r),Zt(r)}}function Zt(r){var s=r.flags;if(s&2){try{e:{for(var u=r.return;u!==null;){if(xf(u)){var d=u;break e}u=u.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(ki(p,""),d.flags&=-33);var m=bf(r);fu(r,m,p);break;case 3:case 4:var _=d.stateNode.containerInfo,S=bf(r);hu(r,S,_);break;default:throw Error(t(161))}}catch(E){Fe(r,r.return,E)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function K0(r,s,u){X=r,Cf(r)}function Cf(r,s,u){for(var d=(r.mode&1)!==0;X!==null;){var p=X,m=p.child;if(p.tag===22&&d){var _=p.memoizedState!==null||Po;if(!_){var S=p.alternate,E=S!==null&&S.memoizedState!==null||at;S=Po;var I=at;if(Po=_,(at=E)&&!I)for(X=p;X!==null;)_=X,E=_.child,_.tag===22&&_.memoizedState!==null?Rf(p):E!==null?(E.return=_,X=E):Rf(p);for(;m!==null;)X=m,Cf(m),m=m.sibling;X=p,Po=S,at=I}Pf(r)}else(p.subtreeFlags&8772)!==0&&m!==null?(m.return=p,X=m):Pf(r)}}function Pf(r){for(;X!==null;){var s=X;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:at||To(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!at)if(u===null)d.componentDidMount();else{var p=s.elementType===s.type?u.memoizedProps:Ut(s.type,u.memoizedProps);d.componentDidUpdate(p,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&Ph(s,m,d);break;case 3:var _=s.updateQueue;if(_!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}Ph(s,_,u)}break;case 5:var S=s.stateNode;if(u===null&&s.flags&4){u=S;var E=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&u.focus();break;case"img":E.src&&(u.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var I=s.alternate;if(I!==null){var B=I.memoizedState;if(B!==null){var W=B.dehydrated;W!==null&&Ai(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}at||s.flags&512&&du(s)}catch($){Fe(s,s.return,$)}}if(s===r){X=null;break}if(u=s.sibling,u!==null){u.return=s.return,X=u;break}X=s.return}}function Tf(r){for(;X!==null;){var s=X;if(s===r){X=null;break}var u=s.sibling;if(u!==null){u.return=s.return,X=u;break}X=s.return}}function Rf(r){for(;X!==null;){var s=X;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{To(4,s)}catch(E){Fe(s,u,E)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(E){Fe(s,p,E)}}var m=s.return;try{du(s)}catch(E){Fe(s,m,E)}break;case 5:var _=s.return;try{du(s)}catch(E){Fe(s,_,E)}}}catch(E){Fe(s,s.return,E)}if(s===r){X=null;break}var S=s.sibling;if(S!==null){S.return=s.return,X=S;break}X=s.return}}var Y0=Math.ceil,Ro=D.ReactCurrentDispatcher,pu=D.ReactCurrentOwner,At=D.ReactCurrentBatchConfig,ye=0,Qe=null,We=null,nt=0,Ct=0,Kr=Mn(0),qe=0,rs=null,lr=0,Oo=0,gu=0,is=null,gt=null,mu=0,Yr=1/0,pn=null,Mo=!1,yu=null,Nn=null,Lo=!1,zn=null,jo=0,ss=0,vu=null,Ao=-1,Do=0;function ut(){return(ye&6)!==0?$e():Ao!==-1?Ao:Ao=$e()}function Fn(r){return(r.mode&1)===0?1:(ye&2)!==0&&nt!==0?nt&-nt:M0.transition!==null?(Do===0&&(Do=xd()),Do):(r=ke,r!==0||(r=window.event,r=r===void 0?16:Od(r.type)),r)}function Vt(r,s,u,d){if(50<ss)throw ss=0,vu=null,Error(t(185));Ri(r,u,d),((ye&2)===0||r!==Qe)&&(r===Qe&&((ye&2)===0&&(Oo|=u),qe===4&&$n(r,nt)),mt(r,d),u===1&&ye===0&&(s.mode&1)===0&&(Yr=$e()+500,lo&&jn()))}function mt(r,s){var u=r.callbackNode;My(r,s);var d=Ws(r,r===Qe?nt:0);if(d===0)u!==null&&vd(u),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(u!=null&&vd(u),s===1)r.tag===0?O0(Mf.bind(null,r)):gh(Mf.bind(null,r)),C0(function(){(ye&6)===0&&jn()}),u=null;else{switch(bd(d)){case 1:u=Qa;break;case 4:u=_d;break;case 16:u=Fs;break;case 536870912:u=wd;break;default:u=Fs}u=Ff(u,Of.bind(null,r))}r.callbackPriority=s,r.callbackNode=u}}function Of(r,s){if(Ao=-1,Do=0,(ye&6)!==0)throw Error(t(327));var u=r.callbackNode;if(Gr()&&r.callbackNode!==u)return null;var d=Ws(r,r===Qe?nt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=Io(r,d);else{s=d;var p=ye;ye|=2;var m=jf();(Qe!==r||nt!==s)&&(pn=null,Yr=$e()+500,cr(r,s));do try{Q0();break}catch(S){Lf(r,S)}while(!0);Il(),Ro.current=m,ye=p,We!==null?s=0:(Qe=null,nt=0,s=qe)}if(s!==0){if(s===2&&(p=Ja(r),p!==0&&(d=p,s=_u(r,p))),s===1)throw u=rs,cr(r,0),$n(r,d),mt(r,$e()),u;if(s===6)$n(r,d);else{if(p=r.current.alternate,(d&30)===0&&!G0(p)&&(s=Io(r,d),s===2&&(m=Ja(r),m!==0&&(d=m,s=_u(r,m))),s===1))throw u=rs,cr(r,0),$n(r,d),mt(r,$e()),u;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:dr(r,gt,pn);break;case 3:if($n(r,d),(d&130023424)===d&&(s=mu+500-$e(),10<s)){if(Ws(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){ut(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=El(dr.bind(null,r,gt,pn),s);break}dr(r,gt,pn);break;case 4:if($n(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var _=31-Ft(d);m=1<<_,_=s[_],_>p&&(p=_),d&=~m}if(d=p,d=$e()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Y0(d/1960))-d,10<d){r.timeoutHandle=El(dr.bind(null,r,gt,pn),d);break}dr(r,gt,pn);break;case 5:dr(r,gt,pn);break;default:throw Error(t(329))}}}return mt(r,$e()),r.callbackNode===u?Of.bind(null,r):null}function _u(r,s){var u=is;return r.current.memoizedState.isDehydrated&&(cr(r,s).flags|=256),r=Io(r,s),r!==2&&(s=gt,gt=u,s!==null&&wu(s)),r}function wu(r){gt===null?gt=r:gt.push.apply(gt,r)}function G0(r){for(var s=r;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var p=u[d],m=p.getSnapshot;p=p.value;try{if(!$t(m(),p))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $n(r,s){for(s&=~gu,s&=~Oo,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var u=31-Ft(s),d=1<<u;r[u]=-1,s&=~d}}function Mf(r){if((ye&6)!==0)throw Error(t(327));Gr();var s=Ws(r,0);if((s&1)===0)return mt(r,$e()),null;var u=Io(r,s);if(r.tag!==0&&u===2){var d=Ja(r);d!==0&&(s=d,u=_u(r,d))}if(u===1)throw u=rs,cr(r,0),$n(r,s),mt(r,$e()),u;if(u===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,dr(r,gt,pn),mt(r,$e()),null}function xu(r,s){var u=ye;ye|=1;try{return r(s)}finally{ye=u,ye===0&&(Yr=$e()+500,lo&&jn())}}function ur(r){zn!==null&&zn.tag===0&&(ye&6)===0&&Gr();var s=ye;ye|=1;var u=At.transition,d=ke;try{if(At.transition=null,ke=1,r)return r()}finally{ke=d,At.transition=u,ye=s,(ye&6)===0&&jn()}}function bu(){Ct=Kr.current,Oe(Kr)}function cr(r,s){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,E0(u)),We!==null)for(u=We.return;u!==null;){var d=u;switch(Ml(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&oo();break;case 3:Hr(),Oe(ht),Oe(it),Hl();break;case 5:Ul(d);break;case 4:Hr();break;case 13:Oe(Ie);break;case 19:Oe(Ie);break;case 10:Nl(d.type._context);break;case 22:case 23:bu()}u=u.return}if(Qe=r,We=r=Bn(r.current,null),nt=Ct=s,qe=0,rs=null,gu=Oo=lr=0,gt=is=null,sr!==null){for(s=0;s<sr.length;s++)if(u=sr[s],d=u.interleaved,d!==null){u.interleaved=null;var p=d.next,m=u.pending;if(m!==null){var _=m.next;m.next=p,d.next=_}u.pending=d}sr=null}return r}function Lf(r,s){do{var u=We;try{if(Il(),_o.current=ko,wo){for(var d=Ne.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}wo=!1}if(ar=0,Xe=Ve=Ne=null,Qi=!1,Ji=0,pu.current=null,u===null||u.return===null){qe=1,rs=s,We=null;break}e:{var m=r,_=u.return,S=u,E=s;if(s=nt,S.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var I=E,B=S,W=B.tag;if((B.mode&1)===0&&(W===0||W===11||W===15)){var $=B.alternate;$?(B.updateQueue=$.updateQueue,B.memoizedState=$.memoizedState,B.lanes=$.lanes):(B.updateQueue=null,B.memoizedState=null)}var Y=nf(_);if(Y!==null){Y.flags&=-257,rf(Y,_,S,m,s),Y.mode&1&&tf(m,I,s),s=Y,E=I;var Q=s.updateQueue;if(Q===null){var J=new Set;J.add(E),s.updateQueue=J}else Q.add(E);break e}else{if((s&1)===0){tf(m,I,s),ku();break e}E=Error(t(426))}}else if(Ae&&S.mode&1){var Be=nf(_);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),rf(Be,_,S,m,s),Al(Vr(E,S));break e}}m=E=Vr(E,S),qe!==4&&(qe=2),is===null?is=[m]:is.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var L=Zh(m,E,s);Ch(m,L);break e;case 1:S=E;var T=m.type,A=m.stateNode;if((m.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Nn===null||!Nn.has(A)))){m.flags|=65536,s&=-s,m.lanes|=s;var H=ef(m,S,s);Ch(m,H);break e}}m=m.return}while(m!==null)}Df(u)}catch(ee){s=ee,We===u&&u!==null&&(We=u=u.return);continue}break}while(!0)}function jf(){var r=Ro.current;return Ro.current=ko,r===null?ko:r}function ku(){(qe===0||qe===3||qe===2)&&(qe=4),Qe===null||(lr&268435455)===0&&(Oo&268435455)===0||$n(Qe,nt)}function Io(r,s){var u=ye;ye|=2;var d=jf();(Qe!==r||nt!==s)&&(pn=null,cr(r,s));do try{X0();break}catch(p){Lf(r,p)}while(!0);if(Il(),ye=u,Ro.current=d,We!==null)throw Error(t(261));return Qe=null,nt=0,qe}function X0(){for(;We!==null;)Af(We)}function Q0(){for(;We!==null&&!by();)Af(We)}function Af(r){var s=zf(r.alternate,r,Ct);r.memoizedProps=r.pendingProps,s===null?Df(r):We=s,pu.current=null}function Df(r){var s=r;do{var u=s.alternate;if(r=s.return,(s.flags&32768)===0){if(u=W0(u,s,Ct),u!==null){We=u;return}}else{if(u=H0(u,s),u!==null){u.flags&=32767,We=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{qe=6,We=null;return}}if(s=s.sibling,s!==null){We=s;return}We=s=r}while(s!==null);qe===0&&(qe=5)}function dr(r,s,u){var d=ke,p=At.transition;try{At.transition=null,ke=1,J0(r,s,u,d)}finally{At.transition=p,ke=d}return null}function J0(r,s,u,d){do Gr();while(zn!==null);if((ye&6)!==0)throw Error(t(327));u=r.finishedWork;var p=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var m=u.lanes|u.childLanes;if(Ly(r,m),r===Qe&&(We=Qe=null,nt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Lo||(Lo=!0,Ff(Fs,function(){return Gr(),null})),m=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||m){m=At.transition,At.transition=null;var _=ke;ke=1;var S=ye;ye|=4,pu.current=null,q0(r,u),Ef(u,r),v0(kl),qs=!!bl,kl=bl=null,r.current=u,K0(u),ky(),ye=S,ke=_,At.transition=m}else r.current=u;if(Lo&&(Lo=!1,zn=r,jo=p),m=r.pendingLanes,m===0&&(Nn=null),Cy(u.stateNode),mt(r,$e()),s!==null)for(d=r.onRecoverableError,u=0;u<s.length;u++)p=s[u],d(p.value,{componentStack:p.stack,digest:p.digest});if(Mo)throw Mo=!1,r=yu,yu=null,r;return(jo&1)!==0&&r.tag!==0&&Gr(),m=r.pendingLanes,(m&1)!==0?r===vu?ss++:(ss=0,vu=r):ss=0,jn(),null}function Gr(){if(zn!==null){var r=bd(jo),s=At.transition,u=ke;try{if(At.transition=null,ke=16>r?16:r,zn===null)var d=!1;else{if(r=zn,zn=null,jo=0,(ye&6)!==0)throw Error(t(331));var p=ye;for(ye|=4,X=r.current;X!==null;){var m=X,_=m.child;if((X.flags&16)!==0){var S=m.deletions;if(S!==null){for(var E=0;E<S.length;E++){var I=S[E];for(X=I;X!==null;){var B=X;switch(B.tag){case 0:case 11:case 15:ns(8,B,m)}var W=B.child;if(W!==null)W.return=B,X=W;else for(;X!==null;){B=X;var $=B.sibling,Y=B.return;if(wf(B),B===I){X=null;break}if($!==null){$.return=Y,X=$;break}X=Y}}}var Q=m.alternate;if(Q!==null){var J=Q.child;if(J!==null){Q.child=null;do{var Be=J.sibling;J.sibling=null,J=Be}while(J!==null)}}X=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,X=_;else e:for(;X!==null;){if(m=X,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:ns(9,m,m.return)}var L=m.sibling;if(L!==null){L.return=m.return,X=L;break e}X=m.return}}var T=r.current;for(X=T;X!==null;){_=X;var A=_.child;if((_.subtreeFlags&2064)!==0&&A!==null)A.return=_,X=A;else e:for(_=T;X!==null;){if(S=X,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:To(9,S)}}catch(ee){Fe(S,S.return,ee)}if(S===_){X=null;break e}var H=S.sibling;if(H!==null){H.return=S.return,X=H;break e}X=S.return}}if(ye=p,jn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot($s,r)}catch{}d=!0}return d}finally{ke=u,At.transition=s}}return!1}function If(r,s,u){s=Vr(u,s),s=Zh(r,s,1),r=Dn(r,s,1),s=ut(),r!==null&&(Ri(r,1,s),mt(r,s))}function Fe(r,s,u){if(r.tag===3)If(r,r,u);else for(;s!==null;){if(s.tag===3){If(s,r,u);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Nn===null||!Nn.has(d))){r=Vr(u,r),r=ef(s,r,1),s=Dn(s,r,1),r=ut(),s!==null&&(Ri(s,1,r),mt(s,r));break}}s=s.return}}function Z0(r,s,u){var d=r.pingCache;d!==null&&d.delete(s),s=ut(),r.pingedLanes|=r.suspendedLanes&u,Qe===r&&(nt&u)===u&&(qe===4||qe===3&&(nt&130023424)===nt&&500>$e()-mu?cr(r,0):gu|=u),mt(r,s)}function Nf(r,s){s===0&&((r.mode&1)===0?s=1:(s=Us,Us<<=1,(Us&130023424)===0&&(Us=4194304)));var u=ut();r=dn(r,s),r!==null&&(Ri(r,s,u),mt(r,u))}function ev(r){var s=r.memoizedState,u=0;s!==null&&(u=s.retryLane),Nf(r,u)}function tv(r,s){var u=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(u=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),Nf(r,u)}var zf;zf=function(r,s,u){if(r!==null)if(r.memoizedProps!==s.pendingProps||ht.current)pt=!0;else{if((r.lanes&u)===0&&(s.flags&128)===0)return pt=!1,U0(r,s,u);pt=(r.flags&131072)!==0}else pt=!1,Ae&&(s.flags&1048576)!==0&&mh(s,co,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Co(r,s),r=s.pendingProps;var p=Nr(s,it.current);Wr(s,u),p=Kl(null,s,d,r,p,u);var m=Yl();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,ft(d)?(m=!0,ao(s)):m=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,$l(s),p.updater=So,s.stateNode=p,p._reactInternals=s,eu(s,d,r,u),s=iu(null,s,d,!0,m,u)):(s.tag=0,Ae&&m&&Ol(s),lt(null,s,p,u),s=s.child),s;case 16:d=s.elementType;e:{switch(Co(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=rv(d),r=Ut(d,r),p){case 0:s=ru(null,s,d,r,u);break e;case 1:s=cf(null,s,d,r,u);break e;case 11:s=sf(null,s,d,r,u);break e;case 14:s=of(null,s,d,Ut(d.type,r),u);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Ut(d,p),ru(r,s,d,p,u);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Ut(d,p),cf(r,s,d,p,u);case 3:e:{if(df(s),r===null)throw Error(t(387));d=s.pendingProps,m=s.memoizedState,p=m.element,Eh(r,s),yo(s,d,null,u);var _=s.memoizedState;if(d=_.element,m.isDehydrated)if(m={element:d,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){p=Vr(Error(t(423)),s),s=hf(r,s,d,u,p);break e}else if(d!==p){p=Vr(Error(t(424)),s),s=hf(r,s,d,u,p);break e}else for(Et=On(s.stateNode.containerInfo.firstChild),St=s,Ae=!0,Bt=null,u=kh(s,null,d,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if($r(),d===p){s=fn(r,s,u);break e}lt(r,s,d,u)}s=s.child}return s;case 5:return Th(s),r===null&&jl(s),d=s.type,p=s.pendingProps,m=r!==null?r.memoizedProps:null,_=p.children,Sl(d,p)?_=null:m!==null&&Sl(d,m)&&(s.flags|=32),uf(r,s),lt(r,s,_,u),s.child;case 6:return r===null&&jl(s),null;case 13:return ff(r,s,u);case 4:return Bl(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Br(s,null,d,u):lt(r,s,d,u),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Ut(d,p),sf(r,s,d,p,u);case 7:return lt(r,s,s.pendingProps,u),s.child;case 8:return lt(r,s,s.pendingProps.children,u),s.child;case 12:return lt(r,s,s.pendingProps.children,u),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,m=s.memoizedProps,_=p.value,Ce(po,d._currentValue),d._currentValue=_,m!==null)if($t(m.value,_)){if(m.children===p.children&&!ht.current){s=fn(r,s,u);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var S=m.dependencies;if(S!==null){_=m.child;for(var E=S.firstContext;E!==null;){if(E.context===d){if(m.tag===1){E=hn(-1,u&-u),E.tag=2;var I=m.updateQueue;if(I!==null){I=I.shared;var B=I.pending;B===null?E.next=E:(E.next=B.next,B.next=E),I.pending=E}}m.lanes|=u,E=m.alternate,E!==null&&(E.lanes|=u),zl(m.return,u,s),S.lanes|=u;break}E=E.next}}else if(m.tag===10)_=m.type===s.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=u,S=_.alternate,S!==null&&(S.lanes|=u),zl(_,u,s),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===s){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}lt(r,s,p.children,u),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,Wr(s,u),p=Lt(p),d=d(p),s.flags|=1,lt(r,s,d,u),s.child;case 14:return d=s.type,p=Ut(d,s.pendingProps),p=Ut(d.type,p),of(r,s,d,p,u);case 15:return af(r,s,s.type,s.pendingProps,u);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Ut(d,p),Co(r,s),s.tag=1,ft(d)?(r=!0,ao(s)):r=!1,Wr(s,u),Qh(s,d,p),eu(s,d,p,u),iu(null,s,d,!0,r,u);case 19:return gf(r,s,u);case 22:return lf(r,s,u)}throw Error(t(156,s.tag))};function Ff(r,s){return yd(r,s)}function nv(r,s,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(r,s,u,d){return new nv(r,s,u,d)}function Su(r){return r=r.prototype,!(!r||!r.isReactComponent)}function rv(r){if(typeof r=="function")return Su(r)?1:0;if(r!=null){if(r=r.$$typeof,r===se)return 11;if(r===he)return 14}return 2}function Bn(r,s){var u=r.alternate;return u===null?(u=Dt(r.tag,s,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=s,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,s=r.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function No(r,s,u,d,p,m){var _=2;if(d=r,typeof r=="function")Su(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case U:return hr(u.children,p,m,s);case q:_=8,p|=8;break;case Z:return r=Dt(12,u,s,p|2),r.elementType=Z,r.lanes=m,r;case we:return r=Dt(13,u,s,p),r.elementType=we,r.lanes=m,r;case Te:return r=Dt(19,u,s,p),r.elementType=Te,r.lanes=m,r;case ue:return zo(u,p,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case te:_=10;break e;case ie:_=9;break e;case se:_=11;break e;case he:_=14;break e;case fe:_=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Dt(_,u,s,p),s.elementType=r,s.type=d,s.lanes=m,s}function hr(r,s,u,d){return r=Dt(7,r,d,s),r.lanes=u,r}function zo(r,s,u,d){return r=Dt(22,r,d,s),r.elementType=ue,r.lanes=u,r.stateNode={isHidden:!1},r}function Eu(r,s,u){return r=Dt(6,r,null,s),r.lanes=u,r}function Cu(r,s,u){return s=Dt(4,r.children!==null?r.children:[],r.key,s),s.lanes=u,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function iv(r,s,u,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Za(0),this.expirationTimes=Za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Za(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Pu(r,s,u,d,p,m,_,S,E){return r=new iv(r,s,u,S,E),s===1?(s=1,m===!0&&(s|=8)):s=0,m=Dt(3,null,null,s),r.current=m,m.stateNode=r,m.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},$l(m),r}function sv(r,s,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:d==null?null:""+d,children:r,containerInfo:s,implementation:u}}function $f(r){if(!r)return Ln;r=r._reactInternals;e:{if(er(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ft(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var u=r.type;if(ft(u))return fh(r,u,s)}return s}function Bf(r,s,u,d,p,m,_,S,E){return r=Pu(u,d,!0,r,p,m,_,S,E),r.context=$f(null),u=r.current,d=ut(),p=Fn(u),m=hn(d,p),m.callback=s??null,Dn(u,m,p),r.current.lanes=p,Ri(r,p,d),mt(r,d),r}function Fo(r,s,u,d){var p=s.current,m=ut(),_=Fn(p);return u=$f(u),s.context===null?s.context=u:s.pendingContext=u,s=hn(m,_),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Dn(p,s,_),r!==null&&(Vt(r,p,_,m),mo(r,p,_)),_}function $o(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function Uf(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<s?u:s}}function Tu(r,s){Uf(r,s),(r=r.alternate)&&Uf(r,s)}function ov(){return null}var Wf=typeof reportError=="function"?reportError:function(r){console.error(r)};function Ru(r){this._internalRoot=r}Bo.prototype.render=Ru.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Fo(r,s,null,null)},Bo.prototype.unmount=Ru.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ur(function(){Fo(null,r,null,null)}),s[an]=null}};function Bo(r){this._internalRoot=r}Bo.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ed();r={blockedOn:null,target:r,priority:s};for(var u=0;u<Pn.length&&s!==0&&s<Pn[u].priority;u++);Pn.splice(u,0,r),u===0&&Td(r)}};function Ou(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Uo(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Hf(){}function av(r,s,u,d,p){if(p){if(typeof d=="function"){var m=d;d=function(){var I=$o(_);m.call(I)}}var _=Bf(s,d,r,0,null,!1,!1,"",Hf);return r._reactRootContainer=_,r[an]=_.current,Wi(r.nodeType===8?r.parentNode:r),ur(),_}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var S=d;d=function(){var I=$o(E);S.call(I)}}var E=Pu(r,0,!1,null,null,!1,!1,"",Hf);return r._reactRootContainer=E,r[an]=E.current,Wi(r.nodeType===8?r.parentNode:r),ur(function(){Fo(s,E,u,d)}),E}function Wo(r,s,u,d,p){var m=u._reactRootContainer;if(m){var _=m;if(typeof p=="function"){var S=p;p=function(){var E=$o(_);S.call(E)}}Fo(s,_,r,p)}else _=av(u,s,r,p,d);return $o(_)}kd=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var u=Ti(s.pendingLanes);u!==0&&(el(s,u|1),mt(s,$e()),(ye&6)===0&&(Yr=$e()+500,jn()))}break;case 13:ur(function(){var d=dn(r,1);if(d!==null){var p=ut();Vt(d,r,1,p)}}),Tu(r,1)}},tl=function(r){if(r.tag===13){var s=dn(r,134217728);if(s!==null){var u=ut();Vt(s,r,134217728,u)}Tu(r,134217728)}},Sd=function(r){if(r.tag===13){var s=Fn(r),u=dn(r,s);if(u!==null){var d=ut();Vt(u,r,s,d)}Tu(r,s)}},Ed=function(){return ke},Cd=function(r,s){var u=ke;try{return ke=r,s()}finally{ke=u}},Ka=function(r,s,u){switch(s){case"input":if(Fa(r,u),s=u.name,u.type==="radio"&&s!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var d=u[s];if(d!==r&&d.form===r.form){var p=so(d);if(!p)throw Error(t(90));Xc(d),Fa(d,p)}}}break;case"textarea":td(r,u);break;case"select":s=u.value,s!=null&&Er(r,!!u.multiple,s,!1)}},cd=xu,dd=ur;var lv={usingClientEntryPoint:!1,Events:[qi,Dr,so,ld,ud,xu]},os={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uv={bundleType:os.bundleType,version:os.version,rendererPackageName:os.rendererPackageName,rendererConfig:os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=gd(r),r===null?null:r.stateNode},findFiberByHostInstance:os.findFiberByHostInstance||ov,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{$s=Ho.inject(uv),Gt=Ho}catch{}}return yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lv,yt.createPortal=function(r,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ou(s))throw Error(t(200));return sv(r,s,null,u)},yt.createRoot=function(r,s){if(!Ou(r))throw Error(t(299));var u=!1,d="",p=Wf;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Pu(r,1,!1,null,null,u,!1,d,p),r[an]=s.current,Wi(r.nodeType===8?r.parentNode:r),new Ru(s)},yt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=gd(s),r=r===null?null:r.stateNode,r},yt.flushSync=function(r){return ur(r)},yt.hydrate=function(r,s,u){if(!Uo(s))throw Error(t(200));return Wo(null,r,s,!0,u)},yt.hydrateRoot=function(r,s,u){if(!Ou(r))throw Error(t(405));var d=u!=null&&u.hydratedSources||null,p=!1,m="",_=Wf;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),s=Bf(s,null,r,1,u??null,p,!1,m,_),r[an]=s.current,Wi(r),d)for(r=0;r<d.length;r++)u=d[r],p=u._getVersion,p=p(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,p]:s.mutableSourceEagerHydrationData.push(u,p);return new Bo(s)},yt.render=function(r,s,u){if(!Uo(s))throw Error(t(200));return Wo(null,r,s,!1,u)},yt.unmountComponentAtNode=function(r){if(!Uo(r))throw Error(t(40));return r._reactRootContainer?(ur(function(){Wo(null,null,r,!1,function(){r._reactRootContainer=null,r[an]=null})}),!0):!1},yt.unstable_batchedUpdates=xu,yt.unstable_renderSubtreeIntoContainer=function(r,s,u,d){if(!Uo(u))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Wo(r,s,u,!1,d)},yt.version="18.3.1-next-f1338f8080-20240426",yt}var Jf;function _v(){if(Jf)return ju.exports;Jf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ju.exports=vv(),ju.exports}var Zf;function wv(){if(Zf)return Vo;Zf=1;var n=_v();return Vo.createRoot=n.createRoot,Vo.hydrateRoot=n.hydrateRoot,Vo}var xv=wv();const bv="modulepreload",kv=function(n){return"/"+n},ep={},Tt=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let h=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");o=h(t.map(f=>{if(f=kv(f),f in ep)return;ep[f]=!0;const g=f.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":bv,g||(v.as="script"),v.crossOrigin="",v.href=f,c&&v.setAttribute("nonce",c),document.head.appendChild(v),g)return new Promise((w,b)=>{v.addEventListener("load",w),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};var tp="popstate";function Sv(n={}){function e(i,o){let{pathname:a,search:l,hash:c}=i.location;return ic("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Ss(o)}return Cv(e,t,null,n)}function De(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Nt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ev(){return Math.random().toString(36).substring(2,10)}function np(n,e){return{usr:n.state,key:n.key,idx:e}}function ic(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?pi(e):e,state:t,key:e&&e.key||i||Ev()}}function Ss({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function pi(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Cv(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,l=o.history,c="POP",h=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function y(){c="POP";let x=g(),P=x==null?null:x-f;f=x,h&&h({action:c,location:k.location,delta:P})}function v(x,P){c="PUSH";let C=ic(k.location,x,P);f=g()+1;let R=np(C,f),D=k.createHref(C);try{l.pushState(R,"",D)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;o.location.assign(D)}a&&h&&h({action:c,location:k.location,delta:1})}function w(x,P){c="REPLACE";let C=ic(k.location,x,P);f=g();let R=np(C,f),D=k.createHref(C);l.replaceState(R,"",D),a&&h&&h({action:c,location:k.location,delta:0})}function b(x){return Pv(x)}let k={get action(){return c},get location(){return n(o,l)},listen(x){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(tp,y),h=x,()=>{o.removeEventListener(tp,y),h=null}},createHref(x){return e(o,x)},createURL:b,encodeLocation(x){let P=b(x);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:v,replace:w,go(x){return l.go(x)}};return k}function Pv(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),De(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Ss(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Bg(n,e,t="/"){return Tv(n,e,t,!1)}function Tv(n,e,t,i){let o=typeof e=="string"?pi(e):e,a=kn(o.pathname||"/",t);if(a==null)return null;let l=Ug(n);Rv(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=$v(a);c=zv(l[h],f,i)}return c}function Ug(n,e=[],t=[],i="",o=!1){let a=(l,c,h=o,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&h)return;De(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let y=bn([i,g.relativePath]),v=t.concat(g);l.children&&l.children.length>0&&(De(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Ug(l.children,e,v,y,h)),!(l.path==null&&!l.index)&&e.push({path:y,score:Iv(y,l.index),routesMeta:v})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let h of Wg(l.path))a(l,c,!0,h)}),e}function Wg(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let l=Wg(i.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),o&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function Rv(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Nv(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Ov=/^:[\w-]+$/,Mv=3,Lv=2,jv=1,Av=10,Dv=-2,rp=n=>n==="*";function Iv(n,e){let t=n.split("/"),i=t.length;return t.some(rp)&&(i+=Dv),e&&(i+=Lv),t.filter(o=>!rp(o)).reduce((o,a)=>o+(Ov.test(a)?Mv:a===""?jv:Av),i)}function Nv(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function zv(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],f=c===i.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=ma({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),v=h.route;if(!y&&f&&t&&!i[i.length-1].route.index&&(y=ma({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),l.push({params:o,pathname:bn([a,y.pathname]),pathnameBase:Hv(bn([a,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(a=bn([a,y.pathnameBase]))}return l}function ma(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Fv(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((f,{paramName:g,isOptional:y},v)=>{if(g==="*"){let b=c[v]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const w=c[v];return y&&!w?f[g]=void 0:f[g]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function Fv(n,e=!1,t=!0){Nt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function $v(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function kn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var Hg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bv=n=>Hg.test(n);function Uv(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?pi(n):n,a;if(t)if(Bv(t))a=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),Nt(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?a=ip(t.substring(1),"/"):a=ip(t,e)}else a=e;return{pathname:a,search:Vv(i),hash:qv(o)}}function ip(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Iu(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wv(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kc(n){let e=Wv(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Sc(n,e,t,i=!1){let o;typeof n=="string"?o=pi(n):(o={...n},De(!o.pathname||!o.pathname.includes("?"),Iu("?","pathname","search",o)),De(!o.pathname||!o.pathname.includes("#"),Iu("#","pathname","hash",o)),De(!o.search||!o.search.includes("#"),Iu("#","search","hash",o)));let a=n===""||o.pathname==="",l=a?"/":o.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}c=y>=0?e[y]:"/"}let h=Uv(o,c),f=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var bn=n=>n.join("/").replace(/\/\/+/g,"/"),Hv=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Vv=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qv=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Kv=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Yv(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Gv(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Vg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qg(n,e){let t=n;if(typeof t!="string"||!Hg.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,o=!1;if(Vg)try{let a=new URL(window.location.href),l=t.startsWith("//")?new URL(a.protocol+t):new URL(t),c=kn(l.pathname,e);l.origin===a.origin&&c!=null?t=c+l.search+l.hash:o=!0}catch{Nt(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kg=["POST","PUT","PATCH","DELETE"];new Set(Kg);var Xv=["GET",...Kg];new Set(Xv);var gi=O.createContext(null);gi.displayName="DataRouter";var Ma=O.createContext(null);Ma.displayName="DataRouterState";var Qv=O.createContext(!1),Yg=O.createContext({isTransitioning:!1});Yg.displayName="ViewTransition";var Jv=O.createContext(new Map);Jv.displayName="Fetchers";var Zv=O.createContext(null);Zv.displayName="Await";var Rt=O.createContext(null);Rt.displayName="Navigation";var Os=O.createContext(null);Os.displayName="Location";var on=O.createContext({outlet:null,matches:[],isDataRoute:!1});on.displayName="Route";var Ec=O.createContext(null);Ec.displayName="RouteError";var Gg="REACT_ROUTER_ERROR",e_="REDIRECT",t_="ROUTE_ERROR_RESPONSE";function n_(n){if(n.startsWith(`${Gg}:${e_}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function r_(n){if(n.startsWith(`${Gg}:${t_}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Kv(e.status,e.statusText,e.data)}catch{}}function i_(n,{relative:e}={}){De(mi(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=O.useContext(Rt),{hash:o,pathname:a,search:l}=Ms(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:bn([t,a])),i.createHref({pathname:c,search:l,hash:o})}function mi(){return O.useContext(Os)!=null}function Jn(){return De(mi(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Os).location}var Xg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qg(n){O.useContext(Rt).static||O.useLayoutEffect(n)}function Jg(){let{isDataRoute:n}=O.useContext(on);return n?y_():s_()}function s_(){De(mi(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(gi),{basename:e,navigator:t}=O.useContext(Rt),{matches:i}=O.useContext(on),{pathname:o}=Jn(),a=JSON.stringify(kc(i)),l=O.useRef(!1);return Qg(()=>{l.current=!0}),O.useCallback((h,f={})=>{if(Nt(l.current,Xg),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=Sc(h,JSON.parse(a),o,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:bn([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,a,o,n])}O.createContext(null);function Ms(n,{relative:e}={}){let{matches:t}=O.useContext(on),{pathname:i}=Jn(),o=JSON.stringify(kc(t));return O.useMemo(()=>Sc(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function o_(n,e){return Zg(n,e)}function Zg(n,e,t,i,o){De(mi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(Rt),{matches:l}=O.useContext(on),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let C=y&&y.path||"";tm(f,!y||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=Jn(),w;if(e){let C=typeof e=="string"?pi(e):e;De(g==="/"||C.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${C.pathname}" was given in the \`location\` prop.`),w=C}else w=v;let b=w.pathname||"/",k=b;if(g!=="/"){let C=g.replace(/^\//,"").split("/");k="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let x=Bg(n,{pathname:k});Nt(y||x!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Nt(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=d_(x&&x.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:bn([g,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:bn([g,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),l,t,i,o);return e&&P?O.createElement(Os.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},P):P}function a_(){let n=m_(),e=Yv(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:o},t):null,l)}var l_=O.createElement(a_,null),em=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=r_(n.digest);t&&(n=t)}let e=n!==void 0?O.createElement(on.Provider,{value:this.props.routeContext},O.createElement(Ec.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?O.createElement(u_,{error:n},e):e}};em.contextType=Qv;var Nu=new WeakMap;function u_({children:n,error:e}){let{basename:t}=O.useContext(Rt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=n_(e.digest);if(i){let o=Nu.get(e);if(o)throw o;let a=qg(i.location,t);if(Vg&&!Nu.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw Nu.set(e,l),l}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return n}function c_({routeContext:n,match:e,children:t}){let i=O.useContext(gi);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(on.Provider,{value:n},t)}function d_(n,e=[],t=null,i=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let g=a.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);De(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let c=!1,h=-1;if(t)for(let g=0;g<a.length;g++){let y=a[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=g),y.route.id){let{loaderData:v,errors:w}=t,b=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||b){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}let f=t&&i?(g,y)=>{i(g,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:Gv(t.matches),errorInfo:y})}:void 0;return a.reduceRight((g,y,v)=>{let w,b=!1,k=null,x=null;t&&(w=l&&y.route.id?l[y.route.id]:void 0,k=y.route.errorElement||l_,c&&(h<0&&v===0?(tm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):h===v&&(b=!0,x=y.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,v+1)),C=()=>{let R;return w?R=k:b?R=x:y.route.Component?R=O.createElement(y.route.Component,null):y.route.element?R=y.route.element:R=g,O.createElement(c_,{match:y,routeContext:{outlet:g,matches:P,isDataRoute:t!=null},children:R})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?O.createElement(em,{location:t.location,revalidation:t.revalidation,component:k,error:w,children:C(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:f}):C()},null)}function Cc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h_(n){let e=O.useContext(gi);return De(e,Cc(n)),e}function f_(n){let e=O.useContext(Ma);return De(e,Cc(n)),e}function p_(n){let e=O.useContext(on);return De(e,Cc(n)),e}function Pc(n){let e=p_(n),t=e.matches[e.matches.length-1];return De(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function g_(){return Pc("useRouteId")}function m_(){let n=O.useContext(Ec),e=f_("useRouteError"),t=Pc("useRouteError");return n!==void 0?n:e.errors?.[t]}function y_(){let{router:n}=h_("useNavigate"),e=Pc("useNavigate"),t=O.useRef(!1);return Qg(()=>{t.current=!0}),O.useCallback(async(o,a={})=>{Nt(t.current,Xg),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var sp={};function tm(n,e,t){!e&&!sp[n]&&(sp[n]=!0,Nt(!1,t))}O.memo(v_);function v_({routes:n,future:e,state:t,onError:i}){return Zg(n,void 0,t,i,e)}function nm({to:n,replace:e,state:t,relative:i}){De(mi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(Rt);Nt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=O.useContext(on),{pathname:l}=Jn(),c=Jg(),h=Sc(n,kc(a),l,i==="path"),f=JSON.stringify(h);return O.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:i})},[c,f,i,e,t]),null}function ca(n){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function __({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1,unstable_useTransitions:l}){De(!mi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:c,navigator:o,static:a,unstable_useTransitions:l,future:{}}),[c,o,a,l]);typeof t=="string"&&(t=pi(t));let{pathname:f="/",search:g="",hash:y="",state:v=null,key:w="default"}=t,b=O.useMemo(()=>{let k=kn(f,c);return k==null?null:{location:{pathname:k,search:g,hash:y,state:v,key:w},navigationType:i}},[c,f,g,y,v,w,i]);return Nt(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:O.createElement(Rt.Provider,{value:h},O.createElement(Os.Provider,{children:e,value:b}))}function w_({children:n,location:e}){return o_(sc(n),e)}function sc(n,e=[]){let t=[];return O.Children.forEach(n,(i,o)=>{if(!O.isValidElement(i))return;let a=[...e,o];if(i.type===O.Fragment){t.push.apply(t,sc(i.props.children,a));return}De(i.type===ca,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=sc(i.props.children,a)),t.push(l)}),t}var da="get",ha="application/x-www-form-urlencoded";function La(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function x_(n){return La(n)&&n.tagName.toLowerCase()==="button"}function b_(n){return La(n)&&n.tagName.toLowerCase()==="form"}function k_(n){return La(n)&&n.tagName.toLowerCase()==="input"}function S_(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function E_(n,e){return n.button===0&&(!e||e==="_self")&&!S_(n)}var qo=null;function C_(){if(qo===null)try{new FormData(document.createElement("form"),0),qo=!1}catch{qo=!0}return qo}var P_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zu(n){return n!=null&&!P_.has(n)?(Nt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ha}"`),null):n}function T_(n,e){let t,i,o,a,l;if(b_(n)){let c=n.getAttribute("action");i=c?kn(c,e):null,t=n.getAttribute("method")||da,o=zu(n.getAttribute("enctype"))||ha,a=new FormData(n)}else if(x_(n)||k_(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(i=h?kn(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||da,o=zu(n.getAttribute("formenctype"))||zu(c.getAttribute("enctype"))||ha,a=new FormData(c,n),!C_()){let{name:f,type:g,value:y}=n;if(g==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,y)}}else{if(La(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=da,i=null,o=ha,l=n}return a&&o==="text/plain"&&(l=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tc(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function R_(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&kn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function O_(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function M_(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function L_(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let l=await O_(a,t);return l.links?l.links():[]}return[]}));return I_(i.flat(1).filter(M_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function op(n,e,t,i,o,a){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,c=(h,f)=>t[f].pathname!==h.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==h.params["*"];return a==="assets"?e.filter((h,f)=>l(h,f)||c(h,f)):a==="data"?e.filter((h,f)=>{let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function j_(n,e,{includeHydrateFallback:t}={}){return A_(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function A_(n){return[...new Set(n)]}function D_(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function I_(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(D_(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function rm(){let n=O.useContext(gi);return Tc(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function N_(){let n=O.useContext(Ma);return Tc(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Rc=O.createContext(void 0);Rc.displayName="FrameworkContext";function im(){let n=O.useContext(Rc);return Tc(n,"You must render this element inside a <HydratedRouter> element"),n}function z_(n,e){let t=O.useContext(Rc),[i,o]=O.useState(!1),[a,l]=O.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:y}=e,v=O.useRef(null);O.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let k=P=>{P.forEach(C=>{l(C.isIntersecting)})},x=new IntersectionObserver(k,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[n]),O.useEffect(()=>{if(i){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[i]);let w=()=>{o(!0)},b=()=>{o(!1),l(!1)};return t?n!=="intent"?[a,v,{}]:[a,v,{onFocus:ls(c,w),onBlur:ls(h,b),onMouseEnter:ls(f,w),onMouseLeave:ls(g,b),onTouchStart:ls(y,w)}]:[!1,v,{}]}function ls(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function F_({page:n,...e}){let{router:t}=rm(),i=O.useMemo(()=>Bg(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?O.createElement(B_,{page:n,matches:i,...e}):null}function $_(n){let{manifest:e,routeModules:t}=im(),[i,o]=O.useState([]);return O.useEffect(()=>{let a=!1;return L_(n,e,t).then(l=>{a||o(l)}),()=>{a=!0}},[n,e,t]),i}function B_({page:n,matches:e,...t}){let i=Jn(),{manifest:o,routeModules:a}=im(),{basename:l}=rm(),{loaderData:c,matches:h}=N_(),f=O.useMemo(()=>op(n,e,h,o,i,"data"),[n,e,h,o,i]),g=O.useMemo(()=>op(n,e,h,o,i,"assets"),[n,e,h,o,i]),y=O.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,k=!1;if(e.forEach(P=>{let C=o.routes[P.route.id];!C||!C.hasLoader||(!f.some(R=>R.route.id===P.route.id)&&P.route.id in c&&a[P.route.id]?.shouldRevalidate||C.hasClientLoader?k=!0:b.add(P.route.id))}),b.size===0)return[];let x=R_(n,l,"data");return k&&b.size>0&&x.searchParams.set("_routes",e.filter(P=>b.has(P.route.id)).map(P=>P.route.id).join(",")),[x.pathname+x.search]},[l,c,i,o,f,e,n,a]),v=O.useMemo(()=>j_(g,o),[g,o]),w=$_(g);return O.createElement(O.Fragment,null,y.map(b=>O.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>O.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),w.map(({key:b,link:k})=>O.createElement("link",{key:b,nonce:t.nonce,...k})))}function U_(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var W_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W_&&(window.__reactRouterVersion="7.11.0")}catch{}function H_({basename:n,children:e,unstable_useTransitions:t,window:i}){let o=O.useRef();o.current==null&&(o.current=Sv({window:i,v5Compat:!0}));let a=o.current,[l,c]=O.useState({action:a.action,location:a.location}),h=O.useCallback(f=>{t===!1?c(f):O.startTransition(()=>c(f))},[t]);return O.useLayoutEffect(()=>a.listen(h),[a,h]),O.createElement(__,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:t})}var sm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,om=O.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:l,state:c,target:h,to:f,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v,...w},b){let{basename:k,unstable_useTransitions:x}=O.useContext(Rt),P=typeof f=="string"&&sm.test(f),C=qg(f,k);f=C.to;let R=i_(f,{relative:o}),[D,N,z]=z_(i,w),U=Y_(f,{replace:l,state:c,target:h,preventScrollReset:g,relative:o,viewTransition:y,unstable_defaultShouldRevalidate:v,unstable_useTransitions:x});function q(te){e&&e(te),te.defaultPrevented||U(te)}let Z=O.createElement("a",{...w,...z,href:C.absoluteURL||R,onClick:C.isExternal||a?e:q,ref:U_(b,N),target:h,"data-discover":!P&&t==="render"?"true":void 0});return D&&!P?O.createElement(O.Fragment,null,Z,O.createElement(F_,{page:R})):Z});om.displayName="Link";var V_=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:c,children:h,...f},g){let y=Ms(l,{relative:f.relative}),v=Jn(),w=O.useContext(Ma),{navigator:b,basename:k}=O.useContext(Rt),x=w!=null&&Z_(y)&&c===!0,P=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,C=v.pathname,R=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(C=C.toLowerCase(),R=R?R.toLowerCase():null,P=P.toLowerCase()),R&&k&&(R=kn(R,k)||R);const D=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let N=C===P||!o&&C.startsWith(P)&&C.charAt(D)==="/",z=R!=null&&(R===P||!o&&R.startsWith(P)&&R.charAt(P.length)==="/"),U={isActive:N,isPending:z,isTransitioning:x},q=N?e:void 0,Z;typeof i=="function"?Z=i(U):Z=[i,N?"active":null,z?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let te=typeof a=="function"?a(U):a;return O.createElement(om,{...f,"aria-current":q,className:Z,ref:g,style:te,to:l,viewTransition:c},typeof h=="function"?h(U):h)});V_.displayName="NavLink";var q_=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:l=da,action:c,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v,...w},b)=>{let{unstable_useTransitions:k}=O.useContext(Rt),x=Q_(),P=J_(c,{relative:f}),C=l.toLowerCase()==="get"?"get":"post",R=typeof c=="string"&&sm.test(c),D=N=>{if(h&&h(N),N.defaultPrevented)return;N.preventDefault();let z=N.nativeEvent.submitter,U=z?.getAttribute("formmethod")||l,q=()=>x(z||N.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:o,state:a,relative:f,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v});k&&t!==!1?O.startTransition(()=>q()):q()};return O.createElement("form",{ref:b,method:C,action:P,onSubmit:i?h:D,...w,"data-discover":!R&&n==="render"?"true":void 0})});q_.displayName="Form";function K_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function am(n){let e=O.useContext(gi);return De(e,K_(n)),e}function Y_(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:h}={}){let f=Jg(),g=Jn(),y=Ms(n,{relative:a});return O.useCallback(v=>{if(E_(v,e)){v.preventDefault();let w=t!==void 0?t:Ss(g)===Ss(y),b=()=>f(n,{replace:w,state:i,preventScrollReset:o,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c});h?O.startTransition(()=>b()):b()}},[g,f,y,t,i,e,n,o,a,l,c,h])}var G_=0,X_=()=>`__${String(++G_)}__`;function Q_(){let{router:n}=am("useSubmit"),{basename:e}=O.useContext(Rt),t=g_(),i=n.fetch,o=n.navigate;return O.useCallback(async(a,l={})=>{let{action:c,method:h,encType:f,formData:g,body:y}=T_(a,e);if(l.navigate===!1){let v=l.fetcherKey||X_();await i(v,t,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||f,flushSync:l.flushSync})}else await o(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,o,e,t])}function J_(n,{relative:e}={}){let{basename:t}=O.useContext(Rt),i=O.useContext(on);De(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Ms(n||".",{relative:e})},l=Jn();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:bn([t,a.pathname])),Ss(a)}function Z_(n,{relative:e}={}){let t=O.useContext(Yg);De(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=am("useViewTransitionState"),o=Ms(n,{relative:e});if(!t.isTransitioning)return!1;let a=kn(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=kn(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ma(o.pathname,l)!=null||ma(o.pathname,a)!=null}const ew=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Tt(async()=>{const{default:i}=await Promise.resolve().then(()=>yi);return{default:i}},[]).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class Oc extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class tw extends Oc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ap extends Oc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class lp extends Oc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var oc;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(oc||(oc={}));var nw=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{f(i.next(g))}catch(y){l(y)}}function h(g){try{f(i.throw(g))}catch(y){l(y)}}function f(g){g.done?a(g.value):o(g.value).then(c,h)}f((i=i.apply(n,e||[])).next())})};class rw{constructor(e,{headers:t={},customFetch:i,region:o=oc.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=ew(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return nw(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:l}=t;let c={},{region:h}=t;h||(h=this.region);const f=new URL(`${this.url}/${e}`);h&&h!=="any"&&(c["x-region"]=h,f.searchParams.set("forceFunctionRegion",h));let g;l&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",g=l):typeof l=="string"?(c["Content-Type"]="text/plain",g=l):typeof FormData<"u"&&l instanceof FormData?g=l:(c["Content-Type"]="application/json",g=JSON.stringify(l)));const y=yield this.fetch(f.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),o),body:g}).catch(k=>{throw new tw(k)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new ap(y);if(!y.ok)throw new lp(y);let w=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return w==="application/json"?b=yield y.json():w==="application/octet-stream"?b=yield y.blob():w==="text/event-stream"?b=y:w==="multipart/form-data"?b=yield y.formData():b=yield y.text(),{data:b,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof lp||o instanceof ap?o.context:void 0}}})}}var Ze={},Xr={},Qr={},Jr={},Zr={},ei={},iw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hi=iw();const sw=hi.fetch,lm=hi.fetch.bind(hi),um=hi.Headers,ow=hi.Request,aw=hi.Response,yi=Object.freeze(Object.defineProperty({__proto__:null,Headers:um,Request:ow,Response:aw,default:lm,fetch:sw},Symbol.toStringTag,{value:"Module"})),lw=hv(yi);var Ko={},up;function cm(){if(up)return Ko;up=1,Object.defineProperty(Ko,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Ko.default=n,Ko}var cp;function dm(){if(cp)return ei;cp=1;var n=ei&&ei.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ei,"__esModule",{value:!0});const e=n(lw),t=n(cm());class i{constructor(a){var l,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let h=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var g,y,v,w;let b=null,k=null,x=null,P=f.status,C=f.statusText;if(f.ok){if(this.method!=="HEAD"){const z=await f.text();z===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?k=z:k=JSON.parse(z))}const D=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),N=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");D&&N&&N.length>1&&(x=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(b={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,x=null,P=406,C="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const D=await f.text();try{b=JSON.parse(D),Array.isArray(b)&&f.status===404&&(k=[],b=null,P=200,C="OK")}catch{f.status===404&&D===""?(P=204,C="No Content"):b={message:D}}if(b&&this.isMaybeSingle&&(!((w=b?.details)===null||w===void 0)&&w.includes("0 rows"))&&(b=null,P=200,C="OK"),b&&this.shouldThrowOnError)throw new t.default(b)}return{error:b,data:k,count:x,status:P,statusText:C}});return this.shouldThrowOnError||(h=h.catch(f=>{var g,y,v;return{error:{message:`${(g=f?.name)!==null&&g!==void 0?g:"FetchError"}: ${f?.message}`,details:`${(y=f?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(v=f?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),h.then(a,l)}returns(){return this}overrideTypes(){return this}}return ei.default=i,ei}var dp;function hm(){if(dp)return Zr;dp=1;var n=Zr&&Zr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Zr,"__esModule",{value:!0});const e=n(dm());class t extends e.default{select(o){let a=!1;const l=(o??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:l,foreignTable:c,referencedTable:h=c}={}){const f=h?`${h}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${o}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${o}`),this}range(o,a,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(f,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:l=!1,buffers:c=!1,wal:h=!1,format:f="text"}={}){var g;const y=[o?"analyze":null,a?"verbose":null,l?"settings":null,c?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${y};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Zr.default=t,Zr}var hp;function Mc(){if(hp)return Jr;hp=1;var n=Jr&&Jr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Jr,"__esModule",{value:!0});const e=n(hm());class t extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${l})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:l,type:c}={}){let h="";c==="plain"?h="pl":c==="phrase"?h="ph":c==="websearch"&&(h="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(o,`${h}fts${f}.${a}`),this}match(o){return Object.entries(o).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(o,a,l){return this.url.searchParams.append(o,`not.${a}.${l}`),this}or(o,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,a,l){return this.url.searchParams.append(o,`${a}.${l}`),this}}return Jr.default=t,Jr}var fp;function fm(){if(fp)return Qr;fp=1;var n=Qr&&Qr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qr,"__esModule",{value:!0});const e=n(Mc());class t{constructor(o,{headers:a={},schema:l,fetch:c}){this.url=o,this.headers=new Headers(a),this.schema=l,this.fetch=c}select(o,{head:a=!1,count:l}={}){const c=a?"HEAD":"GET";let h=!1;const f=(o??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:l=!0}={}){var c;const h="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const f=o.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(f.length>0){const g=[...new Set(f)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:l=!1,count:c,defaultToNull:h=!0}={}){var f;const g="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(y.length>0){const v=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(o,{count:a}={}){var l;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:o}={}){var a;const l="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Qr.default=t,Qr}var pp;function uw(){if(pp)return Xr;pp=1;var n=Xr&&Xr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Xr,"__esModule",{value:!0});const e=n(fm()),t=n(Mc());class i{constructor(a,{headers:l={},schema:c,fetch:h}={}){this.url=a,this.headers=new Headers(l),this.schemaName=c,this.fetch=h}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new i(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:c=!1,get:h=!1,count:f}={}){var g;let y;const v=new URL(`${this.url}/rpc/${a}`);let w;c||h?(y=c?"HEAD":"GET",Object.entries(l).filter(([k,x])=>x!==void 0).map(([k,x])=>[k,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([k,x])=>{v.searchParams.append(k,x)})):(y="POST",w=l);const b=new Headers(this.headers);return f&&b.set("Prefer",`count=${f}`),new t.default({method:y,url:v,headers:b,schema:this.schemaName,body:w,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Xr.default=i,Xr}var gp;function cw(){if(gp)return Ze;gp=1;var n=Ze&&Ze.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const e=n(uw());Ze.PostgrestClient=e.default;const t=n(fm());Ze.PostgrestQueryBuilder=t.default;const i=n(Mc());Ze.PostgrestFilterBuilder=i.default;const o=n(hm());Ze.PostgrestTransformBuilder=o.default;const a=n(dm());Ze.PostgrestBuilder=a.default;const l=n(cm());return Ze.PostgrestError=l.default,Ze.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:l.default},Ze}var dw=cw();const hw=dv(dw),{PostgrestClient:fw,PostgrestQueryBuilder:EE,PostgrestFilterBuilder:CE,PostgrestTransformBuilder:PE,PostgrestBuilder:TE,PostgrestError:RE}=hw;class pw{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const gw="2.15.5",mw=`realtime-js/${gw}`,yw="1.0.0",ac=1e4,vw=1e3,_w=100;var vs;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(vs||(vs={}));var Ke;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ke||(Ke={}));var Kt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Kt||(Kt={}));var lc;(function(n){n.websocket="websocket"})(lc||(lc={}));var wr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(wr||(wr={}));class ww{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const o=t.getUint8(1),a=t.getUint8(2);let l=this.HEADER_LENGTH+2;const c=i.decode(e.slice(l,l+o));l=l+o;const h=i.decode(e.slice(l,l+a));l=l+a;const f=JSON.parse(i.decode(e.slice(l,e.byteLength)));return{ref:null,topic:c,event:h,payload:f}}}class pm{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Pe||(Pe={}));const mp=(n,e,t={})=>{var i;const o=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((a,l)=>(a[l]=xw(l,n,e,o),a),{})},xw=(n,e,t,i)=>{const o=e.find(c=>c.name===n),a=o?.type,l=t[n];return a&&!i.includes(a)?gm(a,l):uc(l)},gm=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Ew(e,t)}switch(n){case Pe.bool:return bw(e);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return kw(e);case Pe.json:case Pe.jsonb:return Sw(e);case Pe.timestamp:return Cw(e);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return uc(e);default:return uc(e)}},uc=n=>n,bw=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},kw=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Sw=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Ew=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,i=n[t];if(n[0]==="{"&&i==="}"){let a;const l=n.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>gm(e,c))}return n},Cw=n=>typeof n=="string"?n.replace(" ","T"):n,mm=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Fu{constructor(e,t,i={},o=ac){this.channel=e,this.event=t,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var yp;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(yp||(yp={}));class _s{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_s.syncState(this.state,o,a,l),this.pendingDiffs.forEach(h=>{this.state=_s.syncDiff(this.state,h,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},o=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=_s.syncDiff(this.state,o,a,l),c())}),this.onJoin((o,a,l)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:l})}),this.onLeave((o,a,l)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,o){const a=this.cloneDeep(e),l=this.transformState(t),c={},h={};return this.map(a,(f,g)=>{l[f]||(h[f]=g)}),this.map(l,(f,g)=>{const y=a[f];if(y){const v=g.map(x=>x.presence_ref),w=y.map(x=>x.presence_ref),b=g.filter(x=>w.indexOf(x.presence_ref)<0),k=y.filter(x=>v.indexOf(x.presence_ref)<0);b.length>0&&(c[f]=b),k.length>0&&(h[f]=k)}else c[f]=g}),this.syncDiff(a,{joins:c,leaves:h},i,o)}static syncDiff(e,t,i,o){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(a,(c,h)=>{var f;const g=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(h),g.length>0){const y=e[c].map(w=>w.presence_ref),v=g.filter(w=>y.indexOf(w.presence_ref)<0);e[c].unshift(...v)}i(c,g,h)}),this.map(l,(c,h)=>{let f=e[c];if(!f)return;const g=h.map(y=>y.presence_ref);f=f.filter(y=>g.indexOf(y.presence_ref)<0),e[c]=f,o(c,f,h),f.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const o=e[i];return"metas"in o?t[i]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[i]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vp;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(vp||(vp={}));var ws;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(ws||(ws={}));var _n;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(_n||(_n={}));class Lc{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Fu(this,Kt.join,this.params,this.timeout),this.rejoinTimer=new pm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new _s(this),this.broadcastEndpointURL=mm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var i,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ke.closed){const{config:{broadcast:l,presence:c,private:h}}=this.params,f=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[ws.PRESENCE]&&this.bindings[ws.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},v={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:g}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(_n.CHANNEL_ERROR,w)),this._onClose(()=>e?.(_n.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:w})=>{var b;if(this.socket.setAuth(),w===void 0){e?.(_n.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,x=(b=k?.length)!==null&&b!==void 0?b:0,P=[];for(let C=0;C<x;C++){const R=k[C],{filter:{event:D,schema:N,table:z,filter:U}}=R,q=w&&w[C];if(q&&q.event===D&&q.schema===N&&q.table===z&&q.filter===U)P.push(Object.assign(Object.assign({},R),{id:q.id}));else{this.unsubscribe(),this.state=Ke.errored,e?.(_n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(_n.SUBSCRIBED);return}}).receive("error",w=>{this.state=Ke.errored,e?.(_n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(_n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===Ke.joined&&e===ws.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}async send(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,h;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ke.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Fu(this,Kt.leave,{},e),i.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ke.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const o=new AbortController,a=setTimeout(()=>o.abort(),i),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(a),l}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Fu(this,e,t,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>_w){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var o,a;const l=e.toLocaleLowerCase(),{close:c,error:h,leave:f,join:g}=Kt;if(i&&[c,h,f,g].indexOf(l)>=0&&i!==this._joinRef())return;let v=this._onMessage(l,t,i);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var b,k,x;return((b=w.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(k=w.filter)===null||k===void 0?void 0:k.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===l}).map(w=>w.callback(v,i)):(a=this.bindings[l])===null||a===void 0||a.filter(w=>{var b,k,x,P,C,R;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const D=w.id,N=(b=w.filter)===null||b===void 0?void 0:b.event;return D&&((k=t.ids)===null||k===void 0?void 0:k.includes(D))&&(N==="*"||N?.toLocaleLowerCase()===((x=t.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const D=(C=(P=w?.filter)===null||P===void 0?void 0:P.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return D==="*"||D===((R=t?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:k,table:x,commit_timestamp:P,type:C,errors:R}=b;v=Object.assign(Object.assign({},{schema:k,table:x,commit_timestamp:P,eventType:C,new:{},old:{},errors:R}),this._getPayloadRecords(b))}w.callback(v,i)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const o=e.toLocaleLowerCase(),a={type:o,filter:t,callback:i};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&Lc.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Kt.close,{},e)}_onError(e){this._on(Kt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=mp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=mp(e.columns,e.old_record)),t}}const $u=()=>{},Yo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Pw=[1e3,2e3,5e3,1e4],Tw=1e4,Rw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ow{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ac,this.transport=null,this.heartbeatIntervalMs=Yo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$u,this.ref=0,this.reconnectTimer=null,this.logger=$u,this.conn=null,this.sendBuffer=[],this.serializer=new ww,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...l)=>Tt(async()=>{const{default:c}=await Promise.resolve().then(()=>yi);return{default:c}},void 0).then(({default:c})=>c(...l)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((i=t?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${lc.websocket}`,this.httpEndpoint=mm(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yw}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case vs.connecting:return wr.Connecting;case vs.open:return wr.Open;case vs.closing:return wr.Closing;default:return wr.Closed}}isConnected(){return this.connectionState()===wr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===i);if(o)return o;{const a=new Lc(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:i,payload:o,ref:a}=e,l=()=>{this.encode(e,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${t} ${i} (${a})`,o),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(vw,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Yo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:a,ref:l}=t,c=l?`(${l})`:"",h=a.status||"";this.log("receive",`${h} ${i} ${o} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(i)).forEach(f=>f._trigger(o,a,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Kt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${i}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([Rw],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const o={access_token:t,version:mw};t&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Kt.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new pm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,o,a,l,c,h,f,g;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:ac,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Yo.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:$u,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(y=>Pw[y-1]||Tw),this.encode=(f=e?.encode)!==null&&f!==void 0?f:((y,v)=>v(JSON.stringify(y))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class jc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ye(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Mw extends jc{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cc extends jc{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Lw=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{f(i.next(g))}catch(y){l(y)}}function h(g){try{f(i.throw(g))}catch(y){l(y)}}function f(g){g.done?a(g.value):o(g.value).then(c,h)}f((i=i.apply(n,e||[])).next())})};const ym=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Tt(async()=>{const{default:i}=await Promise.resolve().then(()=>yi);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},jw=()=>Lw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Tt(()=>Promise.resolve().then(()=>yi),void 0)).Response:Response}),dc=n=>{if(Array.isArray(n))return n.map(t=>dc(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,i])=>{const o=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=dc(i)}),e},Aw=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Sr=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{f(i.next(g))}catch(y){l(y)}}function h(g){try{f(i.throw(g))}catch(y){l(y)}}function f(g){g.done?a(g.value):o(g.value).then(c,h)}f((i=i.apply(n,e||[])).next())})};const Bu=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Dw=(n,e,t)=>Sr(void 0,void 0,void 0,function*(){const i=yield jw();n instanceof i&&!t?.noResolveJson?n.json().then(o=>{const a=n.status||500,l=o?.statusCode||a+"";e(new Mw(Bu(o),a,l))}).catch(o=>{e(new cc(Bu(o),o))}):e(new cc(Bu(n),n))}),Iw=(n,e,t,i)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"||!i?o:(Aw(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function Ls(n,e,t,i,o,a){return Sr(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(t,Iw(e,i,o,a)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>Dw(h,c,i))})})}function ya(n,e,t,i){return Sr(this,void 0,void 0,function*(){return Ls(n,"GET",e,t,i)})}function nn(n,e,t,i,o){return Sr(this,void 0,void 0,function*(){return Ls(n,"POST",e,i,o,t)})}function hc(n,e,t,i,o){return Sr(this,void 0,void 0,function*(){return Ls(n,"PUT",e,i,o,t)})}function Nw(n,e,t,i){return Sr(this,void 0,void 0,function*(){return Ls(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function vm(n,e,t,i,o){return Sr(this,void 0,void 0,function*(){return Ls(n,"DELETE",e,i,o,t)})}var ct=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{f(i.next(g))}catch(y){l(y)}}function h(g){try{f(i.throw(g))}catch(y){l(y)}}function f(g){g.done?a(g.value):o(g.value).then(c,h)}f((i=i.apply(n,e||[])).next())})};const zw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_p={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fw{constructor(e,t={},i,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=ym(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,i,o){return ct(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},_p),o);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",l.cacheControl),h&&a.append("metadata",this.encodeMetadata(h))):(a=i,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,h&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o?.headers&&(c=Object.assign(Object.assign({},c),o.headers));const f=this._removeEmptyFolders(t),g=this._getFinalPath(f),y=yield(e=="PUT"?hc:nn)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:y.Id,fullPath:y.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}upload(e,t,i){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,o){return ct(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",t);try{let h;const f=Object.assign({upsert:_p.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",f.cacheControl)):(h=i,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType);const y=yield hc(this.fetch,c.toString(),h,{headers:g});return{data:{path:a,fullPath:y.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Ye(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,t){return ct(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");const a=yield nn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new jc("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}update(e,t,i){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return ct(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}})}copy(e,t,i){return ct(this,void 0,void 0,function*(){try{return{data:{path:(yield nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,i){return ct(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield nn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,i){return ct(this,void 0,void 0,function*(){try{const o=yield nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}})}download(e,t){return ct(this,void 0,void 0,function*(){const o=typeof t?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(t?.transform||{}),l=a?`?${a}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield ya(this.fetch,`${this.url}/${o}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ye(c))return{data:null,error:c};throw c}})}info(e){return ct(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield ya(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:dc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}exists(e){return ct(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Nw(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i)&&i instanceof cc){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),o=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&o.push(a);const c=typeof t?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(t?.transform||{});h!==""&&o.push(h);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${f}`)}}}remove(e){return ct(this,void 0,void 0,function*(){try{return{data:yield vm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}list(e,t,i){return ct(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},zw),t),{prefix:e||""});return{data:yield nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}})}listV2(e,t){return ct(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield nn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const $w="2.12.1",Bw={"X-Client-Info":`storage-js/${$w}`};var ti=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{f(i.next(g))}catch(y){l(y)}}function h(g){try{f(i.throw(g))}catch(y){l(y)}}function f(g){g.done?a(g.value):o(g.value).then(c,h)}f((i=i.apply(n,e||[])).next())})};class Uw{constructor(e,t={},i,o){this.shouldThrowOnError=!1;const a=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},Bw),t),this.fetch=ym(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ti(this,void 0,void 0,function*(){try{return{data:yield ya(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}getBucket(e){return ti(this,void 0,void 0,function*(){try{return{data:yield ya(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return ti(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return ti(this,void 0,void 0,function*(){try{return{data:yield hc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}emptyBucket(e){return ti(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ti(this,void 0,void 0,function*(){try{return{data:yield vm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}}class Ww extends Uw{constructor(e,t={},i,o){super(e,t,i,o)}from(e){return new Fw(this.url,this.headers,e,this.fetch)}}const Hw="2.57.4";let ps="";typeof Deno<"u"?ps="deno":typeof document<"u"?ps="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ps="react-native":ps="node";const Vw={"X-Client-Info":`supabase-js-${ps}/${Hw}`},qw={headers:Vw},Kw={schema:"public"},Yw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gw={};var Xw=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{f(i.next(g))}catch(y){l(y)}}function h(g){try{f(i.throw(g))}catch(y){l(y)}}function f(g){g.done?a(g.value):o(g.value).then(c,h)}f((i=i.apply(n,e||[])).next())})};const Qw=n=>{let e;return n?e=n:typeof fetch>"u"?e=lm:e=fetch,(...t)=>e(...t)},Jw=()=>typeof Headers>"u"?um:Headers,Zw=(n,e,t)=>{const i=Qw(t),o=Jw();return(a,l)=>Xw(void 0,void 0,void 0,function*(){var c;const h=(c=yield e())!==null&&c!==void 0?c:n;let f=new o(l?.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),i(a,Object.assign(Object.assign({},l),{headers:f}))})};var ex=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{f(i.next(g))}catch(y){l(y)}}function h(g){try{f(i.throw(g))}catch(y){l(y)}}function f(g){g.done?a(g.value):o(g.value).then(c,h)}f((i=i.apply(n,e||[])).next())})};function tx(n){return n.endsWith("/")?n:n+"/"}function nx(n,e){var t,i;const{db:o,auth:a,realtime:l,global:c}=n,{db:h,auth:f,realtime:g,global:y}=e,v={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},g),l),storage:{},global:Object.assign(Object.assign(Object.assign({},y),c),{headers:Object.assign(Object.assign({},(t=y?.headers)!==null&&t!==void 0?t:{}),(i=c?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>ex(this,void 0,void 0,function*(){return""})};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function rx(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const _m="2.71.1",li=30*1e3,fc=3,Uu=fc*li,ix="http://localhost:9999",sx="supabase.auth.token",ox={"X-Client-Info":`gotrue-js/${_m}`},pc="X-Supabase-Api-Version",wm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ax=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lx=600*1e3;class Ac extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function ce(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class ux extends Ac{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function cx(n){return ce(n)&&n.name==="AuthApiError"}class xm extends Ac{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Zn extends Ac{constructor(e,t,i,o){super(e,i,o),this.name=t,this.status=i}}class Hn extends Zn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dx(n){return ce(n)&&n.name==="AuthSessionMissingError"}class Go extends Zn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xo extends Zn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qo extends Zn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hx(n){return ce(n)&&n.name==="AuthImplicitGrantRedirectError"}class wp extends Zn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gc extends Zn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Wu(n){return ce(n)&&n.name==="AuthRetryableFetchError"}class xp extends Zn{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class mc extends Zn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const va="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bp=` 	
\r=`.split(""),fx=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<bp.length;e+=1)n[bp[e].charCodeAt(0)]=-2;for(let e=0;e<va.length;e+=1)n[va[e].charCodeAt(0)]=e;return n})();function kp(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(va[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(va[i]),e.queuedBits-=6}}function bm(n,e,t){const i=fx[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Sp(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=l=>{mx(l,i,t)};for(let l=0;l<n.length;l+=1)bm(n.charCodeAt(l),o,a);return e.join("")}function px(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function gx(n,e){for(let t=0;t<n.length;t+=1){let i=n.charCodeAt(t);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}px(i,e)}}function mx(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function yx(n){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)bm(n.charCodeAt(o),t,i);return new Uint8Array(e)}function vx(n){const e=[];return gx(n,t=>e.push(t)),new Uint8Array(e)}function _x(n){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};return n.forEach(o=>kp(o,t,i)),kp(null,t,i),e.join("")}function wx(n){return Math.round(Date.now()/1e3)+n}function xx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const qt=()=>typeof window<"u"&&typeof document<"u",fr={tested:!1,writable:!1},km=()=>{if(!qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fr.tested)return fr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),fr.tested=!0,fr.writable=!0}catch{fr.tested=!0,fr.writable=!1}return fr.writable};function bx(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return t.searchParams.forEach((i,o)=>{e[o]=i}),e}const Sm=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Tt(async()=>{const{default:i}=await Promise.resolve().then(()=>yi);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},kx=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ui=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},pr=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Wn=async(n,e)=>{await n.removeItem(e)};class ja{constructor(){this.promise=new ja.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}ja.promiseConstructor=Promise;function Hu(n){const e=n.split(".");if(e.length!==3)throw new mc("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!ax.test(e[i]))throw new mc("JWT not in base64url format");return{header:JSON.parse(Sp(e[0])),payload:JSON.parse(Sp(e[1])),signature:yx(e[2]),raw:{header:e[0],payload:e[1]}}}async function Sx(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Ex(n,e){return new Promise((i,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!e(a,null,l)){i(l);return}}catch(l){if(!e(a,l)){o(l);return}}})()})}function Cx(n){return("0"+n.toString(16)).substr(-2)}function Px(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let o="";for(let a=0;a<56;a++)o+=t.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,Cx).join("")}async function Tx(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(i);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function Rx(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await Tx(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ni(n,e,t=!1){const i=Px();let o=i;t&&(o+="/PASSWORD_RECOVERY"),await ui(n,`${e}-code-verifier`,o);const a=await Rx(i);return[a,i===a?"plain":"s256"]}const Ox=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mx(n){const e=n.headers.get(pc);if(!e||!e.match(Ox))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Lx(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function jx(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ax=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ri(n){if(!Ax.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vu(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ep(n){return JSON.parse(JSON.stringify(n))}var Dx=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};const vr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Ix=[502,503,504];async function Cp(n){var e;if(!kx(n))throw new gc(vr(n),0);if(Ix.includes(n.status))throw new gc(vr(n),n.status);let t;try{t=await n.json()}catch(a){throw new xm(vr(a),a)}let i;const o=Mx(n);if(o&&o.getTime()>=wm["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new xp(vr(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Hn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new xp(vr(t),n.status,t.weak_password.reasons);throw new ux(vr(t),n.status||500,i)}const Nx=(n,e,t,i)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),t))};async function me(n,e,t,i){var o;const a=Object.assign({},i?.headers);a[pc]||(a[pc]=wm["2024-01-01"].name),i?.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const l=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(l.redirect_to=i.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await zx(n,e,t+c,{headers:a,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function zx(n,e,t,i,o,a){const l=Nx(e,i,o,a);let c;try{c=await n(t,Object.assign({},l))}catch(h){throw console.error(h),new gc(vr(h),0)}if(c.ok||await Cp(c),i?.noResolveJson)return c;try{return await c.json()}catch(h){await Cp(h)}}function mn(n){var e;let t=null;Ux(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=wx(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:i},error:null}}function Pp(n){const e=mn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Vn(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Fx(n){return{data:n,error:null}}function $x(n){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:a}=n,l=Dx(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:a},h=Object.assign({},l);return{data:{properties:c,user:h},error:null}}function Bx(n){return n}function Ux(n){return n.access_token&&n.refresh_token&&n.expires_in}const qu=["global","local","others"];var Wx=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};class Hx{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=Sm(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=qu[0]){if(qu.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qu.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Vn})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=Wx(e,["options"]),o=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:$x,redirectTo:t?.redirectTo})}catch(t){if(ce(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vn})}catch(t){if(ce(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,o,a,l,c,h;try{const f={nextPage:null,lastPage:0,total:0},g=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Bx});if(g.error)throw g.error;const y=await g.json(),v=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(h=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(b=>{const k=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);f[`${x}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(ce(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){ri(e);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vn})}catch(t){if(ce(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ri(e);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Vn})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){ri(e);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Vn})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ri(e.userId);try{const{data:t,error:i}=await me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:i}}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ri(e.userId),ri(e.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}}}function Tp(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function Vx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ii={debug:!!(globalThis&&km()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Em extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qx extends Em{}async function Kx(n,e,t){ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ii.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await t()}finally{ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new qx(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ii.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Vx();const Yx={url:ix,storageKey:sx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ox,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Rp(n,e,t){return await t()}const si={};class Es{constructor(e){var t,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Es.nextInstanceID,Es.nextInstanceID+=1,this.instanceID>0&&qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Yx),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Hx({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Sm(o.fetch),this.lock=o.lock||Rp,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:qt()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=Kx:this.lock=Rp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:km()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tp(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Tp(this.memoryStorage)),qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=si[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){si[this.storageKey]=Object.assign(Object.assign({},si[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=si[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){si[this.storageKey]=Object.assign(Object.assign({},si[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_m}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=bx(window.location.href);let i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),qt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:a}=await this._getSessionFromURL(t,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),hx(a)){const h=(e=a.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ce(t)?{error:t}:{error:new xm("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,o;try{const a=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:mn}),{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(a){if(ce(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,i,o;try{let a;if("email"in e){const{email:g,password:y,options:v}=e;let w=null,b=null;this.flowType==="pkce"&&([w,b]=await ni(this.storage,this.storageKey)),a=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:g,password:y,data:(t=v?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:w,code_challenge_method:b},xform:mn})}else if("phone"in e){const{phone:g,password:y,options:v}=e;a=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(i=v?.data)!==null&&i!==void 0?i:{},channel:(o=v?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:mn})}else throw new Xo("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(a){if(ce(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:c}=e;t=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Pp})}else if("phone"in e){const{phone:a,password:l,options:c}=e;t=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Pp})}else throw new Xo("You must provide either an email or phone number and a password");const{data:i,error:o}=t;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Go}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(t){if(ce(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,i,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,i,o,a,l,c,h,f,g,y,v,w;let b,k;if("message"in e)b=e.message,k=e.signature;else{const{chain:x,wallet:P,statement:C,options:R}=e;let D;if(qt())if(typeof P=="object")D=P;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))D=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=P}const N=new URL((t=R?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in D&&D.signIn){const z=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),C?{statement:C}:null));let U;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")U=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)U=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)b=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),k=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(o=(i=R?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=R?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((l=R?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((c=R?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((h=R?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((y=(g=R?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...R.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const z=await D.signMessage(new TextEncoder().encode(b),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=z}}try{const{data:x,error:P}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:_x(k)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:mn});if(P)throw P;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Go}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:P})}catch(x){if(ce(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const t=await pr(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(t??"").split("/");try{const{data:a,error:l}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:mn});if(await Wn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Go}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:l})}catch(a){if(ce(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:i,token:o,access_token:a,nonce:l}=e,c=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:mn}),{data:h,error:f}=c;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Go}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:f})}catch(t){if(ce(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,i,o,a,l;try{if("email"in e){const{email:c,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await ni(this.storage,this.storageKey));const{error:y}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=h?.data)!==null&&t!==void 0?t:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:c,options:h}=e,{data:f,error:g}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(l=h?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f?.message_id},error:g}}throw new Xo("You must provide either an email or phone number.")}catch(c){if(ce(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var t,i;try{let o,a;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:c}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:mn});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,f=l.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(o){if(ce(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,i,o;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await ni(this.storage,this.storageKey)),await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Fx})}catch(a){if(ce(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new Hn;const{error:o}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(ce(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:a}=e,{error:l}=await me(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:i,type:o,options:a}=e,{data:l,error:c}=await me(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:c}}throw new Xo("You must provide either an email or phone number and a type")}catch(t){if(ce(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Uu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const l=await pr(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=Vu()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,f,g)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,f,g))})}return{data:{session:e},error:null}}const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Vn}):await this._useSession(async t=>{var i,o,a;const{data:l,error:c}=t;if(c)throw c;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hn}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Vn})})}catch(t){if(ce(t))return dx(t)&&(await this._removeSession(),await Wn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:o,error:a}=i;if(a)throw a;if(!o.session)throw new Hn;const l=o.session;let c=null,h=null;this.flowType==="pkce"&&e.email!=null&&([c,h]=await ni(this.storage,this.storageKey));const{data:f,error:g}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:h}),jwt:l.access_token,xform:Vn});if(g)throw g;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Hn;const t=Date.now()/1e3;let i=t,o=!0,a=null;const{payload:l}=Hu(e.access_token);if(l.exp&&(i=l.exp,o=i<=t),o){const{session:c,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:h}=await this._getUser(e.access_token);if(h)throw h;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(ce(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:l,error:c}=t;if(c)throw c;e=(i=l.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Hn;const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(ce(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!qt())throw new Qo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new wp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qo("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new wp("No code detected.");const{data:C,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:c,expires_at:h,token_type:f}=e;if(!a||!c||!l||!f)throw new Qo("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(c);let v=g+y;h&&(v=parseInt(h));const w=v-g;w*1e3<=li&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const b=v-y;g-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,g):g-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,g);const{data:k,error:x}=await this._getUser(a);if(x)throw x;const P={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:y,expires_at:v,refresh_token:l,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:e.type},error:null}}catch(i){if(ce(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await pr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:o,error:a}=t;if(a)return{error:a};const l=(i=o.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(cx(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Wn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=xx(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,o;try{const{data:{session:a},error:l}=t;if(l)throw l;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ni(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(ce(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:i,error:o}=await this._useSession(async a=>{var l,c,h,f,g;const{data:y,error:v}=a;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(f=y.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return qt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(ce(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,o;const{data:a,error:l}=t;if(l)throw l;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await Ex(async o=>(o>0&&await Sx(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mn})),(o,a)=>{const l=200*Math.pow(2,o);return a&&Wu(a)&&Date.now()+l-i<li})}catch(i){if(this._debug(t,"error",i),ce(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),qt()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await pr(this.storage,this.storageKey);if(o&&this.userStorage){let l=await pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:o.user},await ui(this.userStorage,this.storageKey+"-user",l)),o.user=(e=l?.user)!==null&&e!==void 0?e:Vu()}else if(o&&!o.user&&!o.user){const l=await pr(this.storage,this.storageKey+"-user");l&&l?.user?(o.user=l.user,await Wn(this.storage,this.storageKey+"-user"),await ui(this.storage,this.storageKey,o)):o.user=Vu()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const a=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Uu;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${Uu}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:l}=await this._callRefreshToken(o.refresh_token);l&&(console.error(l),Wu(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(o.access_token);!c&&l?.user?(o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new Hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ja;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Hn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(o,"error",a),ce(a)){const l={session:null,error:a};return Wu(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(h){a.push(h)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await ui(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const a=Ep(o);await ui(this.storage,this.storageKey,a)}else{const o=Ep(t);await ui(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Wn(this.storage,this.storageKey),await Wn(this.storage,this.storageKey+"-code-verifier"),await Wn(this.storage,this.storageKey+"-user"),this.userStorage&&await Wn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),li);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/li);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${li}ms, refresh threshold is ${fc} ticks`),o<=fc&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Em)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const o=[`provider=${encodeURIComponent(t)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,l]=await ni(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(c.toString())}if(i?.queryParams){const a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:o,error:a}=t;return a?{data:null,error:a}:await me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,o;const{data:a,error:l}=t;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:f}=await me(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:a}=t;if(a)return{data:null,error:a};const{data:l,error:c}=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(t){if(ce(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:a}=t;return a?{data:null,error:a}:await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(ce(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const i=e?.factors||[],o=i.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=i.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:i,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,i;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Hu(o.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((i=(t=o.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const g=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(c=>c.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+lx>o)return i;const{data:a,error:l}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,i=a.keys.find(c=>c.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:w,error:b}=await this.getSession();if(b||!w.session)return{data:null,error:b};i=w.session.access_token}const{header:o,payload:a,signature:l,raw:{header:c,payload:h}}=Hu(i);t?.allowExpired||Lx(a.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!f){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:a,header:o,signature:l},error:null}}const g=jx(o.alg),y=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,l,vx(`${c}.${h}`)))throw new mc("Invalid JWT signature");return{data:{claims:a,header:o,signature:l},error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}}}Es.nextInstanceID=0;const Gx=Es;class Xx extends Gx{constructor(e){super(e)}}var Qx=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{f(i.next(g))}catch(y){l(y)}}function h(g){try{f(i.throw(g))}catch(y){l(y)}}function f(g){g.done?a(g.value):o(g.value).then(c,h)}f((i=i.apply(n,e||[])).next())})};class Jx{constructor(e,t,i){var o,a,l;this.supabaseUrl=e,this.supabaseKey=t;const c=rx(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:Kw,realtime:Gw,auth:Object.assign(Object.assign({},Yw),{storageKey:h}),global:qw},g=nx(i??{},f);this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=Zw(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new fw(new URL("rest/v1",c).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new Ww(this.storageUrl.href,this.headers,this.fetch,i?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new rw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Qx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,userStorage:a,storageKey:l,flowType:c,lock:h,debug:f},g,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xx({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),g),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,userStorage:a,flowType:c,lock:h,debug:f,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ow(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i?.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zx=(n,e,t)=>new Jx(n,e,t);function eb(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}eb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tb=void 0,nb=void 0;throw console.error("Failed to initialize authentication service"),new Error("Authentication service is not properly configured. Please try again later.");const et=Zx(tb,nb),Cm=O.createContext(void 0);function rb({children:n}){const[e,t]=O.useState(null),[i,o]=O.useState(null),[a,l]=O.useState(!0),[c,h]=O.useState(()=>{if(typeof window<"u"){const R=localStorage.getItem("betaMode");return R?JSON.parse(R):!1}return!1}),[f,g]=O.useState(!1),y=async R=>{try{const{data:D,error:N}=await et.from("user_profiles").select("is_developer").eq("user_id",R).maybeSingle();if(N){console.debug("Failed to fetch user profile"),o(null);return}o(D)}catch{console.debug("Failed to fetch user profile"),o(null)}};O.useEffect(()=>{l(!0);const{data:{subscription:R}}=et.auth.onAuthStateChange(async(D,N)=>{D==="TOKEN_REFRESHED"?g(!1):D==="SIGNED_OUT"&&e&&g(!0),t(N?.user??null),N?.user?(await y(N.user.id),g(!1)):o(null),l(!1)});return()=>{R.unsubscribe()}},[]);const v=async(R,D)=>{if(!R||!D)return{error:{message:"Email and password are required"}};if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R))return{error:{message:"Invalid email format"}};if(!/^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/.test(D))return{error:{message:"Password must be at least 8 characters with uppercase, number, and special character"}};try{const{error:U}=await et.auth.signUp({email:R.toLowerCase().trim(),password:D});return{error:U}}catch{return{error:{message:"Sign up failed. Please try again."}}}},w=async(R,D,N)=>{if(!R||!D)return{error:{message:"Email and password are required"}};if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R))return{error:{message:"Invalid email format"}};const U=R.toLowerCase().trim();try{const{data:q,error:Z}=await et.auth.signInWithPassword({email:U,password:D});if(Z)return{error:Z};if(N&&q.user){if(!/^\d{10}$/.test(N))return await et.auth.signOut(),{error:{message:"Invalid phone format"}};const{data:ie,error:se}=await et.from("user_profiles").select("is_developer, phone").eq("user_id",q.user.id).single();if(se)return await et.auth.signOut(),{error:{message:"Authentication failed"}};if(!ie||!ie.is_developer||ie.phone!==`+44${N}`)return await et.auth.signOut(),{error:{message:"Invalid credentials"}}}else if(N)return await et.auth.signOut(),{error:{message:"Invalid credentials"}};return{error:null}}catch{return{error:{message:"Login failed. Please try again."}}}},b=async()=>{try{const R=`${window.location.origin}/auth/callback`,{error:D}=await et.auth.signInWithOAuth({provider:"google",options:{redirectTo:R}});return{error:D}}catch{return{error:{message:"Google sign in failed. Please try again."}}}},k=async()=>{try{await et.auth.signOut(),g(!1)}catch{console.debug("Error signing out")}},x=()=>{g(!1)},P=async R=>{try{const{error:D}=await et.rpc("promote_to_developer",{target_user_id:R});return{error:D}}catch{return{error:{message:"Failed to promote user"}}}},C=()=>{if(h(R=>!R),typeof window<"u"){const R=!c;localStorage.setItem("betaMode",JSON.stringify(R))}};return j.jsx(Cm.Provider,{value:{user:e,userProfile:i,loading:a,betaModeEnabled:c,sessionExpired:f,toggleBetaMode:C,signUp:v,signIn:w,signInWithGoogle:b,signOut:k,promoteToDeveloper:P,clearSessionExpired:x},children:n})}function vi(){const n=O.useContext(Cm);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}const Pm=O.createContext(void 0);function ib({children:n}){const[e,t]=O.useState(()=>{try{const o=localStorage.getItem("theme");return o?o==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}catch(o){return console.warn("Error accessing localStorage:",o),!1}});O.useEffect(()=>{try{e?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))}catch(o){console.warn("Error setting theme:",o)}},[e]);const i=()=>t(!e);return j.jsx(Pm.Provider,{value:{isDark:e,toggleTheme:i},children:n})}function sb(){const n=O.useContext(Pm);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n}var ob={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ab=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),dt=(n,e)=>{const t=O.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:h,...f},g)=>O.createElement("svg",{ref:g,...ob,width:o,height:o,stroke:i,strokeWidth:l?Number(a)*24/Number(o):a,className:["lucide",`lucide-${ab(n)}`,c].join(" "),...f},[...e.map(([y,v])=>O.createElement(y,v)),...Array.isArray(h)?h:[h]]));return t.displayName=`${n}`,t};const lb=dt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Tm=dt("BookHeart",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["path",{d:"M16 8.2C16 7 15 6 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9C9 6 8 7 8 8.2c0 .6.3 1.2.7 1.6h0C10 11.1 12 13 12 13s2-1.9 3.3-3.1h0c.4-.4.7-1 .7-1.7z",key:"1dlbw1"}]]);const ub=dt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const cb=dt("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);const db=dt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const hb=dt("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);const fb=dt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const Op=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const pb=dt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const gb=dt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const mb=dt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const yb=dt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const vb=dt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const _b=dt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Mp=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function wb(){const[n,e]=O.useState(!0),[t,i]=O.useState(""),[o,a]=O.useState(""),[l,c]=O.useState(""),[h,f]=O.useState(!1),{signIn:g,signUp:y,signInWithGoogle:v}=vi(),[w,b]=O.useState(""),[k,x]=O.useState(""),[P,C]=O.useState(""),R=!1,D=async z=>{z.preventDefault(),c(""),f(!0);try{const{error:U}=n?await g(t,o):await y(t,o);U&&c(U.message)}catch{c("An unexpected error occurred")}finally{f(!1)}},N=async()=>{c(""),f(!0);try{const{error:z}=await v();z&&(c(z.message),f(!1))}catch{c("An unexpected error occurred"),f(!1)}};return j.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 px-4",children:j.jsxs("div",{className:"max-w-md w-full",children:[j.jsxs("div",{className:"text-center mb-8",children:[j.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-500 text-white mb-4","aria-hidden":"true",children:j.jsx(Tm,{size:32})}),j.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Poetry Suite"}),j.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Your personal sanctuary for writing, curating, and sharing poetry"})]}),j.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8",children:[R,j.jsxs("div",{className:"flex gap-2 mb-6",role:"group","aria-label":"Authentication mode",children:[j.jsx("button",{onClick:()=>e(!0),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${n?"bg-blue-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400"}`,"aria-pressed":n,"aria-label":"Switch to login mode",children:"Login"}),j.jsx("button",{onClick:()=>e(!1),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${n?"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400":"bg-blue-500 text-white"}`,"aria-pressed":!n,"aria-label":"Switch to sign up mode",children:"Sign Up"})]}),j.jsxs("button",{onClick:N,disabled:h,type:"button",className:"w-full mb-6 bg-white dark:bg-slate-700 border-2 border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed text-slate-700 dark:text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-3","aria-label":"Continue with Google",children:[j.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[j.jsx("title",{children:"Google logo"}),j.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),j.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),j.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),j.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),h?"Please wait...":"Continue with Google"]}),j.jsxs("div",{className:"relative mb-6",role:"separator","aria-label":"Or continue with email",children:[j.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:j.jsx("div",{className:"w-full border-t border-slate-300 dark:border-slate-600"})}),j.jsx("div",{className:"relative flex justify-center text-sm",children:j.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400",children:"Or continue with email"})})]}),j.jsxs("form",{onSubmit:D,className:"space-y-4","aria-label":n?"Login form":"Sign up form",children:[j.jsxs("div",{children:[j.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),j.jsx("input",{id:"email",type:"email",value:t,onChange:z=>i(z.target.value),required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com","aria-required":"true","aria-describedby":l?"auth-error":void 0})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Password"}),j.jsx("input",{id:"password",type:"password",value:o,onChange:z=>a(z.target.value),required:!0,minLength:6,className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"","aria-required":"true","aria-describedby":l?"auth-error":"password-requirements"}),j.jsx("p",{id:"password-requirements",className:"sr-only",children:"Password must be at least 6 characters long"})]}),l&&j.jsx("div",{id:"auth-error",className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-lg text-sm",role:"alert","aria-live":"assertive",children:l}),j.jsx("button",{type:"submit",disabled:h,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white font-medium py-3 px-4 rounded-lg transition-colors","aria-label":h?"Processing...":n?"Login to your account":"Create your account",children:h?"Please wait...":n?"Login":"Create Account"})]})]})]})})}function xb({children:n,currentView:e,onViewChange:t}){const{signOut:i}=vi(),{isDark:o,toggleTheme:a}=sb(),[l,c]=O.useState(!1),[h,f]=O.useState(!1),[g,y]=O.useState(null),v=[{id:"write",icon:mb,label:"Write"},{id:"library",icon:hb,label:"Library"},{id:"discover",icon:cb,label:"Discover"},{id:"prompts",icon:fb,label:"Prompts"},{id:"forms",icon:ub,label:"Forms"},{id:"submissions",icon:yb,label:"Submissions"},{id:"analytics",icon:lb,label:"Analytics"},{id:"settings",icon:vb,label:"Settings"}];O.useEffect(()=>{const C=R=>{R.preventDefault(),y(R),f(!0)};return window.addEventListener("beforeinstallprompt",C),window.addEventListener("appinstalled",()=>{f(!1),y(null)}),()=>{window.removeEventListener("beforeinstallprompt",C)}},[]);const w=async()=>{if(!g)return;g.prompt();const{outcome:C}=await g.userChoice;C==="accepted"&&f(!1),y(null)},b=()=>{f(!1),localStorage.setItem("installPromptDismissed","true")},k=async()=>{await i()},x=v.filter(C=>["write","library","discover","prompts"].includes(C.id)),P=v.filter(C=>!["write","library","discover","prompts"].includes(C.id));return j.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col pb-16 md:pb-0",children:[j.jsx("a",{href:"#main-content",className:"skip-link bg-blue-600 text-white px-4 py-2 rounded-lg font-medium shadow-lg",children:"Skip to main content"}),h&&localStorage.getItem("installPromptDismissed")!=="true"&&j.jsx("aside",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-3 shadow-lg",role:"banner","aria-label":"Install app banner",children:j.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[j.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[j.jsx(db,{size:20,className:"flex-shrink-0","aria-hidden":"true"}),j.jsxs("div",{className:"flex-1 min-w-0",children:[j.jsx("p",{className:"text-sm sm:text-base font-medium",children:"Install Poetry Suite"}),j.jsx("p",{className:"text-xs sm:text-sm text-blue-100 hidden sm:block",children:"Get quick access and offline support"})]})]}),j.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[j.jsx("button",{onClick:w,className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-white text-blue-600 rounded-lg font-medium hover:bg-blue-50 transition-colors text-sm whitespace-nowrap","aria-label":"Install Poetry Suite app",children:"Install"}),j.jsx("button",{onClick:b,className:"p-1.5 sm:p-2 hover:bg-blue-600/50 rounded-lg transition-colors","aria-label":"Dismiss install banner",children:j.jsx(Mp,{size:18,"aria-hidden":"true"})})]})]})}),j.jsxs("header",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-50",children:[j.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:j.jsxs("div",{className:"flex items-center justify-between h-16",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center","aria-hidden":"true",children:j.jsx(Tm,{size:20,className:"text-white"})}),j.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Poetry Suite"})]}),j.jsx("nav",{className:"hidden md:flex items-center gap-1","aria-label":"Main navigation",children:v.map(C=>j.jsxs("button",{onClick:()=>t(C.id),className:`flex items-center gap-2 px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e===C.id?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,"aria-label":`Navigate to ${C.label}`,"aria-current":e===C.id?"page":void 0,children:[j.jsx(C.icon,{size:16,"aria-hidden":"true"}),j.jsx("span",{className:"hidden lg:inline",children:C.label})]},C.id))}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400","aria-label":`Switch to ${o?"light":"dark"} mode`,children:o?j.jsx(_b,{size:20,"aria-hidden":"true"}):j.jsx(gb,{size:20,"aria-hidden":"true"})}),j.jsxs("button",{onClick:k,className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700","aria-label":"Logout of Poetry Suite",children:[j.jsx(Op,{size:18,"aria-hidden":"true"}),j.jsx("span",{children:"Logout"})]}),j.jsx("button",{onClick:()=>c(!l),className:"md:hidden p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400","aria-label":l?"Close mobile menu":"Open mobile menu","aria-expanded":l,children:l?j.jsx(Mp,{size:24,"aria-hidden":"true"}):j.jsx(pb,{size:24,"aria-hidden":"true"})})]})]})}),l&&j.jsx("div",{className:"md:hidden border-t border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 max-h-[calc(100vh-4rem)] overflow-y-auto",children:j.jsxs("nav",{className:"px-4 py-2 space-y-1","aria-label":"Mobile navigation",children:[j.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider px-4 py-2",children:"More"}),P.map(C=>j.jsxs("button",{onClick:()=>{t(C.id),c(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors ${e===C.id?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,"aria-label":`Navigate to ${C.label}`,"aria-current":e===C.id?"page":void 0,children:[j.jsx(C.icon,{size:20,"aria-hidden":"true"}),j.jsx("span",{children:C.label})]},C.id)),j.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 my-2"}),j.jsxs("button",{onClick:k,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 font-medium","aria-label":"Logout of Poetry Suite",children:[j.jsx(Op,{size:20,"aria-hidden":"true"}),j.jsx("span",{children:"Logout"})]})]})})]}),j.jsx("main",{className:"flex-1 bg-slate-50 dark:bg-slate-900",id:"main-content",role:"main",children:n}),j.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 z-50","aria-label":"Mobile bottom navigation",children:j.jsx("div",{className:"grid grid-cols-4 gap-1 px-2 py-2",children:x.map(C=>j.jsxs("button",{onClick:()=>t(C.id),className:`flex flex-col items-center gap-1 px-2 py-2 rounded-lg transition-colors ${e===C.id?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400"}`,"aria-label":`Navigate to ${C.label}`,"aria-current":e===C.id?"page":void 0,children:[j.jsx(C.icon,{size:22,"aria-hidden":"true",strokeWidth:e===C.id?2.5:2}),j.jsx("span",{className:"text-xs font-medium",children:C.label})]},C.id))})})]})}function js(n){return n+.5|0}const qn=(n,e,t)=>Math.max(Math.min(n,t),e);function gs(n){return qn(js(n*2.55),0,255)}function Xn(n){return qn(js(n*255),0,255)}function wn(n){return qn(js(n/2.55)/100,0,1)}function Lp(n){return qn(js(n*100),0,100)}const It={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yc=[..."0123456789ABCDEF"],bb=n=>yc[n&15],kb=n=>yc[(n&240)>>4]+yc[n&15],Jo=n=>(n&240)>>4===(n&15),Sb=n=>Jo(n.r)&&Jo(n.g)&&Jo(n.b)&&Jo(n.a);function Eb(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&It[n[1]]*17,g:255&It[n[2]]*17,b:255&It[n[3]]*17,a:e===5?It[n[4]]*17:255}:(e===7||e===9)&&(t={r:It[n[1]]<<4|It[n[2]],g:It[n[3]]<<4|It[n[4]],b:It[n[5]]<<4|It[n[6]],a:e===9?It[n[7]]<<4|It[n[8]]:255})),t}const Cb=(n,e)=>n<255?e(n):"";function Pb(n){var e=Sb(n)?bb:kb;return n?"#"+e(n.r)+e(n.g)+e(n.b)+Cb(n.a,e):void 0}const Tb=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Rm(n,e,t){const i=e*Math.min(t,1-t),o=(a,l=(a+n/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function Rb(n,e,t){const i=(o,a=(o+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function Ob(n,e,t){const i=Rm(n,1,.5);let o;for(e+t>1&&(o=1/(e+t),e*=o,t*=o),o=0;o<3;o++)i[o]*=1-e-t,i[o]+=e;return i}function Mb(n,e,t,i,o){return n===o?(e-t)/i+(e<t?6:0):e===o?(t-n)/i+2:(n-e)/i+4}function Dc(n){const t=n.r/255,i=n.g/255,o=n.b/255,a=Math.max(t,i,o),l=Math.min(t,i,o),c=(a+l)/2;let h,f,g;return a!==l&&(g=a-l,f=c>.5?g/(2-a-l):g/(a+l),h=Mb(t,i,o,g,a),h=h*60+.5),[h|0,f||0,c]}function Ic(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Xn)}function Nc(n,e,t){return Ic(Rm,n,e,t)}function Lb(n,e,t){return Ic(Ob,n,e,t)}function jb(n,e,t){return Ic(Rb,n,e,t)}function Om(n){return(n%360+360)%360}function Ab(n){const e=Tb.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?gs(+e[5]):Xn(+e[5]));const o=Om(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=Lb(o,a,l):e[1]==="hsv"?i=jb(o,a,l):i=Nc(o,a,l),{r:i[0],g:i[1],b:i[2],a:t}}function Db(n,e){var t=Dc(n);t[0]=Om(t[0]+e),t=Nc(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Ib(n){if(!n)return;const e=Dc(n),t=e[0],i=Lp(e[1]),o=Lp(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${o}%, ${wn(n.a)})`:`hsl(${t}, ${i}%, ${o}%)`}const jp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ap={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Nb(){const n={},e=Object.keys(Ap),t=Object.keys(jp);let i,o,a,l,c;for(i=0;i<e.length;i++){for(l=c=e[i],o=0;o<t.length;o++)a=t[o],c=c.replace(a,jp[a]);a=parseInt(Ap[l],16),n[c]=[a>>16&255,a>>8&255,a&255]}return n}let Zo;function zb(n){Zo||(Zo=Nb(),Zo.transparent=[0,0,0,0]);const e=Zo[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Fb=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function $b(n){const e=Fb.exec(n);let t=255,i,o,a;if(e){if(e[7]!==i){const l=+e[7];t=e[8]?gs(l):qn(l*255,0,255)}return i=+e[1],o=+e[3],a=+e[5],i=255&(e[2]?gs(i):qn(i,0,255)),o=255&(e[4]?gs(o):qn(o,0,255)),a=255&(e[6]?gs(a):qn(a,0,255)),{r:i,g:o,b:a,a:t}}}function Bb(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${wn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Ku=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,oi=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Ub(n,e,t){const i=oi(wn(n.r)),o=oi(wn(n.g)),a=oi(wn(n.b));return{r:Xn(Ku(i+t*(oi(wn(e.r))-i))),g:Xn(Ku(o+t*(oi(wn(e.g))-o))),b:Xn(Ku(a+t*(oi(wn(e.b))-a))),a:n.a+t*(e.a-n.a)}}function ea(n,e,t){if(n){let i=Dc(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Nc(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Mm(n,e){return n&&Object.assign(e||{},n)}function Dp(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Xn(n[3]))):(e=Mm(n,{r:0,g:0,b:0,a:1}),e.a=Xn(e.a)),e}function Wb(n){return n.charAt(0)==="r"?$b(n):Ab(n)}class Cs{constructor(e){if(e instanceof Cs)return e;const t=typeof e;let i;t==="object"?i=Dp(e):t==="string"&&(i=Eb(e)||zb(e)||Wb(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Mm(this._rgb);return e&&(e.a=wn(e.a)),e}set rgb(e){this._rgb=Dp(e)}rgbString(){return this._valid?Bb(this._rgb):void 0}hexString(){return this._valid?Pb(this._rgb):void 0}hslString(){return this._valid?Ib(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,o=e.rgb;let a;const l=t===a?.5:t,c=2*l-1,h=i.a-o.a,f=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;a=1-f,i.r=255&f*i.r+a*o.r+.5,i.g=255&f*i.g+a*o.g+.5,i.b=255&f*i.b+a*o.b+.5,i.a=l*i.a+(1-l)*o.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=Ub(this._rgb,e._rgb,t)),this}clone(){return new Cs(this.rgb)}alpha(e){return this._rgb.a=Xn(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=js(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ea(this._rgb,2,e),this}darken(e){return ea(this._rgb,2,-e),this}saturate(e){return ea(this._rgb,1,e),this}desaturate(e){return ea(this._rgb,1,-e),this}rotate(e){return Db(this._rgb,e),this}}function gn(){}const Hb=(()=>{let n=0;return()=>n++})();function ze(n){return n==null}function rt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ve(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function zt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function en(n,e){return zt(n)?n:e}function xe(n,e){return typeof n>"u"?e:n}const Vb=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Lm=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Me(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Se(n,e,t,i){let o,a,l;if(rt(n))for(a=n.length,o=0;o<a;o++)e.call(t,n[o],o);else if(ve(n))for(l=Object.keys(n),a=l.length,o=0;o<a;o++)e.call(t,n[l[o]],l[o])}function _a(n,e){let t,i,o,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(o=n[t],a=e[t],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function wa(n){if(rt(n))return n.map(wa);if(ve(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let o=0;for(;o<i;++o)e[t[o]]=wa(n[t[o]]);return e}return n}function jm(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function qb(n,e,t,i){if(!jm(n))return;const o=e[n],a=t[n];ve(o)&&ve(a)?Ps(o,a,i):e[n]=wa(a)}function Ps(n,e,t){const i=rt(e)?e:[e],o=i.length;if(!ve(n))return n;t=t||{};const a=t.merger||qb;let l;for(let c=0;c<o;++c){if(l=i[c],!ve(l))continue;const h=Object.keys(l);for(let f=0,g=h.length;f<g;++f)a(h[f],n,l,t)}return n}function xs(n,e){return Ps(n,e,{merger:Kb})}function Kb(n,e,t){if(!jm(n))return;const i=e[n],o=t[n];ve(i)&&ve(o)?xs(i,o):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=wa(o))}const Ip={"":n=>n,x:n=>n.x,y:n=>n.y};function Yb(n){const e=n.split("."),t=[];let i="";for(const o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function Gb(n){const e=Yb(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Ts(n,e){return(Ip[e]||(Ip[e]=Gb(e)))(n)}function zc(n){return n.charAt(0).toUpperCase()+n.slice(1)}const xa=n=>typeof n<"u",Qn=n=>typeof n=="function",Np=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function Xb(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Le=Math.PI,He=2*Le,ba=Number.POSITIVE_INFINITY,Qb=Le/180,Ge=Le/2,gr=Le/4,zp=Le*2/3,Am=Math.log10,ka=Math.sign;function fa(n,e,t){return Math.abs(n-e)<t}function Fp(n){const e=Math.round(n);n=fa(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Am(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function Jb(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((o,a)=>o-a).pop(),e}function Zb(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Sa(n){return!Zb(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function ek(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function tk(n,e,t){let i,o,a;for(i=0,o=n.length;i<o;i++)a=n[i][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function xn(n){return n*(Le/180)}function nk(n){return n*(180/Le)}function $p(n){if(!zt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Dm(n,e){const t=e.x-n.x,i=e.y-n.y,o=Math.sqrt(t*t+i*i);let a=Math.atan2(i,t);return a<-.5*Le&&(a+=He),{angle:a,distance:o}}function rk(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function sn(n){return(n%He+He)%He}function Ea(n,e,t,i){const o=sn(n),a=sn(e),l=sn(t),c=sn(a-o),h=sn(l-o),f=sn(o-a),g=sn(o-l);return o===a||o===l||i&&a===l||c>h&&f<g}function wt(n,e,t){return Math.max(e,Math.min(t,n))}function ik(n){return wt(n,-32768,32767)}function xr(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Fc(n,e,t){t=t||(l=>n[l]<e);let i=n.length-1,o=0,a;for(;i-o>1;)a=o+i>>1,t(a)?o=a:i=a;return{lo:o,hi:i}}const vc=(n,e,t,i)=>Fc(n,t,i?o=>{const a=n[o][e];return a<t||a===t&&n[o+1][e]===t}:o=>n[o][e]<t),sk=(n,e,t)=>Fc(n,t,i=>n[i][e]>=t);function ok(n,e,t){let i=0,o=n.length;for(;i<o&&n[i]<e;)i++;for(;o>i&&n[o-1]>t;)o--;return i>0||o<n.length?n.slice(i,o):n}const Im=["push","pop","shift","splice","unshift"];function ak(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Im.forEach(t=>{const i="_onData"+zc(t),o=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=o.apply(this,a);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...a)}),l}})})}function Bp(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(Im.forEach(a=>{delete n[a]}),delete n._chartjs)}function lk(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Nm=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function zm(n,e){let t=[],i=!1;return function(...o){t=o,i||(i=!0,Nm.call(window,()=>{i=!1,n.apply(e,t)}))}}function uk(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const Fm=n=>n==="start"?"left":n==="end"?"right":"center",Pt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,ck=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e,ta=n=>n===0||n===1,Up=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*He/t)),Wp=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*He/t)+1,bs={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ge)+1,easeOutSine:n=>Math.sin(n*Ge),easeInOutSine:n=>-.5*(Math.cos(Le*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ta(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ta(n)?n:Up(n,.075,.3),easeOutElastic:n=>ta(n)?n:Wp(n,.075,.3),easeInOutElastic(n){return ta(n)?n:n<.5?.5*Up(n*2,.1125,.45):.5+.5*Wp(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-bs.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?bs.easeInBounce(n*2)*.5:bs.easeOutBounce(n*2-1)*.5+.5};function $m(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Hp(n){return $m(n)?n:new Cs(n)}function Yu(n){return $m(n)?n:new Cs(n).saturate(.5).darken(.1).hexString()}const dk=["x","y","borderWidth","radius","tension"],hk=["color","borderColor","backgroundColor"];function fk(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:hk},numbers:{type:"number",properties:dk}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function pk(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Vp=new Map;function gk(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Vp.get(t);return i||(i=new Intl.NumberFormat(n,e),Vp.set(t,i)),i}function $c(n,e,t){return gk(e,t).format(n)}const mk={values(n){return rt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let o,a=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(o="scientific"),a=yk(n,t)}const l=Am(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:o,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),$c(n,i,h)}};function yk(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Bm={formatters:mk};function vk(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Bm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const kr=Object.create(null),_c=Object.create(null);function ks(n,e){if(!e)return n;const t=e.split(".");for(let i=0,o=t.length;i<o;++i){const a=t[i];n=n[a]||(n[a]=Object.create(null))}return n}function Gu(n,e,t){return typeof e=="string"?Ps(ks(n,e),t):Ps(ks(n,""),e)}class _k{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>Yu(o.backgroundColor),this.hoverBorderColor=(i,o)=>Yu(o.borderColor),this.hoverColor=(i,o)=>Yu(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Gu(this,e,t)}get(e){return ks(this,e)}describe(e,t){return Gu(_c,e,t)}override(e,t){return Gu(kr,e,t)}route(e,t,i,o){const a=ks(this,e),l=ks(this,i),c="_"+t;Object.defineProperties(a,{[c]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],f=l[o];return ve(h)?Object.assign({},f,h):xe(h,f)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var Ue=new _k({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[fk,pk,vk]);function wk(n){return!n||ze(n.size)||ze(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function qp(n,e,t,i,o){let a=e[o];return a||(a=e[o]=n.measureText(o).width,t.push(o)),a>i&&(i=a),i}function mr(n,e,t){const i=n.currentDevicePixelRatio,o=t!==0?Math.max(t/2,.5):0;return Math.round((e-o)*i)/i+o}function Kp(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Yp(n,e,t,i){Um(n,e,t,i,null)}function Um(n,e,t,i,o){let a,l,c,h,f,g,y,v;const w=e.pointStyle,b=e.rotation,k=e.radius;let x=(b||0)*Qb;if(w&&typeof w=="object"&&(a=w.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(x),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),w){default:o?n.ellipse(t,i,o/2,k,0,0,He):n.arc(t,i,k,0,He),n.closePath();break;case"triangle":g=o?o/2:k,n.moveTo(t+Math.sin(x)*g,i-Math.cos(x)*k),x+=zp,n.lineTo(t+Math.sin(x)*g,i-Math.cos(x)*k),x+=zp,n.lineTo(t+Math.sin(x)*g,i-Math.cos(x)*k),n.closePath();break;case"rectRounded":f=k*.516,h=k-f,l=Math.cos(x+gr)*h,y=Math.cos(x+gr)*(o?o/2-f:h),c=Math.sin(x+gr)*h,v=Math.sin(x+gr)*(o?o/2-f:h),n.arc(t-y,i-c,f,x-Le,x-Ge),n.arc(t+v,i-l,f,x-Ge,x),n.arc(t+y,i+c,f,x,x+Ge),n.arc(t-v,i+l,f,x+Ge,x+Le),n.closePath();break;case"rect":if(!b){h=Math.SQRT1_2*k,g=o?o/2:h,n.rect(t-g,i-h,2*g,2*h);break}x+=gr;case"rectRot":y=Math.cos(x)*(o?o/2:k),l=Math.cos(x)*k,c=Math.sin(x)*k,v=Math.sin(x)*(o?o/2:k),n.moveTo(t-y,i-c),n.lineTo(t+v,i-l),n.lineTo(t+y,i+c),n.lineTo(t-v,i+l),n.closePath();break;case"crossRot":x+=gr;case"cross":y=Math.cos(x)*(o?o/2:k),l=Math.cos(x)*k,c=Math.sin(x)*k,v=Math.sin(x)*(o?o/2:k),n.moveTo(t-y,i-c),n.lineTo(t+y,i+c),n.moveTo(t+v,i-l),n.lineTo(t-v,i+l);break;case"star":y=Math.cos(x)*(o?o/2:k),l=Math.cos(x)*k,c=Math.sin(x)*k,v=Math.sin(x)*(o?o/2:k),n.moveTo(t-y,i-c),n.lineTo(t+y,i+c),n.moveTo(t+v,i-l),n.lineTo(t-v,i+l),x+=gr,y=Math.cos(x)*(o?o/2:k),l=Math.cos(x)*k,c=Math.sin(x)*k,v=Math.sin(x)*(o?o/2:k),n.moveTo(t-y,i-c),n.lineTo(t+y,i+c),n.moveTo(t+v,i-l),n.lineTo(t-v,i+l);break;case"line":l=o?o/2:Math.cos(x)*k,c=Math.sin(x)*k,n.moveTo(t-l,i-c),n.lineTo(t+l,i+c);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(x)*(o?o/2:k),i+Math.sin(x)*k);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Wm(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Bc(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Uc(n){n.restore()}function xk(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ze(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function bk(n,e,t,i,o){if(o.strikethrough||o.underline){const a=n.measureText(i),l=e-a.actualBoundingBoxLeft,c=e+a.actualBoundingBoxRight,h=t-a.actualBoundingBoxAscent,f=t+a.actualBoundingBoxDescent,g=o.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(l,g),n.lineTo(c,g),n.stroke()}}function kk(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ca(n,e,t,i,o,a={}){const l=rt(e)?e:[e],c=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(n.save(),n.font=o.string,xk(n,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&kk(n,a.backdrop),c&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),ze(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,t,i,a.maxWidth)),n.fillText(f,t,i,a.maxWidth),bk(n,t,i,f,a),i+=Number(o.lineHeight);n.restore()}function Pa(n,e){const{x:t,y:i,w:o,h:a,radius:l}=e;n.arc(t+l.topLeft,i+l.topLeft,l.topLeft,1.5*Le,Le,!0),n.lineTo(t,i+a-l.bottomLeft),n.arc(t+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,Le,Ge,!0),n.lineTo(t+o-l.bottomRight,i+a),n.arc(t+o-l.bottomRight,i+a-l.bottomRight,l.bottomRight,Ge,0,!0),n.lineTo(t+o,i+l.topRight),n.arc(t+o-l.topRight,i+l.topRight,l.topRight,0,-Ge,!0),n.lineTo(t+l.topLeft,i)}const Sk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ek=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ck(n,e){const t=(""+n).match(Sk);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const Pk=n=>+n||0;function Wc(n,e){const t={},i=ve(e),o=i?Object.keys(e):e,a=ve(n)?i?l=>xe(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of o)t[l]=Pk(a(l));return t}function Hm(n){return Wc(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ci(n){return Wc(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Yt(n){const e=Hm(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function xt(n,e){n=n||{},e=e||Ue.font;let t=xe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=xe(n.style,e.style);i&&!(""+i).match(Ek)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:xe(n.family,e.family),lineHeight:Ck(xe(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:xe(n.weight,e.weight),string:""};return o.string=wk(o),o}function na(n,e,t,i){let o,a,l;for(o=0,a=n.length;o<a;++o)if(l=n[o],l!==void 0&&l!==void 0)return l}function Tk(n,e,t){const{min:i,max:o}=n,a=Lm(e,(o-i)/2),l=(c,h)=>t&&c===0?0:c+h;return{min:l(i,-Math.abs(a)),max:l(o,a)}}function _i(n,e){return Object.assign(Object.create(n),e)}function Hc(n,e=[""],t,i,o=()=>n[0]){const a=t||n;typeof i>"u"&&(i=Ym("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:o,override:c=>Hc([c,...n],e,a,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete n[0][h],!0},get(c,h){return qm(c,h,()=>Ik(h,e,n,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,h){return Xp(c).includes(h)},ownKeys(c){return Xp(c)},set(c,h,f){const g=c._storage||(c._storage=o());return c[h]=g[h]=f,delete c._keys,!0}})}function fi(n,e,t,i){const o={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Vm(n,i),setContext:a=>fi(n,a,t,i),override:a=>fi(n.override(a),e,t,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,c){return qm(a,l,()=>Ok(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,c){return n[l]=c,delete a[l],!0}})}function Vm(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=n;return{allKeys:o,scriptable:t,indexable:i,isScriptable:Qn(t)?t:()=>t,isIndexable:Qn(i)?i:()=>i}}const Rk=(n,e)=>n?n+zc(e):e,Vc=(n,e)=>ve(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function qm(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function Ok(n,e,t){const{_proxy:i,_context:o,_subProxy:a,_descriptors:l}=n;let c=i[e];return Qn(c)&&l.isScriptable(e)&&(c=Mk(e,c,n,t)),rt(c)&&c.length&&(c=Lk(e,c,n,l.isIndexable)),Vc(e,c)&&(c=fi(c,o,a&&a[e],l)),c}function Mk(n,e,t,i){const{_proxy:o,_context:a,_subProxy:l,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=e(a,l||i);return c.delete(n),Vc(n,h)&&(h=qc(o._scopes,o,n,h)),h}function Lk(n,e,t,i){const{_proxy:o,_context:a,_subProxy:l,_descriptors:c}=t;if(typeof a.index<"u"&&i(n))return e[a.index%e.length];if(ve(e[0])){const h=e,f=o._scopes.filter(g=>g!==h);e=[];for(const g of h){const y=qc(f,o,n,g);e.push(fi(y,a,l&&l[n],c))}}return e}function Km(n,e,t){return Qn(n)?n(e,t):n}const jk=(n,e)=>n===!0?e:typeof n=="string"?Ts(e,n):void 0;function Ak(n,e,t,i,o){for(const a of e){const l=jk(t,a);if(l){n.add(l);const c=Km(l._fallback,t,o);if(typeof c<"u"&&c!==t&&c!==i)return c}else if(l===!1&&typeof i<"u"&&t!==i)return null}return!1}function qc(n,e,t,i){const o=e._rootScopes,a=Km(e._fallback,t,i),l=[...n,...o],c=new Set;c.add(i);let h=Gp(c,l,t,a||t,i);return h===null||typeof a<"u"&&a!==t&&(h=Gp(c,l,a,h,i),h===null)?!1:Hc(Array.from(c),[""],o,a,()=>Dk(e,t,i))}function Gp(n,e,t,i,o){for(;t;)t=Ak(n,e,t,i,o);return t}function Dk(n,e,t){const i=n._getTarget();e in i||(i[e]={});const o=i[e];return rt(o)&&ve(t)?t:o||{}}function Ik(n,e,t,i){let o;for(const a of e)if(o=Ym(Rk(a,n),t),typeof o<"u")return Vc(n,o)?qc(t,i,n,o):o}function Ym(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function Xp(n){let e=n._keys;return e||(e=n._keys=Nk(n._scopes)),e}function Nk(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}function Kc(){return typeof window<"u"&&typeof document<"u"}function Yc(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ta(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Aa=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function zk(n,e){return Aa(n).getPropertyValue(e)}const Fk=["top","right","bottom","left"];function br(n,e,t){const i={};t=t?"-"+t:"";for(let o=0;o<4;o++){const a=Fk[o];i[a]=parseFloat(n[e+"-"+a+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const $k=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Bk(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:o,offsetY:a}=i;let l=!1,c,h;if($k(o,a,n.target))c=o,h=a;else{const f=e.getBoundingClientRect();c=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:c,y:h,box:l}}function _r(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,o=Aa(t),a=o.boxSizing==="border-box",l=br(o,"padding"),c=br(o,"border","width"),{x:h,y:f,box:g}=Bk(n,t),y=l.left+(g&&c.left),v=l.top+(g&&c.top);let{width:w,height:b}=e;return a&&(w-=l.width+c.width,b-=l.height+c.height),{x:Math.round((h-y)/w*t.width/i),y:Math.round((f-v)/b*t.height/i)}}function Uk(n,e,t){let i,o;if(e===void 0||t===void 0){const a=n&&Yc(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),c=Aa(a),h=br(c,"border","width"),f=br(c,"padding");e=l.width-f.width-h.width,t=l.height-f.height-h.height,i=Ta(c.maxWidth,a,"clientWidth"),o=Ta(c.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:i||ba,maxHeight:o||ba}}const Kn=n=>Math.round(n*10)/10;function Wk(n,e,t,i){const o=Aa(n),a=br(o,"margin"),l=Ta(o.maxWidth,n,"clientWidth")||ba,c=Ta(o.maxHeight,n,"clientHeight")||ba,h=Uk(n,e,t);let{width:f,height:g}=h;if(o.boxSizing==="content-box"){const v=br(o,"border","width"),w=br(o,"padding");f-=w.width+v.width,g-=w.height+v.height}return f=Math.max(0,f-a.width),g=Math.max(0,i?f/i:g-a.height),f=Kn(Math.min(f,l,h.maxWidth)),g=Kn(Math.min(g,c,h.maxHeight)),f&&!g&&(g=Kn(f/2)),(e!==void 0||t!==void 0)&&i&&h.height&&g>h.height&&(g=h.height,f=Kn(Math.floor(g*i))),{width:f,height:g}}function Qp(n,e,t){const i=e||1,o=Kn(n.height*i),a=Kn(n.width*i);n.height=Kn(n.height),n.width=Kn(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==o||l.width!==a?(n.currentDevicePixelRatio=i,l.height=o,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Hk=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Kc()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function Jp(n,e){const t=zk(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const Vk=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},qk=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function di(n,e,t){return n?Vk(e,t):qk()}function Gm(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Xm(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function ra(n,e,t){return n.options.clip?n[t]:e[t]}function Kk(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:ra(t,e,"left"),right:ra(t,e,"right"),top:ra(i,e,"top"),bottom:ra(i,e,"bottom")}:e}function Yk(n,e){const t=e._clip;if(t.disabled)return!1;const i=Kk(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}class Gk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,o){const a=t.listeners[o],l=t.duration;a.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Nm.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,c=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),c=!0):(a[l]=a[a.length-1],a.pop());c&&(o.draw(),this._notify(o,i,e,"progress")),a.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var yn=new Gk;const Zp="transparent",Xk={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=Hp(n||Zp),o=i.valid&&Hp(e||Zp);return o&&o.valid?o.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Qk{constructor(e,t,i,o){const a=t[i];o=na([e.to,o,a,e.from]);const l=na([e.from,a,o]);this._active=!0,this._fn=e.fn||Xk[e.type||typeof l],this._easing=bs[e.easing]||bs.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const o=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=na([e.to,t,o,e.from]),this._from=na([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,o=this._prop,a=this._from,l=this._loop,c=this._to;let h;if(this._active=a!==c&&(l||t<i),!this._active){this._target[o]=c,this._notify(!0);return}if(t<0){this._target[o]=a;return}h=t/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[o]=this._fn(a,c,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][t]()}}class Qm{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ve(e))return;const t=Object.keys(Ue.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const a=e[o];if(!ve(a))return;const l={};for(const c of t)l[c]=a[c];(rt(a.properties)&&a.properties||[o]).forEach(c=>{(c===o||!i.has(c))&&i.set(c,l)})})}_animateOptions(e,t){const i=t.options,o=Zk(e,i);if(!o)return[];const a=this._createAnimations(o,i);return i.$shared&&Jk(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,t){const i=this._properties,o=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){o.push(...this._animateOptions(e,t));continue}const g=t[f];let y=a[f];const v=i.get(f);if(y)if(v&&y.active()){y.update(v,g,c);continue}else y.cancel();if(!v||!v.duration){e[f]=g;continue}a[f]=y=new Qk(v,e,f,g),o.push(y)}return o}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return yn.add(this._chart,i),!0}}function Jk(n,e){const t=[],i=Object.keys(e);for(let o=0;o<i.length;o++){const a=n[i[o]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function Zk(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function eg(n,e){const t=n&&n.options||{},i=t.reverse,o=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:i?a:o,end:i?o:a}}function eS(n,e,t){if(t===!1)return!1;const i=eg(n,t),o=eg(e,t);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function tS(n){let e,t,i,o;return ve(n)?(e=n.top,t=n.right,i=n.bottom,o=n.left):e=t=i=o=n,{top:e,right:t,bottom:i,left:o,disabled:n===!1}}function Jm(n,e){const t=[],i=n._getSortedDatasetMetas(e);let o,a;for(o=0,a=i.length;o<a;++o)t.push(i[o].index);return t}function tg(n,e,t,i={}){const o=n.keys,a=i.mode==="single";let l,c,h,f;if(e===null)return;let g=!1;for(l=0,c=o.length;l<c;++l){if(h=+o[l],h===t){if(g=!0,i.all)continue;break}f=n.values[h],zt(f)&&(a||e===0||ka(e)===ka(f))&&(e+=f)}return!g&&!i.all?0:e}function nS(n,e){const{iScale:t,vScale:i}=e,o=t.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let h,f,g;for(h=0,f=l.length;h<f;++h)g=l[h],c[h]={[o]:g,[a]:n[g]};return c}function Xu(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function rS(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function iS(n){const{min:e,max:t,minDefined:i,maxDefined:o}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?t:Number.POSITIVE_INFINITY}}function sS(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function ng(n,e,t,i){for(const o of e.getMatchingVisibleMetas(i).reverse()){const a=n[o.index];if(t&&a>0||!t&&a<0)return o.index}return null}function rg(n,e){const{chart:t,_cachedMeta:i}=n,o=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:c}=i,h=a.axis,f=l.axis,g=rS(a,l,i),y=e.length;let v;for(let w=0;w<y;++w){const b=e[w],{[h]:k,[f]:x}=b,P=b._stacks||(b._stacks={});v=P[f]=sS(o,g,k),v[c]=x,v._top=ng(v,l,!0,i.type),v._bottom=ng(v,l,!1,i.type);const C=v._visualValues||(v._visualValues={});C[c]=x}}function Qu(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function oS(n,e){return _i(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function aS(n,e,t){return _i(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function us(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const o of e){const a=o._stacks;if(!a||a[i]===void 0||a[i][t]===void 0)return;delete a[i][t],a[i]._visualValues!==void 0&&a[i]._visualValues[t]!==void 0&&delete a[i]._visualValues[t]}}}const Ju=n=>n==="reset"||n==="none",ig=(n,e)=>e?n:Object.assign({},n),lS=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Jm(t,!0),values:null};class Zm{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Xu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&us(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),o=(y,v,w,b)=>y==="x"?v:y==="r"?b:w,a=t.xAxisID=xe(i.xAxisID,Qu(e,"x")),l=t.yAxisID=xe(i.yAxisID,Qu(e,"y")),c=t.rAxisID=xe(i.rAxisID,Qu(e,"r")),h=t.indexAxis,f=t.iAxisID=o(h,a,l,c),g=t.vAxisID=o(h,l,a,c);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Bp(this._data,this),e._stacked&&us(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(ve(t)){const o=this._cachedMeta;this._data=nS(t,o)}else if(i!==t){if(i){Bp(i,this);const o=this._cachedMeta;us(o),o._parsed=[]}t&&Object.isExtensible(t)&&ak(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const a=t._stacked;t._stacked=Xu(t.vScale,t),t.stack!==i.stack&&(o=!0,us(t),t.stack=i.stack),this._resyncElements(e),(o||a!==t._stacked)&&(rg(this,t._parsed),t._stacked=Xu(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:o}=this,{iScale:a,_stacked:l}=i,c=a.axis;let h=e===0&&t===o.length?!0:i._sorted,f=e>0&&i._parsed[e-1],g,y,v;if(this._parsing===!1)i._parsed=o,i._sorted=!0,v=o;else{rt(o[e])?v=this.parseArrayData(i,o,e,t):ve(o[e])?v=this.parseObjectData(i,o,e,t):v=this.parsePrimitiveData(i,o,e,t);const w=()=>y[c]===null||f&&y[c]<f[c];for(g=0;g<t;++g)i._parsed[g+e]=y=v[g],h&&(w()&&(h=!1),f=y);i._sorted=h}l&&rg(this,v)}parsePrimitiveData(e,t,i,o){const{iScale:a,vScale:l}=e,c=a.axis,h=l.axis,f=a.getLabels(),g=a===l,y=new Array(o);let v,w,b;for(v=0,w=o;v<w;++v)b=v+i,y[v]={[c]:g||a.parse(f[b],b),[h]:l.parse(t[b],b)};return y}parseArrayData(e,t,i,o){const{xScale:a,yScale:l}=e,c=new Array(o);let h,f,g,y;for(h=0,f=o;h<f;++h)g=h+i,y=t[g],c[h]={x:a.parse(y[0],g),y:l.parse(y[1],g)};return c}parseObjectData(e,t,i,o){const{xScale:a,yScale:l}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=new Array(o);let g,y,v,w;for(g=0,y=o;g<y;++g)v=g+i,w=t[v],f[g]={x:a.parse(Ts(w,c),v),y:l.parse(Ts(w,h),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const o=this.chart,a=this._cachedMeta,l=t[e.axis],c={keys:Jm(o,!0),values:t._stacks[e.axis]._visualValues};return tg(c,l,a.index,{mode:i})}updateRangeFromParsed(e,t,i,o){const a=i[t.axis];let l=a===null?NaN:a;const c=o&&i._stacks[t.axis];o&&c&&(o.values=c,l=tg(o,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const i=this._cachedMeta,o=i._parsed,a=i._sorted&&e===i.iScale,l=o.length,c=this._getOtherScale(e),h=lS(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=iS(c);let v,w;function b(){w=o[v];const k=w[c.axis];return!zt(w[e.axis])||g>k||y<k}for(v=0;v<l&&!(!b()&&(this.updateRangeFromParsed(f,e,w,h),a));++v);if(a){for(v=l-1;v>=0;--v)if(!b()){this.updateRangeFromParsed(f,e,w,h);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let o,a,l;for(o=0,a=t.length;o<a;++o)l=t[o][e.axis],zt(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,o=t.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=tS(xe(this.options.clip,eS(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,o=i.data||[],a=t.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||o.length-c,f=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,a,c,h),g=c;g<c+h;++g){const y=o[g];y.hidden||(y.active&&f?l.push(y):y.draw(e,a))}for(g=0;g<l.length;++g)l[g].draw(e,a)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const o=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=aS(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=o.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=oS(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const o=t==="active",a=this._cachedDataOpts,l=e+"-"+t,c=a[l],h=this.enableOptionSharing&&xa(i);if(c)return ig(c,h);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,e),y=o?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),g),w=Object.keys(Ue.elements[e]),b=()=>this.getContext(i,o,t),k=f.resolveNamedOptions(v,w,b,y);return k.$shared&&(k.$shared=h,a[l]=Object.freeze(ig(k,h))),k}_resolveAnimations(e,t,i){const o=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,c=a[l];if(c)return c;let h;if(o.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,t),v=g.getOptionScopes(this.getDataset(),y);h=g.createResolver(v,this.getContext(e,i,t))}const f=new Qm(o,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Ju(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),o=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(t,a)||a!==o;return this.updateSharedOptions(a,t,i),{sharedOptions:a,includeOptions:l}}updateElement(e,t,i,o){Ju(o)?Object.assign(e,i):this._resolveAnimations(t,o).update(e,i)}updateSharedOptions(e,t,i){e&&!Ju(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,o){e.active=o;const a=this.getStyle(t,o);this._resolveAnimations(t,i,o).update(e,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[c,h,f]of this._syncList)this[c](h,f);this._syncList=[];const o=i.length,a=t.length,l=Math.min(a,o);l&&this.parse(0,l),a>o?this._insertElements(o,a-o,e):a<o&&this._removeElements(a,o-a)}_insertElements(e,t,i=!0){const o=this._cachedMeta,a=o.data,l=e+t;let c;const h=f=>{for(f.length+=t,c=f.length-1;c>=l;c--)f[c]=f[c-t]};for(h(a),c=e;c<l;++c)a[c]=new this.dataElementType;this._parsing&&h(o._parsed),this.parse(e,t),i&&this.updateElements(a,e,t,"reset")}updateElements(e,t,i,o){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(e,t);i._stacked&&us(i,o)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,o]=e;this[t](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function uS(n,e,t){let i=1,o=1,a=0,l=0;if(e<He){const c=n,h=c+e,f=Math.cos(c),g=Math.sin(c),y=Math.cos(h),v=Math.sin(h),w=(R,D,N)=>Ea(R,c,h,!0)?1:Math.max(D,D*t,N,N*t),b=(R,D,N)=>Ea(R,c,h,!0)?-1:Math.min(D,D*t,N,N*t),k=w(0,f,y),x=w(Ge,g,v),P=b(Le,f,y),C=b(Le+Ge,g,v);i=(k-P)/2,o=(x-C)/2,a=-(k+P)/2,l=-(x+C)/2}return{ratioX:i,ratioY:o,offsetX:a,offsetY:l}}class cS extends Zm{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:i,textAlign:o,color:a,useBorderRadius:l,borderRadius:c}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((h,f)=>{const y=e.getDatasetMeta(0).controller.getStyle(f);return{text:h,fillStyle:y.backgroundColor,fontColor:a,hidden:!e.getDataVisibility(f),lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:y.borderWidth,strokeStyle:y.borderColor,textAlign:o,pointStyle:i,borderRadius:l&&(c||y.borderRadius),index:f}}):[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let a=h=>+i[h];if(ve(i[e])){const{key:h="value"}=this._parsing;a=f=>+Ts(i[f],h)}let l,c;for(l=e,c=e+t;l<c;++l)o._parsed[l]=a(l)}}_getRotation(){return xn(this.options.rotation-90)}_getCircumference(){return xn(this.options.circumference)}_getRotationExtents(){let e=He,t=-He;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const o=this.chart.getDatasetMeta(i).controller,a=o._getRotation(),l=o._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,o=this._cachedMeta,a=o.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(Vb(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:g,rotation:y}=this._getRotationExtents(),{ratioX:v,ratioY:w,offsetX:b,offsetY:k}=uS(y,g,h),x=(i.width-l)/v,P=(i.height-l)/w,C=Math.max(Math.min(x,P)/2,0),R=Lm(this.options.radius,C),D=Math.max(R*h,0),N=(R-D)/this._getVisibleDatasetWeightTotal();this.offsetX=b*R,this.offsetY=k*R,o.total=this.calculateTotal(),this.outerRadius=R-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const i=this.options,o=this._cachedMeta,a=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*a/He)}updateElements(e,t,i,o){const a=o==="reset",l=this.chart,c=l.chartArea,f=l.options.animation,g=(c.left+c.right)/2,y=(c.top+c.bottom)/2,v=a&&f.animateScale,w=v?0:this.innerRadius,b=v?0:this.outerRadius,{sharedOptions:k,includeOptions:x}=this._getSharedOptions(t,o);let P=this._getRotation(),C;for(C=0;C<t;++C)P+=this._circumference(C,a);for(C=t;C<t+i;++C){const R=this._circumference(C,a),D=e[C],N={x:g+this.offsetX,y:y+this.offsetY,startAngle:P,endAngle:P+R,circumference:R,outerRadius:b,innerRadius:w};x&&(N.options=k||this.resolveDataElementOptions(C,D.active?"active":o)),P+=R,this.updateElement(D,C,N,o)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,o;for(o=0;o<t.length;o++){const a=e._parsed[o];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(o)&&!t[o].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?He*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,o=i.data.labels||[],a=$c(t._parsed[e],i.options.locale);return{label:o[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const i=this.chart;let o,a,l,c,h;if(!e){for(o=0,a=i.data.datasets.length;o<a;++o)if(i.isDatasetVisible(o)){l=i.getDatasetMeta(o),e=l.data,c=l.controller;break}}if(!e)return 0;for(o=0,a=e.length;o<a;++o)h=c.resolveDataElementOptions(o),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,o=e.length;i<o;++i){const a=this.resolveDataElementOptions(i);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(xe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class dS extends cS{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function yr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Gc{static override(e){Object.assign(Gc.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return yr()}parse(){return yr()}format(){return yr()}add(){return yr()}diff(){return yr()}startOf(){return yr()}endOf(){return yr()}}var hS={_date:Gc};function fS(n,e,t,i){const{controller:o,data:a,_sorted:l}=n,c=o._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&a.length){const f=c._reversePixels?sk:vc;if(i){if(o._sharedOptions){const g=a[0],y=typeof g.getRange=="function"&&g.getRange(e);if(y){const v=f(a,e,t-y),w=f(a,e,t+y);return{lo:v.lo,hi:w.hi}}}}else{const g=f(a,e,t);if(h){const{vScale:y}=o._cachedMeta,{_parsed:v}=n,w=v.slice(0,g.lo+1).reverse().findIndex(k=>!ze(k[y.axis]));g.lo-=Math.max(0,w);const b=v.slice(g.hi).findIndex(k=>!ze(k[y.axis]));g.hi+=Math.max(0,b)}return g}}return{lo:0,hi:a.length-1}}function Da(n,e,t,i,o){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,h=a.length;c<h;++c){const{index:f,data:g}=a[c],{lo:y,hi:v}=fS(a[c],e,l,o);for(let w=y;w<=v;++w){const b=g[w];b.skip||i(b,f,w)}}}function pS(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,o){const a=e?Math.abs(i.x-o.x):0,l=t?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Zu(n,e,t,i,o){const a=[];return!o&&!n.isPointInArea(e)||Da(n,t,e,function(c,h,f){!o&&!Wm(c,n.chartArea,0)||c.inRange(e.x,e.y,i)&&a.push({element:c,datasetIndex:h,index:f})},!0),a}function gS(n,e,t,i){let o=[];function a(l,c,h){const{startAngle:f,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:y}=Dm(l,{x:e.x,y:e.y});Ea(y,f,g)&&o.push({element:l,datasetIndex:c,index:h})}return Da(n,t,e,a),o}function mS(n,e,t,i,o,a){let l=[];const c=pS(t);let h=Number.POSITIVE_INFINITY;function f(g,y,v){const w=g.inRange(e.x,e.y,o);if(i&&!w)return;const b=g.getCenterPoint(o);if(!(!!a||n.isPointInArea(b))&&!w)return;const x=c(e,b);x<h?(l=[{element:g,datasetIndex:y,index:v}],h=x):x===h&&l.push({element:g,datasetIndex:y,index:v})}return Da(n,t,e,f),l}function ec(n,e,t,i,o,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!i?gS(n,e,t,o):mS(n,e,t,i,o,a)}function sg(n,e,t,i,o){const a=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return Da(n,t,e,(h,f,g)=>{h[l]&&h[l](e[t],o)&&(a.push({element:h,datasetIndex:f,index:g}),c=c||h.inRange(e.x,e.y,o))}),i&&!c?[]:a}var yS={modes:{index(n,e,t,i){const o=_r(e,n),a=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?Zu(n,o,a,i,l):ec(n,o,a,!1,i,l),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const g=c[0].index,y=f.data[g];y&&!y.skip&&h.push({element:y,datasetIndex:f.index,index:g})}),h):[]},dataset(n,e,t,i){const o=_r(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?Zu(n,o,a,i,l):ec(n,o,a,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,f=n.getDatasetMeta(h).data;c=[];for(let g=0;g<f.length;++g)c.push({element:f[g],datasetIndex:h,index:g})}return c},point(n,e,t,i){const o=_r(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Zu(n,o,a,i,l)},nearest(n,e,t,i){const o=_r(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return ec(n,o,a,t.intersect,i,l)},x(n,e,t,i){const o=_r(e,n);return sg(n,o,"x",t.intersect,i)},y(n,e,t,i){const o=_r(e,n);return sg(n,o,"y",t.intersect,i)}}};const ey=["left","top","right","bottom"];function cs(n,e){return n.filter(t=>t.pos===e)}function og(n,e){return n.filter(t=>ey.indexOf(t.pos)===-1&&t.box.axis===e)}function ds(n,e){return n.sort((t,i)=>{const o=e?i:t,a=e?t:i;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function vS(n){const e=[];let t,i,o,a,l,c;for(t=0,i=(n||[]).length;t<i;++t)o=n[t],{position:a,options:{stack:l,stackWeight:c=1}}=o,e.push({index:t,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&a+l,stackWeight:c});return e}function _S(n){const e={};for(const t of n){const{stack:i,pos:o,stackWeight:a}=t;if(!i||!ey.includes(o))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function wS(n,e){const t=_S(n),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e;let a,l,c;for(a=0,l=n.length;a<l;++a){c=n[a];const{fullSize:h}=c.box,f=t[c.stack],g=f&&c.stackWeight/f.weight;c.horizontal?(c.width=g?g*i:h&&e.availableWidth,c.height=o):(c.width=i,c.height=g?g*o:h&&e.availableHeight)}return t}function xS(n){const e=vS(n),t=ds(e.filter(f=>f.box.fullSize),!0),i=ds(cs(e,"left"),!0),o=ds(cs(e,"right")),a=ds(cs(e,"top"),!0),l=ds(cs(e,"bottom")),c=og(e,"x"),h=og(e,"y");return{fullSize:t,leftAndTop:i.concat(a),rightAndBottom:o.concat(h).concat(l).concat(c),chartArea:cs(e,"chartArea"),vertical:i.concat(o).concat(h),horizontal:a.concat(l).concat(c)}}function ag(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function ty(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function bS(n,e,t,i){const{pos:o,box:a}=t,l=n.maxPadding;if(!ve(o)){t.size&&(n[o]-=t.size);const y=i[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?a.height:a.width),t.size=y.size/y.count,n[o]+=t.size}a.getPadding&&ty(l,a.getPadding());const c=Math.max(0,e.outerWidth-ag(l,n,"left","right")),h=Math.max(0,e.outerHeight-ag(l,n,"top","bottom")),f=c!==n.w,g=h!==n.h;return n.w=c,n.h=h,t.horizontal?{same:f,other:g}:{same:g,other:f}}function kS(n){const e=n.maxPadding;function t(i){const o=Math.max(e[i]-n[i],0);return n[i]+=o,o}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function SS(n,e){const t=e.maxPadding;function i(o){const a={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return i(n?["left","right"]:["top","bottom"])}function ms(n,e,t,i){const o=[];let a,l,c,h,f,g;for(a=0,l=n.length,f=0;a<l;++a){c=n[a],h=c.box,h.update(c.width||e.w,c.height||e.h,SS(c.horizontal,e));const{same:y,other:v}=bS(e,t,c,i);f|=y&&o.length,g=g||v,h.fullSize||o.push(c)}return f&&ms(o,e,t,i)||g}function ia(n,e,t,i,o){n.top=t,n.left=e,n.right=e+i,n.bottom=t+o,n.width=i,n.height=o}function lg(n,e,t,i){const o=t.padding;let{x:a,y:l}=e;for(const c of n){const h=c.box,f=i[c.stack]||{placed:0,weight:1},g=c.stackWeight/f.weight||1;if(c.horizontal){const y=e.w*g,v=f.size||h.height;xa(f.start)&&(l=f.start),h.fullSize?ia(h,o.left,l,t.outerWidth-o.right-o.left,v):ia(h,e.left+f.placed,l,y,v),f.start=l,f.placed+=y,l=h.bottom}else{const y=e.h*g,v=f.size||h.width;xa(f.start)&&(a=f.start),h.fullSize?ia(h,a,o.top,v,t.outerHeight-o.bottom-o.top):ia(h,a,e.top+f.placed,v,y),f.start=a,f.placed+=y,a=h.right}}e.x=a,e.y=l}var Yn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const o=Yt(n.options.layout.padding),a=Math.max(e-o.width,0),l=Math.max(t-o.height,0),c=xS(n.boxes),h=c.vertical,f=c.horizontal;Se(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const g=h.reduce((k,x)=>x.box.options&&x.box.options.display===!1?k:k+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:o,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),v=Object.assign({},o);ty(v,Yt(i));const w=Object.assign({maxPadding:v,w:a,h:l,x:o.left,y:o.top},o),b=wS(h.concat(f),y);ms(c.fullSize,w,y,b),ms(h,w,y,b),ms(f,w,y,b)&&ms(h,w,y,b),kS(w),lg(c.leftAndTop,w,y,b),w.x+=w.w,w.y+=w.h,lg(c.rightAndBottom,w,y,b),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Se(c.chartArea,k=>{const x=k.box;Object.assign(x,n.chartArea),x.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class ny{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,o){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):i)}}isAttached(e){return!0}updateConfig(e){}}class ES extends ny{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const pa="$chartjs",CS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ug=n=>n===null||n==="";function PS(n,e){const t=n.style,i=n.getAttribute("height"),o=n.getAttribute("width");if(n[pa]={initial:{height:i,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",ug(o)){const a=Jp(n,"width");a!==void 0&&(n.width=a)}if(ug(i))if(n.style.height==="")n.height=n.width/(e||2);else{const a=Jp(n,"height");a!==void 0&&(n.height=a)}return n}const ry=Hk?{passive:!0}:!1;function TS(n,e,t){n&&n.addEventListener(e,t,ry)}function RS(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,ry)}function OS(n,e){const t=CS[n.type]||n.type,{x:i,y:o}=_r(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:o!==void 0?o:null}}function Ra(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function MS(n,e,t){const i=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Ra(c.addedNodes,i),l=l&&!Ra(c.removedNodes,i);l&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}function LS(n,e,t){const i=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Ra(c.removedNodes,i),l=l&&!Ra(c.addedNodes,i);l&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}const Rs=new Map;let cg=0;function iy(){const n=window.devicePixelRatio;n!==cg&&(cg=n,Rs.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function jS(n,e){Rs.size||window.addEventListener("resize",iy),Rs.set(n,e)}function AS(n){Rs.delete(n),Rs.size||window.removeEventListener("resize",iy)}function DS(n,e,t){const i=n.canvas,o=i&&Yc(i);if(!o)return;const a=zm((c,h)=>{const f=o.clientWidth;t(c,h),f<o.clientWidth&&t()},window),l=new ResizeObserver(c=>{const h=c[0],f=h.contentRect.width,g=h.contentRect.height;f===0&&g===0||a(f,g)});return l.observe(o),jS(n,a),l}function tc(n,e,t){t&&t.disconnect(),e==="resize"&&AS(n)}function IS(n,e,t){const i=n.canvas,o=zm(a=>{n.ctx!==null&&t(OS(a,n))},n);return TS(i,e,o),o}class NS extends ny{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(PS(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[pa])return!1;const i=t[pa].initial;["height","width"].forEach(a=>{const l=i[a];ze(l)?t.removeAttribute(a):t.setAttribute(a,l)});const o=i.style||{};return Object.keys(o).forEach(a=>{t.style[a]=o[a]}),t.width=t.width,delete t[pa],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const o=e.$proxies||(e.$proxies={}),l={attach:MS,detach:LS,resize:DS}[t]||IS;o[t]=l(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),o=i[t];if(!o)return;({attach:tc,detach:tc,resize:tc}[t]||RS)(e,t,o),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,o){return Wk(e,t,i,o)}isAttached(e){const t=e&&Yc(e);return!!(t&&t.isConnected)}}function zS(n){return!Kc()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?ES:NS}class wi{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Sa(this.x)&&Sa(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const o={};return e.forEach(a=>{o[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),o}}function FS(n,e){const t=n.options.ticks,i=$S(n),o=Math.min(t.maxTicksLimit||i,i),a=t.major.enabled?US(e):[],l=a.length,c=a[0],h=a[l-1],f=[];if(l>o)return WS(e,f,a,l/o),f;const g=BS(a,e,o);if(l>0){let y,v;const w=l>1?Math.round((h-c)/(l-1)):null;for(sa(e,f,g,ze(w)?0:c-w,c),y=0,v=l-1;y<v;y++)sa(e,f,g,a[y],a[y+1]);return sa(e,f,g,h,ze(w)?e.length:h+w),f}return sa(e,f,g),f}function $S(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),o=n._maxLength/t;return Math.floor(Math.min(i,o))}function BS(n,e,t){const i=HS(n),o=e.length/t;if(!i)return Math.max(o,1);const a=Jb(i);for(let l=0,c=a.length-1;l<c;l++){const h=a[l];if(h>o)return h}return Math.max(o,1)}function US(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function WS(n,e,t,i){let o=0,a=t[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(e.push(n[l]),o++,a=t[o*i])}function sa(n,e,t,i,o){const a=xe(i,0),l=Math.min(xe(o,n.length),n.length);let c=0,h,f,g;for(t=Math.ceil(t),o&&(h=o-i,t=h/Math.floor(h/t)),g=a;g<0;)c++,g=Math.round(a+c*t);for(f=Math.max(a,0);f<l;f++)f===g&&(e.push(n[f]),c++,g=Math.round(a+c*t))}function HS(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const VS=n=>n==="left"?"right":n==="right"?"left":n,dg=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,hg=(n,e)=>Math.min(e||n,n);function fg(n,e){const t=[],i=n.length/e,o=n.length;let a=0;for(;a<o;a+=i)t.push(n[Math.floor(a)]);return t}function qS(n,e,t){const i=n.ticks.length,o=Math.min(e,i-1),a=n._startPixel,l=n._endPixel,c=1e-6;let h=n.getPixelForTick(o),f;if(!(t&&(i===1?f=Math.max(h-a,l-h):e===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(o-1))/2,h+=o<e?f:-f,h<a-c||h>l+c)))return h}function KS(n,e){Se(n,t=>{const i=t.gc,o=i.length/2;let a;if(o>e){for(a=0;a<o;++a)delete t.data[i[a]];i.splice(0,o)}})}function hs(n){return n.drawTicks?n.tickLength:0}function pg(n,e){if(!n.display)return 0;const t=xt(n.font,e),i=Yt(n.padding);return(rt(n.text)?n.text.length:1)*t.lineHeight+i.height}function YS(n,e){return _i(n,{scale:e,type:"scale"})}function GS(n,e,t){return _i(n,{tick:t,index:e,type:"tick"})}function XS(n,e,t){let i=Fm(n);return(t&&e!=="right"||!t&&e==="right")&&(i=VS(i)),i}function QS(n,e,t,i){const{top:o,left:a,bottom:l,right:c,chart:h}=n,{chartArea:f,scales:g}=h;let y=0,v,w,b;const k=l-o,x=c-a;if(n.isHorizontal()){if(w=Pt(i,a,c),ve(t)){const P=Object.keys(t)[0],C=t[P];b=g[P].getPixelForValue(C)+k-e}else t==="center"?b=(f.bottom+f.top)/2+k-e:b=dg(n,t,e);v=c-a}else{if(ve(t)){const P=Object.keys(t)[0],C=t[P];w=g[P].getPixelForValue(C)-x+e}else t==="center"?w=(f.left+f.right)/2-x+e:w=dg(n,t,e);b=Pt(i,l,o),y=t==="left"?-Ge:Ge}return{titleX:w,titleY:b,maxWidth:v,rotation:y}}class xi extends wi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:o}=this;return e=en(e,Number.POSITIVE_INFINITY),t=en(t,Number.NEGATIVE_INFINITY),i=en(i,Number.POSITIVE_INFINITY),o=en(o,Number.NEGATIVE_INFINITY),{min:en(e,i),max:en(t,o),minDefined:zt(e),maxDefined:zt(t)}}getMinMax(e){let{min:t,max:i,minDefined:o,maxDefined:a}=this.getUserBounds(),l;if(o&&a)return{min:t,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,f=c.length;h<f;++h)l=c[h].controller.getMinMax(this,e),o||(t=Math.min(t,l.min)),a||(i=Math.max(i,l.max));return t=a&&t>i?i:t,i=o&&t>i?t:i,{min:en(t,en(i,t)),max:en(i,en(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Me(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:o,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Tk(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?fg(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=FS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Me(this.options.afterUpdate,[this])}beforeSetDimensions(){Me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Me(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Me(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,o,a;for(i=0,o=e.length;i<o;i++)a=e[i],a.label=Me(t.callback,[a.value,i,e],this)}afterTickToLabelConversion(){Me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=hg(this.ticks.length,e.ticks.maxTicksLimit),o=t.minRotation||0,a=t.maxRotation;let l=o,c,h,f;if(!this._isVisible()||!t.display||o>=a||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const g=this._getLabelSizes(),y=g.widest.width,v=g.highest.height,w=wt(this.chart.width-y,0,this.maxWidth);c=e.offset?this.maxWidth/i:w/(i-1),y+6>c&&(c=w/(i-(e.offset?.5:1)),h=this.maxHeight-hs(e.grid)-t.padding-pg(e.title,this.chart.options.font),f=Math.sqrt(y*y+v*v),l=nk(Math.min(Math.asin(wt((g.highest.height+6)/c,-1,1)),Math.asin(wt(h/f,-1,1))-Math.asin(wt(v/f,-1,1)))),l=Math.max(o,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Me(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:o,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=pg(o,t.options.font);if(c?(e.width=this.maxWidth,e.height=hs(a)+h):(e.height=this.maxHeight,e.width=hs(a)+h),i.display&&this.ticks.length){const{first:f,last:g,widest:y,highest:v}=this._getLabelSizes(),w=i.padding*2,b=xn(this.labelRotation),k=Math.cos(b),x=Math.sin(b);if(c){const P=i.mirror?0:x*y.width+k*v.height;e.height=Math.min(this.maxHeight,e.height+P+w)}else{const P=i.mirror?0:k*y.width+x*v.height;e.width=Math.min(this.maxWidth,e.width+P+w)}this._calculatePadding(f,g,x,k)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,o){const{ticks:{align:a,padding:l},position:c}=this.options,h=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,w=0;h?f?(v=o*e.width,w=i*t.height):(v=i*e.height,w=o*t.width):a==="start"?w=t.width:a==="end"?v=e.width:a!=="inner"&&(v=e.width/2,w=t.width/2),this.paddingLeft=Math.max((v-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((w-y+l)*this.width/(this.width-y),0)}else{let g=t.height/2,y=e.height/2;a==="start"?(g=0,y=e.height):a==="end"&&(g=t.height,y=0),this.paddingTop=g+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Me(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)ze(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=fg(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:o,_longestTextCache:a}=this,l=[],c=[],h=Math.floor(t/hg(t,i));let f=0,g=0,y,v,w,b,k,x,P,C,R,D,N;for(y=0;y<t;y+=h){if(b=e[y].label,k=this._resolveTickFontOptions(y),o.font=x=k.string,P=a[x]=a[x]||{data:{},gc:[]},C=k.lineHeight,R=D=0,!ze(b)&&!rt(b))R=qp(o,P.data,P.gc,R,b),D=C;else if(rt(b))for(v=0,w=b.length;v<w;++v)N=b[v],!ze(N)&&!rt(N)&&(R=qp(o,P.data,P.gc,R,N),D+=C);l.push(R),c.push(D),f=Math.max(R,f),g=Math.max(D,g)}KS(a,t);const z=l.indexOf(f),U=c.indexOf(g),q=Z=>({width:l[Z]||0,height:c[Z]||0});return{first:q(0),last:q(t-1),widest:q(z),highest:q(U),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return ik(this._alignToPixels?mr(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=GS(this.getContext(),e,i))}return this.$context||(this.$context=YS(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=xn(this.labelRotation),i=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,c=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>c*o?c/i:h/o:h*o<c*i?h/i:c/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,o=this.options,{grid:a,position:l,border:c}=o,h=a.offset,f=this.isHorizontal(),y=this.ticks.length+(h?1:0),v=hs(a),w=[],b=c.setContext(this.getContext()),k=b.display?b.width:0,x=k/2,P=function(fe){return mr(i,fe,k)};let C,R,D,N,z,U,q,Z,te,ie,se,we;if(l==="top")C=P(this.bottom),U=this.bottom-v,Z=C-x,ie=P(e.top)+x,we=e.bottom;else if(l==="bottom")C=P(this.top),ie=e.top,we=P(e.bottom)-x,U=C+x,Z=this.top+v;else if(l==="left")C=P(this.right),z=this.right-v,q=C-x,te=P(e.left)+x,se=e.right;else if(l==="right")C=P(this.left),te=e.left,se=P(e.right)-x,z=C+x,q=this.left+v;else if(t==="x"){if(l==="center")C=P((e.top+e.bottom)/2+.5);else if(ve(l)){const fe=Object.keys(l)[0],ue=l[fe];C=P(this.chart.scales[fe].getPixelForValue(ue))}ie=e.top,we=e.bottom,U=C+x,Z=U+v}else if(t==="y"){if(l==="center")C=P((e.left+e.right)/2);else if(ve(l)){const fe=Object.keys(l)[0],ue=l[fe];C=P(this.chart.scales[fe].getPixelForValue(ue))}z=C-x,q=z-v,te=e.left,se=e.right}const Te=xe(o.ticks.maxTicksLimit,y),he=Math.max(1,Math.ceil(y/Te));for(R=0;R<y;R+=he){const fe=this.getContext(R),ue=a.setContext(fe),V=c.setContext(fe),G=ue.lineWidth,K=ue.color,M=V.dash||[],F=V.dashOffset,ae=ue.tickWidth,le=ue.tickColor,pe=ue.tickBorderDash||[],de=ue.tickBorderDashOffset;D=qS(this,R,h),D!==void 0&&(N=mr(i,D,G),f?z=q=te=se=N:U=Z=ie=we=N,w.push({tx1:z,ty1:U,tx2:q,ty2:Z,x1:te,y1:ie,x2:se,y2:we,width:G,color:K,borderDash:M,borderDashOffset:F,tickWidth:ae,tickColor:le,tickBorderDash:pe,tickBorderDashOffset:de}))}return this._ticksLength=y,this._borderValue=C,w}_computeLabelItems(e){const t=this.axis,i=this.options,{position:o,ticks:a}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:f,padding:g,mirror:y}=a,v=hs(i.grid),w=v+g,b=y?-g:w,k=-xn(this.labelRotation),x=[];let P,C,R,D,N,z,U,q,Z,te,ie,se,we="middle";if(o==="top")z=this.bottom-b,U=this._getXAxisLabelAlignment();else if(o==="bottom")z=this.top+b,U=this._getXAxisLabelAlignment();else if(o==="left"){const he=this._getYAxisLabelAlignment(v);U=he.textAlign,N=he.x}else if(o==="right"){const he=this._getYAxisLabelAlignment(v);U=he.textAlign,N=he.x}else if(t==="x"){if(o==="center")z=(e.top+e.bottom)/2+w;else if(ve(o)){const he=Object.keys(o)[0],fe=o[he];z=this.chart.scales[he].getPixelForValue(fe)+w}U=this._getXAxisLabelAlignment()}else if(t==="y"){if(o==="center")N=(e.left+e.right)/2-w;else if(ve(o)){const he=Object.keys(o)[0],fe=o[he];N=this.chart.scales[he].getPixelForValue(fe)}U=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(h==="start"?we="top":h==="end"&&(we="bottom"));const Te=this._getLabelSizes();for(P=0,C=c.length;P<C;++P){R=c[P],D=R.label;const he=a.setContext(this.getContext(P));q=this.getPixelForTick(P)+a.labelOffset,Z=this._resolveTickFontOptions(P),te=Z.lineHeight,ie=rt(D)?D.length:1;const fe=ie/2,ue=he.color,V=he.textStrokeColor,G=he.textStrokeWidth;let K=U;l?(N=q,U==="inner"&&(P===C-1?K=this.options.reverse?"left":"right":P===0?K=this.options.reverse?"right":"left":K="center"),o==="top"?f==="near"||k!==0?se=-ie*te+te/2:f==="center"?se=-Te.highest.height/2-fe*te+te:se=-Te.highest.height+te/2:f==="near"||k!==0?se=te/2:f==="center"?se=Te.highest.height/2-fe*te:se=Te.highest.height-ie*te,y&&(se*=-1),k!==0&&!he.showLabelBackdrop&&(N+=te/2*Math.sin(k))):(z=q,se=(1-ie)*te/2);let M;if(he.showLabelBackdrop){const F=Yt(he.backdropPadding),ae=Te.heights[P],le=Te.widths[P];let pe=se-F.top,de=0-F.left;switch(we){case"middle":pe-=ae/2;break;case"bottom":pe-=ae;break}switch(U){case"center":de-=le/2;break;case"right":de-=le;break;case"inner":P===C-1?de-=le:P>0&&(de-=le/2);break}M={left:de,top:pe,width:le+F.width,height:ae+F.height,color:he.backdropColor}}x.push({label:D,font:Z,textOffset:se,options:{rotation:k,color:ue,strokeColor:V,strokeWidth:G,textAlign:K,textBaseline:we,translation:[N,z],backdrop:M}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-xn(this.labelRotation))return e==="top"?"left":"right";let o="center";return t.align==="start"?o="left":t.align==="end"?o="right":t.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:o,padding:a}}=this.options,l=this._getLabelSizes(),c=e+a,h=l.widest.width;let f,g;return t==="left"?o?(g=this.right+a,i==="near"?f="left":i==="center"?(f="center",g+=h/2):(f="right",g+=h)):(g=this.right-c,i==="near"?f="right":i==="center"?(f="center",g-=h/2):(f="left",g=this.left)):t==="right"?o?(g=this.left+a,i==="near"?f="right":i==="center"?(f="center",g-=h/2):(f="left",g-=h)):(g=this.left+c,i==="near"?f="left":i==="center"?(f="center",g+=h/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:o,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,o,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const o=this.ticks.findIndex(a=>a.value===e);return o>=0?t.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const c=(h,f,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(a=0,l=o.length;a<l;++a){const h=o[a];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:o}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const c=o.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,g,y,v;this.isHorizontal()?(f=mr(e,this.left,l)-l/2,g=mr(e,this.right,c)+c/2,y=v=h):(y=mr(e,this.top,l)-l/2,v=mr(e,this.bottom,c)+c/2,f=g=h),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(f,y),t.lineTo(g,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&Bc(i,o);const a=this.getLabelItems(e);for(const l of a){const c=l.options,h=l.font,f=l.label,g=l.textOffset;Ca(i,f,0,g,h,c)}o&&Uc(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:o}}=this;if(!i.display)return;const a=xt(i.font),l=Yt(i.padding),c=i.align;let h=a.lineHeight/2;t==="bottom"||t==="center"||ve(t)?(h+=l.bottom,rt(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:g,maxWidth:y,rotation:v}=QS(this,h,t,c);Ca(e,i.text,0,0,a,{color:i.color,maxWidth:y,rotation:v,textAlign:XS(c,t,o),textBaseline:"middle",translation:[f,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=xe(e.grid&&e.grid.z,-1),o=xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==xi.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let a,l;for(a=0,l=t.length;a<l;++a){const c=t[a];c[i]===this.id&&(!e||c.type===e)&&o.push(c)}return o}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return xt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class oa{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;e1(t)&&(i=this.register(t));const o=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in o||(o[a]=e,JS(e,l,i),this.override&&Ue.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,o=this.scope;i in t&&delete t[i],o&&i in Ue[o]&&(delete Ue[o][i],this.override&&delete kr[i])}}function JS(n,e,t){const i=Ps(Object.create(null),[t?Ue.get(t):{},Ue.get(e),n.defaults]);Ue.set(e,i),n.defaultRoutes&&ZS(e,n.defaultRoutes),n.descriptors&&Ue.describe(e,n.descriptors)}function ZS(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),o=i.pop(),a=[n].concat(i).join("."),l=e[t].split("."),c=l.pop(),h=l.join(".");Ue.route(a,o,h,c)})}function e1(n){return"id"in n&&"defaults"in n}class t1{constructor(){this.controllers=new oa(Zm,"datasets",!0),this.elements=new oa(wi,"elements"),this.plugins=new oa(Object,"plugins"),this.scales=new oa(xi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(o=>{const a=i||this._getRegistryForType(o);i||a.isForType(o)||a===this.plugins&&o.id?this._exec(e,a,o):Se(o,l=>{const c=i||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,i){const o=zc(e);Me(i["before"+o],[],i),t[e](i),Me(i["after"+o],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const o=t.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}}var rn=new t1;class n1{constructor(){this._init=void 0}notify(e,t,i,o){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=o?this._descriptors(e).filter(o):this._descriptors(e),l=this._notify(a,e,t,i);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,i,o){o=o||{};for(const a of e){const l=a.plugin,c=l[i],h=[t,o,a.options];if(Me(c,h,l)===!1&&o.cancelable)return!1}return!0}invalidate(){ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,o=xe(i.options&&i.options.plugins,{}),a=r1(i);return o===!1&&!t?[]:s1(e,a,o,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,o=(a,l)=>a.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(o(t,i),e,"stop"),this._notify(o(i,t),e,"start")}}function r1(n){const e={},t=[],i=Object.keys(rn.plugins.items);for(let a=0;a<i.length;a++)t.push(rn.getPlugin(i[a]));const o=n.plugins||[];for(let a=0;a<o.length;a++){const l=o[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function i1(n,e){return!e&&n===!1?null:n===!0?{}:n}function s1(n,{plugins:e,localIds:t},i,o){const a=[],l=n.getContext();for(const c of e){const h=c.id,f=i1(i[h],o);f!==null&&a.push({plugin:c,options:o1(n.config,{plugin:c,local:t[h]},f,l)})}return a}function o1(n,{plugin:e,local:t},i,o){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(i,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function wc(n,e){const t=Ue.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function a1(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function l1(n,e){return n===e?"_index_":"_value_"}function gg(n){if(n==="x"||n==="y"||n==="r")return n}function u1(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function xc(n,...e){if(gg(n))return n;for(const t of e){const i=t.axis||u1(t.position)||n.length>1&&gg(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function mg(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function c1(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return mg(n,"x",t[0])||mg(n,"y",t[0])}return{}}function d1(n,e){const t=kr[n.type]||{scales:{}},i=e.scales||{},o=wc(n.type,e),a=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!ve(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=xc(l,c,c1(l,n),Ue.scales[c.type]),f=l1(h,o),g=t.scales||{};a[l]=xs(Object.create(null),[{axis:h},c,g[h],g[f]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,h=l.indexAxis||wc(c,e),g=(kr[c]||{}).scales||{};Object.keys(g).forEach(y=>{const v=a1(y,h),w=l[v+"AxisID"]||v;a[w]=a[w]||Object.create(null),xs(a[w],[{axis:v},i[w],g[y]])})}),Object.keys(a).forEach(l=>{const c=a[l];xs(c,[Ue.scales[c.type],Ue.scale])}),a}function sy(n){const e=n.options||(n.options={});e.plugins=xe(e.plugins,{}),e.scales=d1(n,e)}function oy(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function h1(n){return n=n||{},n.data=oy(n.data),sy(n),n}const yg=new Map,ay=new Set;function aa(n,e){let t=yg.get(n);return t||(t=e(),yg.set(n,t),ay.add(t)),t}const fs=(n,e,t)=>{const i=Ts(e,t);i!==void 0&&n.add(i)};class f1{constructor(e){this._config=h1(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=oy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),sy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return aa(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return aa(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return aa(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return aa(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let o=i.get(e);return(!o||t)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,t,i){const{options:o,type:a}=this,l=this._cachedScopes(e,i),c=l.get(t);if(c)return c;const h=new Set;t.forEach(g=>{e&&(h.add(e),g.forEach(y=>fs(h,e,y))),g.forEach(y=>fs(h,o,y)),g.forEach(y=>fs(h,kr[a]||{},y)),g.forEach(y=>fs(h,Ue,y)),g.forEach(y=>fs(h,_c,y))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),ay.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,kr[t]||{},Ue.datasets[t]||{},{type:t},Ue,_c]}resolveNamedOptions(e,t,i,o=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=vg(this._resolverCache,e,o);let h=l;if(g1(l,t)){a.$shared=!1,i=Qn(i)?i():i;const f=this.createResolver(e,i,c);h=fi(l,i,f)}for(const f of t)a[f]=h[f];return a}createResolver(e,t,i=[""],o){const{resolver:a}=vg(this._resolverCache,e,i);return ve(t)?fi(a,t,void 0,o):a}}function vg(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const o=t.join();let a=i.get(o);return a||(a={resolver:Hc(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},i.set(o,a)),a}const p1=n=>ve(n)&&Object.getOwnPropertyNames(n).some(e=>Qn(n[e]));function g1(n,e){const{isScriptable:t,isIndexable:i}=Vm(n);for(const o of e){const a=t(o),l=i(o),c=(l||a)&&n[o];if(a&&(Qn(c)||p1(c))||l&&rt(c))return!0}return!1}var m1="4.5.1";const y1=["top","bottom","left","right","chartArea"];function _g(n,e){return n==="top"||n==="bottom"||y1.indexOf(n)===-1&&e==="x"}function wg(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function xg(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Me(t&&t.onComplete,[n],e)}function v1(n){const e=n.chart,t=e.options.animation;Me(t&&t.onProgress,[n],e)}function ly(n){return Kc()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ga={},bg=n=>{const e=ly(n);return Object.values(ga).filter(t=>t.canvas===e).pop()};function _1(n,e,t){const i=Object.keys(n);for(const o of i){const a=+o;if(a>=e){const l=n[o];delete n[o],(t>0||a>e)&&(n[a+t]=l)}}}function w1(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}let Ia=class{static defaults=Ue;static instances=ga;static overrides=kr;static registry=rn;static version=m1;static getChart=bg;static register(...e){rn.add(...e),kg()}static unregister(...e){rn.remove(...e),kg()}constructor(e,t){const i=this.config=new f1(t),o=ly(e),a=bg(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||zS(o)),this.platform.updateConfig(i);const c=this.platform.acquireContext(o,l.aspectRatio),h=c&&c.canvas,f=h&&h.height,g=h&&h.width;if(this.id=Hb(),this.ctx=c,this.canvas=h,this.width=g,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new n1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=uk(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],ga[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}yn.listen(this,"complete",xg),yn.listen(this,"progress",v1),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:o,_aspectRatio:a}=this;return ze(e)?t&&a?a:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return rn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Qp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Kp(this.canvas,this.ctx),this}stop(){return yn.stop(this),this}resize(e,t){yn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,o=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(o,e,t,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Qp(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Me(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Se(t,(i,o)=>{i.id=o})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,o=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const c=t[l],h=xc(l,c),f=h==="r",g=h==="x";return{options:c,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),Se(a,l=>{const c=l.options,h=c.id,f=xc(h,c),g=xe(c.type,l.dtype);(c.position===void 0||_g(c.position,f)!==_g(l.dposition))&&(c.position=l.dposition),o[h]=!0;let y=null;if(h in i&&i[h].type===g)y=i[h];else{const v=rn.getScale(g);y=new v({id:h,type:g,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,e)}),Se(o,(l,c)=>{l||delete i[c]}),Se(i,l=>{Yn.configure(this,l,l.options),Yn.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((o,a)=>o.index-a.index),i>t){for(let o=t;o<i;++o)this._destroyDatasetMeta(o);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(wg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,o)=>{t.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=t.length;i<o;i++){const a=t[i];let l=this.getDatasetMeta(i);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=a.indexAxis||wc(c,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=rn.getController(c),{datasetElementType:f,dataElementType:g}=Ue.datasets[c];Object.assign(h,{dataElementType:rn.getElement(g),datasetElementType:f&&rn.getElement(f)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Se(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:y}=this.getDatasetMeta(f),v=!o&&a.indexOf(y)===-1;y.buildOrUpdateElements(v),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),o||Se(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(wg("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Se(this.scales,e=>{Yn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Np(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:a}of t){const l=i==="_removeElements"?-a:a;_1(e,o,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=a=>new Set(e.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),o=i(0);for(let a=1;a<t;a++)if(!Np(o,i(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Yn.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Se(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Qn(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),o={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(yn.has(this)?this.attached&&!yn.running(this)&&yn.start(this):(this.draw(),xg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let o,a;for(o=0,a=t.length;o<a;++o){const l=t[o];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},o=Yk(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&Bc(t,o),e.controller.draw(),o&&Uc(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Wm(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,o){const a=yS.modes[t];return typeof a=="function"?a(this,e,i,o):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let o=i.filter(a=>a&&a._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=_i(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const o=i?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,o);xa(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(a,{visible:i}),this.update(c=>c.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),yn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Kp(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ga[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},o=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};Se(this.options.events,a=>i(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,f)=>{t.addEventListener(this,h,f),e[h]=f},o=(h,f)=>{e[h]&&(t.removeEventListener(this,h,f),delete e[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const c=()=>{o("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),i("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){Se(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Se(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const o=i?"set":"remove";let a,l,c,h;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){l=e[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!_a(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const o=this.options.hover,a=(h,f)=>h.filter(g=>!f.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),l=a(t,e),c=i?e:a(e,t);l.length&&this.updateHoverStyle(l,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const a=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(a||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:o=[],options:a}=this,l=t,c=this._getActiveElements(e,o,i,l),h=Xb(e),f=w1(e,this._lastEvent,i,h);i&&(this._lastEvent=null,Me(a.onHover,[e,c,this],this),h&&Me(a.onClick,[e,c,this],this));const g=!_a(c,o);return(g||t)&&(this._active=c,this._updateHoverStyles(c,o,t)),this._lastEvent=f,g}_getActiveElements(e,t,i,o){if(e.type==="mouseout")return[];if(!i)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,o)}};function kg(){return Se(Ia.instances,n=>n._plugins.invalidate())}function x1(n,e,t){const{startAngle:i,x:o,y:a,outerRadius:l,innerRadius:c,options:h}=e,{borderWidth:f,borderJoinStyle:g}=h,y=Math.min(f/l,sn(i-t));if(n.beginPath(),n.arc(o,a,l-f/2,i+y/2,t-y/2),c>0){const v=Math.min(f/c,sn(i-t));n.arc(o,a,c+f/2,t-v/2,i+v/2,!0)}else{const v=Math.min(f/2,l*sn(i-t));if(g==="round")n.arc(o,a,v,t-Le/2,i+Le/2,!0);else if(g==="bevel"){const w=2*v*v,b=-w*Math.cos(t+Le/2)+o,k=-w*Math.sin(t+Le/2)+a,x=w*Math.cos(i+Le/2)+o,P=w*Math.sin(i+Le/2)+a;n.lineTo(b,k),n.lineTo(x,P)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function b1(n,e,t){const{startAngle:i,pixelMargin:o,x:a,y:l,outerRadius:c,innerRadius:h}=e;let f=o/c;n.beginPath(),n.arc(a,l,c,i-f,t+f),h>o?(f=o/h,n.arc(a,l,h,t+f,i-f,!0)):n.arc(a,l,o,t+Ge,i-Ge),n.closePath(),n.clip()}function k1(n){return Wc(n,["outerStart","outerEnd","innerStart","innerEnd"])}function S1(n,e,t,i){const o=k1(n.options.borderRadius),a=(t-e)/2,l=Math.min(a,i*e/2),c=h=>{const f=(t-Math.min(a,h))*i/2;return wt(h,0,Math.min(a,f))};return{outerStart:c(o.outerStart),outerEnd:c(o.outerEnd),innerStart:wt(o.innerStart,0,l),innerEnd:wt(o.innerEnd,0,l)}}function ai(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Oa(n,e,t,i,o,a){const{x:l,y:c,startAngle:h,pixelMargin:f,innerRadius:g}=e,y=Math.max(e.outerRadius+i+t-f,0),v=g>0?g+i+t+f:0;let w=0;const b=o-h;if(i){const he=g>0?g-i:0,fe=y>0?y-i:0,ue=(he+fe)/2,V=ue!==0?b*ue/(ue+i):b;w=(b-V)/2}const k=Math.max(.001,b*y-t/Le)/y,x=(b-k)/2,P=h+x+w,C=o-x-w,{outerStart:R,outerEnd:D,innerStart:N,innerEnd:z}=S1(e,v,y,C-P),U=y-R,q=y-D,Z=P+R/U,te=C-D/q,ie=v+N,se=v+z,we=P+N/ie,Te=C-z/se;if(n.beginPath(),a){const he=(Z+te)/2;if(n.arc(l,c,y,Z,he),n.arc(l,c,y,he,te),D>0){const G=ai(q,te,l,c);n.arc(G.x,G.y,D,te,C+Ge)}const fe=ai(se,C,l,c);if(n.lineTo(fe.x,fe.y),z>0){const G=ai(se,Te,l,c);n.arc(G.x,G.y,z,C+Ge,Te+Math.PI)}const ue=(C-z/v+(P+N/v))/2;if(n.arc(l,c,v,C-z/v,ue,!0),n.arc(l,c,v,ue,P+N/v,!0),N>0){const G=ai(ie,we,l,c);n.arc(G.x,G.y,N,we+Math.PI,P-Ge)}const V=ai(U,P,l,c);if(n.lineTo(V.x,V.y),R>0){const G=ai(U,Z,l,c);n.arc(G.x,G.y,R,P-Ge,Z)}}else{n.moveTo(l,c);const he=Math.cos(Z)*y+l,fe=Math.sin(Z)*y+c;n.lineTo(he,fe);const ue=Math.cos(te)*y+l,V=Math.sin(te)*y+c;n.lineTo(ue,V)}n.closePath()}function E1(n,e,t,i,o){const{fullCircles:a,startAngle:l,circumference:c}=e;let h=e.endAngle;if(a){Oa(n,e,t,i,h,o);for(let f=0;f<a;++f)n.fill();isNaN(c)||(h=l+(c%He||He))}return Oa(n,e,t,i,h,o),n.fill(),h}function C1(n,e,t,i,o){const{fullCircles:a,startAngle:l,circumference:c,options:h}=e,{borderWidth:f,borderJoinStyle:g,borderDash:y,borderDashOffset:v,borderRadius:w}=h,b=h.borderAlign==="inner";if(!f)return;n.setLineDash(y||[]),n.lineDashOffset=v,b?(n.lineWidth=f*2,n.lineJoin=g||"round"):(n.lineWidth=f,n.lineJoin=g||"bevel");let k=e.endAngle;if(a){Oa(n,e,t,i,k,o);for(let x=0;x<a;++x)n.stroke();isNaN(c)||(k=l+(c%He||He))}b&&b1(n,e,k),h.selfJoin&&k-l>=Le&&w===0&&g!=="miter"&&x1(n,e,k),a||(Oa(n,e,t,i,k,o),n.stroke())}class P1 extends wi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const o=this.getProps(["x","y"],i),{angle:a,distance:l}=Dm(o,{x:e,y:t}),{startAngle:c,endAngle:h,innerRadius:f,outerRadius:g,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,w=xe(y,h-c),b=Ea(a,c,h)&&c!==h,k=w>=He||b,x=xr(l,f+v,g+v);return k&&x}getCenterPoint(e){const{x:t,y:i,startAngle:o,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:f}=this.options,g=(o+a)/2,y=(l+c+f+h)/2;return{x:t+Math.cos(g)*y,y:i+Math.sin(g)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,o=(t.offset||0)/4,a=(t.spacing||0)/2,l=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>He?Math.floor(i/He):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*o,Math.sin(c)*o);const h=1-Math.sin(Math.min(Le,i||0)),f=o*h;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,E1(e,this,f,a,l),C1(e,this,f,a,l),e.restore()}}function uy(n,e){const{x:t,y:i,base:o,width:a,height:l}=n.getProps(["x","y","base","width","height"],e);let c,h,f,g,y;return n.horizontal?(y=l/2,c=Math.min(t,o),h=Math.max(t,o),f=i-y,g=i+y):(y=a/2,c=t-y,h=t+y,f=Math.min(i,o),g=Math.max(i,o)),{left:c,top:f,right:h,bottom:g}}function Gn(n,e,t,i){return n?0:wt(e,t,i)}function T1(n,e,t){const i=n.options.borderWidth,o=n.borderSkipped,a=Hm(i);return{t:Gn(o.top,a.top,0,t),r:Gn(o.right,a.right,0,e),b:Gn(o.bottom,a.bottom,0,t),l:Gn(o.left,a.left,0,e)}}function R1(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,a=ci(o),l=Math.min(e,t),c=n.borderSkipped,h=i||ve(o);return{topLeft:Gn(!h||c.top||c.left,a.topLeft,0,l),topRight:Gn(!h||c.top||c.right,a.topRight,0,l),bottomLeft:Gn(!h||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:Gn(!h||c.bottom||c.right,a.bottomRight,0,l)}}function O1(n){const e=uy(n),t=e.right-e.left,i=e.bottom-e.top,o=T1(n,t/2,i/2),a=R1(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:a},inner:{x:e.left+o.l,y:e.top+o.t,w:t-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}function nc(n,e,t,i){const o=e===null,a=t===null,c=n&&!(o&&a)&&uy(n,i);return c&&(o||xr(e,c.left,c.right))&&(a||xr(t,c.top,c.bottom))}function M1(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function L1(n,e){n.rect(e.x,e.y,e.w,e.h)}function rc(n,e,t={}){const i=n.x!==t.x?-e:0,o=n.y!==t.y?-e:0,a=(n.x+n.w!==t.x+t.w?e:0)-i,l=(n.y+n.h!==t.y+t.h?e:0)-o;return{x:n.x+i,y:n.y+o,w:n.w+a,h:n.h+l,radius:n.radius}}class j1 extends wi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:o}}=this,{inner:a,outer:l}=O1(this),c=M1(l.radius)?Pa:L1;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),c(e,rc(l,t,a)),e.clip(),c(e,rc(a,-t,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,rc(a,t)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,t,i){return nc(this,e,t,i)}inXRange(e,t){return nc(this,e,null,t)}inYRange(e,t){return nc(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:o,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+o)/2:t,y:a?i:(i+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const Sg=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},A1=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Eg extends wi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Me(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,o=xt(i.font),a=o.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=Sg(i,a);let f,g;t.font=o.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(l,a,c,h)+10):(g=this.maxHeight,f=this._fitCols(l,o,c,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,o){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],g=o+c;let y=e;a.textAlign="left",a.textBaseline="middle";let v=-1,w=-g;return this.legendItems.forEach((b,k)=>{const x=i+t/2+a.measureText(b.text).width;(k===0||f[f.length-1]+x+2*c>l)&&(y+=g,f[f.length-(k>0?0:1)]=0,w+=g,v++),h[k]={left:0,top:w,row:v,width:x,height:o},f[f.length-1]+=x+c}),y}_fitCols(e,t,i,o){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],g=l-e;let y=c,v=0,w=0,b=0,k=0;return this.legendItems.forEach((x,P)=>{const{itemWidth:C,itemHeight:R}=D1(i,t,a,x,o);P>0&&w+R+2*c>g&&(y+=v+c,f.push({width:v,height:w}),b+=v+c,k++,v=w=0),h[P]={left:b,top:w,col:k,width:C,height:R},v=Math.max(v,C),w+=R+c}),y+=v,f.push({width:v,height:w}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:o},rtl:a}}=this,l=di(a,this.left,this.width);if(this.isHorizontal()){let c=0,h=Pt(i,this.left+o,this.right-this.lineWidths[c]);for(const f of t)c!==f.row&&(c=f.row,h=Pt(i,this.left+o,this.right-this.lineWidths[c])),f.top+=this.top+e+o,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+o}else{let c=0,h=Pt(i,this.top+e+o,this.bottom-this.columnSizes[c].height);for(const f of t)f.col!==c&&(c=f.col,h=Pt(i,this.top+e+o,this.bottom-this.columnSizes[c].height)),f.top=h,f.left+=this.left+o,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Bc(e,this),this._draw(),Uc(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:o}=this,{align:a,labels:l}=e,c=Ue.color,h=di(e.rtl,this.left,this.width),f=xt(l.font),{padding:g}=l,y=f.size,v=y/2;let w;this.drawTitle(),o.textAlign=h.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=f.string;const{boxWidth:b,boxHeight:k,itemHeight:x}=Sg(l,y),P=function(z,U,q){if(isNaN(b)||b<=0||isNaN(k)||k<0)return;o.save();const Z=xe(q.lineWidth,1);if(o.fillStyle=xe(q.fillStyle,c),o.lineCap=xe(q.lineCap,"butt"),o.lineDashOffset=xe(q.lineDashOffset,0),o.lineJoin=xe(q.lineJoin,"miter"),o.lineWidth=Z,o.strokeStyle=xe(q.strokeStyle,c),o.setLineDash(xe(q.lineDash,[])),l.usePointStyle){const te={radius:k*Math.SQRT2/2,pointStyle:q.pointStyle,rotation:q.rotation,borderWidth:Z},ie=h.xPlus(z,b/2),se=U+v;Um(o,te,ie,se,l.pointStyleWidth&&b)}else{const te=U+Math.max((y-k)/2,0),ie=h.leftForLtr(z,b),se=ci(q.borderRadius);o.beginPath(),Object.values(se).some(we=>we!==0)?Pa(o,{x:ie,y:te,w:b,h:k,radius:se}):o.rect(ie,te,b,k),o.fill(),Z!==0&&o.stroke()}o.restore()},C=function(z,U,q){Ca(o,q.text,z,U+x/2,f,{strikethrough:q.hidden,textAlign:h.textAlign(q.textAlign)})},R=this.isHorizontal(),D=this._computeTitleHeight();R?w={x:Pt(a,this.left+g,this.right-i[0]),y:this.top+g+D,line:0}:w={x:this.left+g,y:Pt(a,this.top+D+g,this.bottom-t[0].height),line:0},Gm(this.ctx,e.textDirection);const N=x+g;this.legendItems.forEach((z,U)=>{o.strokeStyle=z.fontColor,o.fillStyle=z.fontColor;const q=o.measureText(z.text).width,Z=h.textAlign(z.textAlign||(z.textAlign=l.textAlign)),te=b+v+q;let ie=w.x,se=w.y;h.setWidth(this.width),R?U>0&&ie+te+g>this.right&&(se=w.y+=N,w.line++,ie=w.x=Pt(a,this.left+g,this.right-i[w.line])):U>0&&se+N>this.bottom&&(ie=w.x=ie+t[w.line].width+g,w.line++,se=w.y=Pt(a,this.top+D+g,this.bottom-t[w.line].height));const we=h.x(ie);if(P(we,se,z),ie=ck(Z,ie+b+v,R?ie+te:this.right,e.rtl),C(h.x(ie),se,z),R)w.x+=te+g;else if(typeof z.text!="string"){const Te=f.lineHeight;w.y+=cy(z,Te)+g}else w.y+=N}),Xm(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=xt(t.font),o=Yt(t.padding);if(!t.display)return;const a=di(e.rtl,this.left,this.width),l=this.ctx,c=t.position,h=i.size/2,f=o.top+h;let g,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),g=this.top+f,y=Pt(e.align,y,this.right-v);else{const b=this.columnSizes.reduce((k,x)=>Math.max(k,x.height),0);g=f+Pt(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const w=Pt(c,y,y+v);l.textAlign=a.textAlign(Fm(c)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=i.string,Ca(l,t.text,w,g,i)}_computeTitleHeight(){const e=this.options.title,t=xt(e.font),i=Yt(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,o,a;if(xr(e,this.left,this.right)&&xr(t,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(o=a[i],xr(e,o.left,o.left+o.width)&&xr(t,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!z1(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,a=A1(o,i);o&&!a&&Me(t.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!a&&Me(t.onHover,[e,i,this],this)}else i&&Me(t.onClick,[e,i,this],this)}}function D1(n,e,t,i,o){const a=I1(i,n,e,t),l=N1(o,i,e.lineHeight);return{itemWidth:a,itemHeight:l}}function I1(n,e,t,i){let o=n.text;return o&&typeof o!="string"&&(o=o.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+i.measureText(o).width}function N1(n,e,t){let i=n;return typeof e.text!="string"&&(i=cy(e,t)),i}function cy(n,e){const t=n.text?n.text.length:0;return e*t}function z1(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var F1={id:"legend",_element:Eg,start(n,e,t){const i=n.legend=new Eg({ctx:n.ctx,options:t,chart:n});Yn.configure(n,i,t),Yn.addBox(n,i)},stop(n){Yn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Yn.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,o=t.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:o,color:a,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(t?0:void 0),g=Yt(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:o||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const ys={average(n){if(!n.length)return!1;let e,t,i=new Set,o=0,a=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),o+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:o/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,o=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),g=rk(e,f);g<o&&(o=g,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function tn(n,e){return e&&(rt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function vn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function $1(n,e){const{element:t,datasetIndex:i,index:o}=e,a=n.getDatasetMeta(i).controller,{label:l,value:c}=a.getLabelAndValue(o);return{chart:n,label:l,parsed:a.getParsed(o),raw:n.data.datasets[i].data[o],formattedValue:c,dataset:a.getDataset(),dataIndex:o,datasetIndex:i,element:t}}function Cg(n,e){const t=n.chart.ctx,{body:i,footer:o,title:a}=n,{boxWidth:l,boxHeight:c}=e,h=xt(e.bodyFont),f=xt(e.titleFont),g=xt(e.footerFont),y=a.length,v=o.length,w=i.length,b=Yt(e.padding);let k=b.height,x=0,P=i.reduce((D,N)=>D+N.before.length+N.lines.length+N.after.length,0);if(P+=n.beforeBody.length+n.afterBody.length,y&&(k+=y*f.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),P){const D=e.displayColors?Math.max(c,h.lineHeight):h.lineHeight;k+=w*D+(P-w)*h.lineHeight+(P-1)*e.bodySpacing}v&&(k+=e.footerMarginTop+v*g.lineHeight+(v-1)*e.footerSpacing);let C=0;const R=function(D){x=Math.max(x,t.measureText(D).width+C)};return t.save(),t.font=f.string,Se(n.title,R),t.font=h.string,Se(n.beforeBody.concat(n.afterBody),R),C=e.displayColors?l+2+e.boxPadding:0,Se(i,D=>{Se(D.before,R),Se(D.lines,R),Se(D.after,R)}),C=0,t.font=g.string,Se(n.footer,R),t.restore(),x+=b.width,{width:x,height:k}}function B1(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function U1(n,e,t,i){const{x:o,width:a}=i,l=t.caretSize+t.caretPadding;if(n==="left"&&o+a+l>e.width||n==="right"&&o-a-l<0)return!0}function W1(n,e,t,i){const{x:o,width:a}=t,{width:l,chartArea:{left:c,right:h}}=n;let f="center";return i==="center"?f=o<=(c+h)/2?"left":"right":o<=a/2?f="left":o>=l-a/2&&(f="right"),U1(f,n,e,t)&&(f="center"),f}function Pg(n,e,t){const i=t.yAlign||e.yAlign||B1(n,t);return{xAlign:t.xAlign||e.xAlign||W1(n,e,t,i),yAlign:i}}function H1(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function V1(n,e,t){let{y:i,height:o}=n;return e==="top"?i+=t:e==="bottom"?i-=o+t:i-=o/2,i}function Tg(n,e,t,i){const{caretSize:o,caretPadding:a,cornerRadius:l}=n,{xAlign:c,yAlign:h}=t,f=o+a,{topLeft:g,topRight:y,bottomLeft:v,bottomRight:w}=ci(l);let b=H1(e,c);const k=V1(e,h,f);return h==="center"?c==="left"?b+=f:c==="right"&&(b-=f):c==="left"?b-=Math.max(g,v)+o:c==="right"&&(b+=Math.max(y,w)+o),{x:wt(b,0,i.width-e.width),y:wt(k,0,i.height-e.height)}}function la(n,e,t){const i=Yt(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Rg(n){return tn([],vn(n))}function q1(n,e,t){return _i(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Og(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const dy={beforeTitle:gn,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:gn,beforeBody:gn,beforeLabel:gn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return ze(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:gn,afterBody:gn,beforeFooter:gn,footer:gn,afterFooter:gn};function vt(n,e,t,i){const o=n[e].call(t,i);return typeof o>"u"?dy[e].call(t,i):o}class Mg extends wi{static positioners=ys;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&t.options.animation&&i.animations,a=new Qm(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=q1(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,o=vt(i,"beforeTitle",this,e),a=vt(i,"title",this,e),l=vt(i,"afterTitle",this,e);let c=[];return c=tn(c,vn(o)),c=tn(c,vn(a)),c=tn(c,vn(l)),c}getBeforeBody(e,t){return Rg(vt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,o=[];return Se(e,a=>{const l={before:[],lines:[],after:[]},c=Og(i,a);tn(l.before,vn(vt(c,"beforeLabel",this,a))),tn(l.lines,vt(c,"label",this,a)),tn(l.after,vn(vt(c,"afterLabel",this,a))),o.push(l)}),o}getAfterBody(e,t){return Rg(vt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,o=vt(i,"beforeFooter",this,e),a=vt(i,"footer",this,e),l=vt(i,"afterFooter",this,e);let c=[];return c=tn(c,vn(o)),c=tn(c,vn(a)),c=tn(c,vn(l)),c}_createItems(e){const t=this._active,i=this.chart.data,o=[],a=[],l=[];let c=[],h,f;for(h=0,f=t.length;h<f;++h)c.push($1(this.chart,t[h]));return e.filter&&(c=c.filter((g,y,v)=>e.filter(g,y,v,i))),e.itemSort&&(c=c.sort((g,y)=>e.itemSort(g,y,i))),Se(c,g=>{const y=Og(e.callbacks,g);o.push(vt(y,"labelColor",this,g)),a.push(vt(y,"labelPointStyle",this,g)),l.push(vt(y,"labelTextColor",this,g))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const i=this.options.setContext(this.getContext()),o=this._active;let a,l=[];if(!o.length)this.opacity!==0&&(a={opacity:0});else{const c=ys[i.position].call(this,o,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=Cg(this,i),f=Object.assign({},c,h),g=Pg(this.chart,i,f),y=Tg(i,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,o){const a=this.getCaretPosition(e,i,o);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,i){const{xAlign:o,yAlign:a}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:y}=ci(c),{x:v,y:w}=e,{width:b,height:k}=t;let x,P,C,R,D,N;return a==="center"?(D=w+k/2,o==="left"?(x=v,P=x-l,R=D+l,N=D-l):(x=v+b,P=x+l,R=D-l,N=D+l),C=x):(o==="left"?P=v+Math.max(h,g)+l:o==="right"?P=v+b-Math.max(f,y)-l:P=this.caretX,a==="top"?(R=w,D=R-l,x=P-l,C=P+l):(R=w+k,D=R+l,x=P+l,C=P-l),N=R),{x1:x,x2:P,x3:C,y1:R,y2:D,y3:N}}drawTitle(e,t,i){const o=this.title,a=o.length;let l,c,h;if(a){const f=di(i.rtl,this.x,this.width);for(e.x=la(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",l=xt(i.titleFont),c=i.titleSpacing,t.fillStyle=i.titleColor,t.font=l.string,h=0;h<a;++h)t.fillText(o[h],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,h+1===a&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,t,i,o,a){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,g=xt(a.bodyFont),y=la(this,"left",a),v=o.x(y),w=h<g.lineHeight?(g.lineHeight-h)/2:0,b=t.y+w;if(a.usePointStyle){const k={radius:Math.min(f,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},x=o.leftForLtr(v,f)+f/2,P=b+h/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Yp(e,k,x,P),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Yp(e,k,x,P)}else{e.lineWidth=ve(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const k=o.leftForLtr(v,f),x=o.leftForLtr(o.xPlus(v,1),f-2),P=ci(l.borderRadius);Object.values(P).some(C=>C!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Pa(e,{x:k,y:b,w:f,h,radius:P}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Pa(e,{x,y:b+1,w:f-2,h:h-2,radius:P}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(k,b,f,h),e.strokeRect(k,b,f,h),e.fillStyle=l.backgroundColor,e.fillRect(x,b+1,f-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:o}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:f,boxPadding:g}=i,y=xt(i.bodyFont);let v=y.lineHeight,w=0;const b=di(i.rtl,this.x,this.width),k=function(q){t.fillText(q,b.x(e.x+w),e.y+v/2),e.y+=v+a},x=b.textAlign(l);let P,C,R,D,N,z,U;for(t.textAlign=l,t.textBaseline="middle",t.font=y.string,e.x=la(this,x,i),t.fillStyle=i.bodyColor,Se(this.beforeBody,k),w=c&&x!=="right"?l==="center"?f/2+g:f+2+g:0,D=0,z=o.length;D<z;++D){for(P=o[D],C=this.labelTextColors[D],t.fillStyle=C,Se(P.before,k),R=P.lines,c&&R.length&&(this._drawColorBox(t,e,D,b,i),v=Math.max(y.lineHeight,h)),N=0,U=R.length;N<U;++N)k(R[N]),v=y.lineHeight;Se(P.after,k)}w=0,v=y.lineHeight,Se(this.afterBody,k),e.y-=a}drawFooter(e,t,i){const o=this.footer,a=o.length;let l,c;if(a){const h=di(i.rtl,this.x,this.width);for(e.x=la(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",l=xt(i.footerFont),t.fillStyle=i.footerColor,t.font=l.string,c=0;c<a;++c)t.fillText(o[c],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,t,i,o){const{xAlign:a,yAlign:l}=this,{x:c,y:h}=e,{width:f,height:g}=i,{topLeft:y,topRight:v,bottomLeft:w,bottomRight:b}=ci(o.cornerRadius);t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.beginPath(),t.moveTo(c+y,h),l==="top"&&this.drawCaret(e,t,i,o),t.lineTo(c+f-v,h),t.quadraticCurveTo(c+f,h,c+f,h+v),l==="center"&&a==="right"&&this.drawCaret(e,t,i,o),t.lineTo(c+f,h+g-b),t.quadraticCurveTo(c+f,h+g,c+f-b,h+g),l==="bottom"&&this.drawCaret(e,t,i,o),t.lineTo(c+w,h+g),t.quadraticCurveTo(c,h+g,c,h+g-w),l==="center"&&a==="left"&&this.drawCaret(e,t,i,o),t.lineTo(c,h+y),t.quadraticCurveTo(c,h,c+y,h),t.closePath(),t.fill(),o.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,o=i&&i.x,a=i&&i.y;if(o||a){const l=ys[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Cg(this,e),h=Object.assign({},l,this._size),f=Pg(t,e,h),g=Tg(e,h,f,t);(o._to!==g.x||a._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Yt(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,o,t),Gm(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Xm(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,o=e.map(({datasetIndex:c,index:h})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[h],index:h}}),a=!_a(i,o),l=this._positionChanged(o,t);(a||l)&&(this._active=o,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,i),c=this._positionChanged(l,e),h=t||!_a(l,a)||c;return h&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,o){const a=this.options;if(e.type==="mouseout")return[];if(!o)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:i,caretY:o,options:a}=this,l=ys[a.position].call(this,e,t);return l!==!1&&(i!==l.x||o!==l.y)}}var K1={id:"tooltip",_element:Mg,positioners:ys,afterInit(n,e,t){t&&(n.tooltip=new Mg({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:dy},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Y1=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function G1(n,e,t,i){const o=n.indexOf(e);if(o===-1)return Y1(n,e,t,i);const a=n.lastIndexOf(e);return o!==a?t:o}const X1=(n,e)=>n===null?null:wt(Math.round(n),0,e);function Lg(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Q1 extends xi{static id="category";static defaults={ticks:{callback:Lg}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:o,label:a}of t)i[o]===a&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ze(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:G1(i,e,xe(t,e),this._addedLabels),X1(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,o=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=t;l++)o.push({value:l});return o}getLabelForValue(e){return Lg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function J1(n,e){const t=[],{bounds:o,step:a,min:l,max:c,precision:h,count:f,maxTicks:g,maxDigits:y,includeBounds:v}=n,w=a||1,b=g-1,{min:k,max:x}=e,P=!ze(l),C=!ze(c),R=!ze(f),D=(x-k)/(y+1);let N=Fp((x-k)/b/w)*w,z,U,q,Z;if(N<1e-14&&!P&&!C)return[{value:k},{value:x}];Z=Math.ceil(x/N)-Math.floor(k/N),Z>b&&(N=Fp(Z*N/b/w)*w),ze(h)||(z=Math.pow(10,h),N=Math.ceil(N*z)/z),o==="ticks"?(U=Math.floor(k/N)*N,q=Math.ceil(x/N)*N):(U=k,q=x),P&&C&&a&&ek((c-l)/a,N/1e3)?(Z=Math.round(Math.min((c-l)/N,g)),N=(c-l)/Z,U=l,q=c):R?(U=P?l:U,q=C?c:q,Z=f-1,N=(q-U)/Z):(Z=(q-U)/N,fa(Z,Math.round(Z),N/1e3)?Z=Math.round(Z):Z=Math.ceil(Z));const te=Math.max($p(N),$p(U));z=Math.pow(10,ze(h)?te:h),U=Math.round(U*z)/z,q=Math.round(q*z)/z;let ie=0;for(P&&(v&&U!==l?(t.push({value:l}),U<l&&ie++,fa(Math.round((U+ie*N)*z)/z,l,jg(l,D,n))&&ie++):U<l&&ie++);ie<Z;++ie){const se=Math.round((U+ie*N)*z)/z;if(C&&se>c)break;t.push({value:se})}return C&&v&&q!==c?t.length&&fa(t[t.length-1].value,c,jg(c,D,n))?t[t.length-1].value=c:t.push({value:c}):(!C||q===c)&&t.push({value:q}),t}function jg(n,e,{horizontal:t,minRotation:i}){const o=xn(i),a=(t?Math.sin(o):Math.cos(o))||.001,l=.75*e*(""+n).length;return Math.min(e/a,l)}class Z1 extends xi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ze(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:o,max:a}=this;const l=h=>o=t?o:h,c=h=>a=i?a:h;if(e){const h=ka(o),f=ka(a);h<0&&f<0?c(0):h>0&&f>0&&l(0)}if(o===a){let h=a===0?1:Math.abs(a*.05);c(a+h),e||l(o-h)}this.min=o,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),t=t||11),t&&(o=Math.min(t,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=J1(o,a);return e.bounds==="ticks"&&tk(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const o=(i-t)/Math.max(e.length-1,1)/2;t-=o,i+=o}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return $c(e,this.chart.options.locale,this.options.ticks.format)}}class eE extends Z1{static id="linear";static defaults={ticks:{callback:Bm.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=zt(e)?e:0,this.max=zt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=xn(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Na={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_t=Object.keys(Na);function Ag(n,e){return n-e}function Dg(n,e){if(ze(e))return null;const t=n._adapter,{parser:i,round:o,isoWeekday:a}=n._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),zt(l)||(l=typeof i=="string"?t.parse(l,i):t.parse(l)),l===null?null:(o&&(l=o==="week"&&(Sa(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,o)),+l)}function Ig(n,e,t,i){const o=_t.length;for(let a=_t.indexOf(n);a<o-1;++a){const l=Na[_t[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=i)return _t[a]}return _t[o-1]}function tE(n,e,t,i,o){for(let a=_t.length-1;a>=_t.indexOf(t);a--){const l=_t[a];if(Na[l].common&&n._adapter.diff(o,i,l)>=e-1)return l}return _t[t?_t.indexOf(t):0]}function nE(n){for(let e=_t.indexOf(n)+1,t=_t.length;e<t;++e)if(Na[_t[e]].common)return _t[e]}function Ng(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:o}=Fc(t,e),a=t[i]>=e?t[i]:t[o];n[a]=!0}}function rE(n,e,t,i){const o=n._adapter,a=+o.startOf(e[0].value,i),l=e[e.length-1].value;let c,h;for(c=a;c<=l;c=+o.add(c,1,i))h=t[c],h>=0&&(e[h].major=!0);return e}function zg(n,e,t){const i=[],o={},a=e.length;let l,c;for(l=0;l<a;++l)c=e[l],o[c]=l,i.push({value:c,major:!1});return a===0||!t?i:rE(n,i,o,t)}class Fg extends xi{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),o=this._adapter=new hS._date(e.adapters.date);o.init(t),xs(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Dg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:o,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(o=Math.min(o,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!c)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),o=zt(o)&&!isNaN(o)?o:+t.startOf(Date.now(),i),a=zt(a)&&!isNaN(a)?a:+t.endOf(Date.now(),i)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,l=this.max,c=ok(o,a,l);return this._unit=t.unit||(i.autoSkip?Ig(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):tE(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:nE(this._unit),this.initOffsets(o),e.reverse&&c.reverse(),zg(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,o,a;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?t=1-o:t=(this.getDecimalForValue(e[1])-o)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=wt(t,0,l),i=wt(i,0,l),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,o=this.options,a=o.time,l=a.unit||Ig(a.minUnit,t,i,this._getLabelCapacity(t)),c=xe(o.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=Sa(h)||h===!0,g={};let y=t,v,w;if(f&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,f?"day":l),e.diff(i,t,l)>1e5*c)throw new Error(t+" and "+i+" are too far apart with stepSize of "+c+" "+l);const b=o.ticks.source==="data"&&this.getDataTimestamps();for(v=y,w=0;v<i;v=+e.add(v,c,l),w++)Ng(g,v,b);return(v===i||o.bounds==="ticks"||w===1)&&Ng(g,v,b),Object.keys(g).sort(Ag).map(k=>+k)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const o=this.options.time.displayFormats,a=this._unit,l=t||o[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,i,o){const a=this.options,l=a.ticks.callback;if(l)return Me(l,[e,t,i],this);const c=a.time.displayFormats,h=this._unit,f=this._majorUnit,g=h&&c[h],y=f&&c[f],v=i[t],w=f&&y&&v&&v.major;return this._adapter.format(e,o||(w?y:g))}generateTickLabels(e){let t,i,o;for(t=0,i=e.length;t<i;++t)o=e[t],o.label=this._tickFormatFunction(o.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,o=xn(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(o),l=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*l,h:i*l+c*a}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,o=i[t.unit]||i.millisecond,a=this._tickFormatFunction(e,0,zg(this,[e],this._majorUnit),o),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(t=0,i=o.length;t<i;++t)e=e.concat(o[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const o=this.getLabels();for(t=0,i=o.length;t<i;++t)e.push(Dg(this,o[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return lk(e.sort(Ag))}}function ua(n,e,t){let i=0,o=n.length-1,a,l,c,h;t?(e>=n[i].pos&&e<=n[o].pos&&({lo:i,hi:o}=vc(n,"pos",e)),{pos:a,time:c}=n[i],{pos:l,time:h}=n[o]):(e>=n[i].time&&e<=n[o].time&&({lo:i,hi:o}=vc(n,"time",e)),{time:a,pos:c}=n[i],{time:l,pos:h}=n[o]);const f=l-a;return f?c+(h-c)*(e-a)/f:c}class ME extends Fg{static id="timeseries";static defaults=Fg.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ua(t,this.min),this._tableRange=ua(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,o=[],a=[];let l,c,h,f,g;for(l=0,c=e.length;l<c;++l)f=e[l],f>=t&&f<=i&&o.push(f);if(o.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,c=o.length;l<c;++l)g=o[l+1],h=o[l-1],f=o[l],Math.round((g+h)/2)!==f&&a.push({time:f,pos:l/(c-1)});return a}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((o,a)=>o-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(ua(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return ua(this._table,i*this._tableRange+this._minPos,!0)}}const hy="label";function $g(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function iE(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function fy(n,e){n.labels=e}function py(n,e,t=hy){const i=[];n.datasets=e.map(o=>{const a=n.datasets.find(l=>l[t]===o[t]);return!a||!o.data||i.includes(a)?{...o}:(i.push(a),Object.assign(a,o),a)})}function sE(n,e=hy){const t={labels:[],datasets:[]};return fy(t,n.labels),py(t,n.datasets,e),t}function oE(n,e){const{height:t=150,width:i=300,redraw:o=!1,datasetIdKey:a,type:l,data:c,options:h,plugins:f=[],fallbackContent:g,updateMode:y,...v}=n,w=O.useRef(null),b=O.useRef(null),k=()=>{w.current&&(b.current=new Ia(w.current,{type:l,data:sE(c,a),options:h&&{...h},plugins:f}),$g(e,b.current))},x=()=>{$g(e,null),b.current&&(b.current.destroy(),b.current=null)};return O.useEffect(()=>{!o&&b.current&&h&&iE(b.current,h)},[o,h]),O.useEffect(()=>{!o&&b.current&&fy(b.current.config.data,c.labels)},[o,c.labels]),O.useEffect(()=>{!o&&b.current&&c.datasets&&py(b.current.config.data,c.datasets,a)},[o,c.datasets]),O.useEffect(()=>{b.current&&(o?(x(),setTimeout(k)):b.current.update(y))},[o,h,c.labels,c.datasets,y]),O.useEffect(()=>{b.current&&(x(),setTimeout(k))},[l]),O.useEffect(()=>(k(),()=>x()),[]),j.jsx("canvas",{ref:w,role:"img",height:t,width:i,...v,children:g})}const aE=O.forwardRef(oE);function lE(n,e){return Ia.register(e),O.forwardRef((t,i)=>j.jsx(aE,{...t,ref:i,type:n}))}const uE=lE("pie",dS);Ia.register(P1,j1,Q1,eE,K1,F1);function cE(){const[n,e]=O.useState({users:0,poems:0,submissions:0,feedback:0}),[t,i]=O.useState({}),[o,a]=O.useState(""),[l,c]=O.useState(""),{promoteToDeveloper:h}=vi();O.useEffect(()=>{const g=async()=>{const{data:w,error:b}=await et.from("user_profiles").select("user_id",{count:"exact"});b&&console.error("Error fetching users",b);const{data:k,error:x}=await et.from("poems").select("id",{count:"exact"});x&&console.error("Error fetching poems",x);const{data:P,error:C}=await et.from("community_submissions").select("id",{count:"exact"});C&&console.error("Error fetching submissions",C);const{data:R,error:D}=await et.from("feedback").select("id",{count:"exact"});D&&console.error("Error fetching feedback",D),e({users:w?.length||0,poems:k?.length||0,submissions:P?.length||0,feedback:R?.length||0})},y=async()=>{const{data:w,error:b}=await et.from("feedback").select("category");if(b){console.error("Error fetching feedback by category",b);return}const k=w.reduce((x,{category:P})=>(x[P]=(x[P]||0)+1,x),{});i(k)};g(),y();const v=et.channel("developer-dashboard").on("postgres_changes",{event:"*",schema:"public"},w=>{g(),y()}).subscribe();return()=>{v.unsubscribe()}},[]);const f=async()=>{if(!o)return;const{error:g}=await h(o);g?c(`Error promoting user: ${g.message}`):(c(`User ${o} has been promoted to developer.`),a(""))};return j.jsxs("div",{className:"p-8",children:[j.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Developer Dashboard"}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[j.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[j.jsx("h3",{className:"text-lg font-semibold",children:"Total Users"}),j.jsx("p",{className:"text-3xl",children:n.users})]}),j.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[j.jsx("h3",{className:"text-lg font-semibold",children:"Total Poems"}),j.jsx("p",{className:"text-3xl",children:n.poems})]}),j.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[j.jsx("h3",{className:"text-lg font-semibold",children:"Total Submissions"}),j.jsx("p",{className:"text-3xl",children:n.submissions})]}),j.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[j.jsx("h3",{className:"text-lg font-semibold",children:"Total Feedback"}),j.jsx("p",{className:"text-3xl",children:n.feedback})]})]}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[j.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[j.jsx("h3",{className:"text-lg font-semibold",children:"Feedback by Category"}),j.jsx(uE,{data:{labels:Object.keys(t),datasets:[{data:Object.values(t),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0"]}]}})]}),j.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[j.jsx("h3",{className:"text-lg font-semibold",children:"Promote User to Developer"}),j.jsxs("div",{className:"flex flex-col space-y-2",children:[j.jsx("input",{type:"text",placeholder:"Enter User ID",value:o,onChange:g=>a(g.target.value),className:"p-2 border rounded"}),j.jsx("button",{onClick:f,className:"p-2 bg-blue-500 text-white rounded",children:"Promote"})]}),l&&j.jsx("p",{className:"mt-4 text-sm",children:l})]})]})]})}function dE(){const[n,e]=O.useState(""),[t,i]=O.useState(""),[o,a]=O.useState(""),[l,c]=O.useState(null),{signIn:h,user:f,userProfile:g}=vi(),y=async v=>{v.preventDefault(),c(null);const{error:w}=await h(n,t,o);w&&c(w.message)};return f&&g?.is_developer?j.jsx(nm,{to:"/developer/dashboard"}):j.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:j.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md",children:[j.jsx("h2",{className:"text-2xl font-bold text-center",children:"Developer Login"}),j.jsxs("form",{onSubmit:y,className:"space-y-6",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-600",children:"Email"}),j.jsx("input",{type:"email",value:n,onChange:v=>e(v.target.value),className:"w-full px-4 py-2 text-gray-700 bg-gray-200 rounded-lg focus:outline-none focus:bg-white",required:!0})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-600",children:"Password"}),j.jsx("input",{type:"password",value:t,onChange:v=>i(v.target.value),className:"w-full px-4 py-2 text-gray-700 bg-gray-200 rounded-lg focus:outline-none focus:bg-white",required:!0})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-600",children:"Phone Number (UK)"}),j.jsxs("div",{className:"flex items-center",children:[j.jsx("span",{className:"inline-flex items-center px-3 text-sm text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600",children:"+44"}),j.jsx("input",{type:"tel",value:o,onChange:v=>a(v.target.value),className:"w-full px-4 py-2 text-gray-700 bg-gray-200 rounded-r-lg focus:outline-none focus:bg-white",required:!0})]})]}),l&&j.jsx("p",{className:"text-sm text-red-500",children:l}),j.jsx("div",{children:j.jsx("button",{type:"submit",className:"w-full px-4 py-2 font-bold text-white bg-blue-500 rounded-lg hover:bg-blue-600 focus:outline-none",children:"Login"})})]})]})})}const hE=O.lazy(()=>Tt(()=>import("./PoemEditor-B0uvt4RP.js"),__vite__mapDeps([0,1]))),fE=O.lazy(()=>Tt(()=>import("./Library-Dkq0PjAF.js"),__vite__mapDeps([2,3,4,5,1,6]))),pE=O.lazy(()=>Tt(()=>import("./Analytics-BHO_kimZ.js"),__vite__mapDeps([7,8,9]))),gE=O.lazy(()=>Tt(()=>import("./Settings-oqfgpFzH.js"),__vite__mapDeps([10,11,6]))),mE=O.lazy(()=>Tt(()=>import("./Discover-DdYF_rfw.js"),__vite__mapDeps([12,6,5,8]))),yE=O.lazy(()=>Tt(()=>import("./Prompts-7ht-2dsE.js"),__vite__mapDeps([13,3,9]))),vE=O.lazy(()=>Tt(()=>import("./Forms-YRc0Y6oZ.js"),__vite__mapDeps([14,4]))),_E=O.lazy(()=>Tt(()=>import("./Submissions-BtsmWVmh.js"),__vite__mapDeps([15,3,11,6]))),wE=({children:n})=>{const{user:e,userProfile:t,loading:i}=vi();return i?j.jsx("div",{children:"Loading..."}):!e||!t?.is_developer?j.jsx(nm,{to:"/developer-login"}):n};function xE(){const{user:n,loading:e}=vi();return e?j.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center",children:j.jsxs("div",{className:"flex flex-col items-center gap-4",children:[j.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),j.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Loading..."})]})}):j.jsxs(w_,{children:[j.jsx(ca,{path:"/developer-login",element:j.jsx(dE,{})}),j.jsx(ca,{path:"/developer/dashboard",element:j.jsx(wE,{children:j.jsx(cE,{})})}),j.jsx(ca,{path:"/*",element:n?j.jsx(bE,{}):j.jsx(wb,{})})]})}function bE(){const[n,e]=O.useState("library"),[t,i]=O.useState(null),o=O.useCallback(()=>{i(null),e("write")},[]),a=O.useCallback(c=>{i(c),e("write")},[]),l=O.useCallback(()=>{i(null),e("library")},[]);return j.jsx(xb,{currentView:n,onViewChange:e,children:j.jsxs(O.Suspense,{fallback:j.jsx("div",{className:"flex items-center justify-center h-full",children:j.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Loading..."})}),children:[n==="write"&&j.jsx(hE,{selectedPoemId:t,onBack:l}),n==="library"&&j.jsx(fE,{onNewPoem:o,onEditPoem:a}),n==="discover"&&j.jsx(mE,{}),n==="prompts"&&j.jsx(yE,{onUsePrompt:c=>{e("write"),i(null)}}),n==="forms"&&j.jsx(vE,{onSelectForm:c=>{e("write"),i(null)}}),n==="submissions"&&j.jsx(_E,{}),n==="analytics"&&j.jsx(pE,{}),n==="settings"&&j.jsx(gE,{})]})})}function kE(){return j.jsx(H_,{children:j.jsx(ib,{children:j.jsx(rb,{children:j.jsx(xE,{})})})})}function SE(){if("serviceWorker"in navigator)try{window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(n=>{console.log("Service Worker registered:",n),n.addEventListener("updatefound",()=>{const e=n.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&confirm("New version available! Reload to update?")&&window.location.reload()})})}).catch(n=>{console.warn("Service Worker registration failed:",n)})})}catch(n){console.warn("Service Worker not supported:",n)}}xv.createRoot(document.getElementById("root")).render(j.jsx(O.StrictMode,{children:j.jsx(kE,{})}));SE();export{ub as B,db as D,fb as L,gb as M,mb as P,_b as S,Mp as X,sb as a,yb as b,dt as c,j,O as r,et as s,vi as u};
